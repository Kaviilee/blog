{"meta":{"title":"Kaviilee's blog","subtitle":null,"description":"å”¯æœ‰çŸ¥è¯†ä¸ç¦»ä¸å¼ƒ","author":"kaviilee","url":"https://kaviilee.github.io/blog","root":"/blog/"},"pages":[{"title":"404 Not Found","date":"2022-04-23T06:02:38.005Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"404.html","permalink":"https://kaviilee.github.io/blog/404.html","excerpt":"","text":"404 å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2022-04-23T06:02:38.005Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"categories/index.html","permalink":"https://kaviilee.github.io/blog/categories/index.html","excerpt":"","text":""},{"title":"å…³äº","date":"2022-04-23T06:02:38.005Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"about/index.html","permalink":"https://kaviilee.github.io/blog/about/index.html","excerpt":"","text":"95å åœ¨èŒç å†œ æƒ³å›è€å®¶ç§ç”° _(:Ğ·ã‚âˆ ) _ æŒç»­æ›´æ–°â€¦ ä¸€ç‚¹è®¡åˆ’ å°ç¨‹åºå¼€å‘ å…¨æ ˆä¹‹è·¯"},{"title":"essays","date":"2019-09-07T15:08:39.000Z","updated":"2022-04-23T06:02:38.005Z","comments":false,"path":"essays/index.html","permalink":"https://kaviilee.github.io/blog/essays/index.html","excerpt":"","text":""},{"title":"æˆ‘çš„æœ‹å‹ä»¬","date":"2022-04-23T06:02:38.005Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"friends/index.html","permalink":"https://kaviilee.github.io/blog/friends/index.html","excerpt":"ğŸ“¢ å‹æƒ…é“¾æ¥","text":"ğŸ“¢ å‹æƒ…é“¾æ¥ ğŸ“¢ å‹é“¾æ ¼å¼ åšå®¢åï¼šKaviilee åœ°å€ï¼šhttps://kaviilee.github.io/blog/ å¤´åƒï¼šhttps://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/custom/papalymo.jpg ç®€ä»‹ï¼šå”¯æœ‰çŸ¥è¯†ä¸ç¦»ä¸å¼ƒ å‹é“¾ä¸ç„¶åˆ†å…ˆåé¡ºåº åœ¨ä¸‹æ–¹ç•™è¨€æ¿ç•™è¨€ï¼Œæ ¼å¼å¦‚ä¸Š ç”³è¯·å‹é“¾æ—¶è®°å¾—å…ˆæŠŠæœ¬ç«™æŒ‚ä¸ºå‹é“¾å“¦~"},{"title":"","date":"2022-04-23T06:02:38.005Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"mylist/index.html","permalink":"https://kaviilee.github.io/blog/mylist/index.html","excerpt":"","text":""},{"title":"è¯´è¯´","date":"2022-04-23T06:02:38.005Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"shuoshuo/index.html","permalink":"https://kaviilee.github.io/blog/shuoshuo/index.html","excerpt":"","text":"new Artitalk({ appId: 'BreaVvx97UMIMsnq4bAaUDuG-MdYXbMMI', appKey: '2F8UD2LPgYvYQM9OOD5X4CJV' })"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2022-04-23T06:02:38.005Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"tags/index.html","permalink":"https://kaviilee.github.io/blog/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ä¸€äº›jså°æŠ€å·§","slug":"ä¸€äº›jså°æŠ€å·§","date":"2022-04-23T11:42:07.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2022/04/23/ä¸€äº›jså°æŠ€å·§/","link":"","permalink":"https://kaviilee.github.io/blog/2022/04/23/%E4%B8%80%E4%BA%9Bjs%E5%B0%8F%E6%8A%80%E5%B7%A7/","excerpt":"è®°å½•ä¸€äº›jsçš„å°æŠ€å·§ã€‚","text":"è®°å½•ä¸€äº›jsçš„å°æŠ€å·§ã€‚ ä¸€äº›jså°æŠ€å·§æ“ä½œURLæŸ¥è¯¢å‚æ•°const params = new URLSearchParams(location.search); // location.search = '?key=dd&amp;value=kk'params.has('key'); // trueparams.get('value'); // kk å–æ•´ ä»£æ›¿æ­£æ•°çš„ Math.floor()ï¼Œä»£æ›¿è´Ÿæ•°çš„ Math.ceil() const num1 = ~~2.3;const num2 = 2.3 | 0;const num3 = 2.3 &gt;&gt; 0; çŸ­è·¯è¿ç®—const a = d &amp;&amp; 1; // æ»¡è¶³æ¡ä»¶èµ‹å€¼ï¼šå–å‡è¿ç®—ï¼Œä»å·¦åˆ°å³ä¾æ¬¡åˆ¤æ–­ï¼Œé‡åˆ°å‡å€¼è¿”å›å‡å€¼ï¼Œåé¢ä¸å†æ‰§è¡Œï¼Œå¦åˆ™è¿”å›æœ€åä¸€ä¸ªçœŸå€¼const b = d || 1; // é»˜è®¤èµ‹å€¼ï¼šå–çœŸè¿ç®—ï¼Œä»å·¦åˆ°å³ä¾æ¬¡åˆ¤æ–­ï¼Œé‡åˆ°çœŸå€¼è¿”å›çœŸå€¼ï¼Œåé¢ä¸å†æ‰§è¡Œï¼Œå¦åˆ™è¿”å›æœ€åä¸€ä¸ªå‡å€¼const c = !d; // å–å‡èµ‹å€¼ï¼šå•ä¸ªè¡¨è¾¾å¼è½¬æ¢ä¸ºtrueåˆ™è¿”å›falseï¼Œå¦åˆ™è¿”å›true åˆ¤æ–­ç©ºå¯¹è±¡const obj = &#123;&#125;;const flag = !Object.keys(obj).length; // true æ»¡è¶³æ¡ä»¶æ—¶æ‰§è¡Œconst flagA = true; // æ¡ä»¶Aconst flagB = false; // æ¡ä»¶B(flagA || flagB) &amp;&amp; Func(); // æ»¡è¶³Aæˆ–Bæ—¶æ‰§è¡Œ(flagA || !flagB) &amp;&amp; Func(); // æ»¡è¶³Aæˆ–ä¸æ»¡è¶³Bæ—¶æ‰§è¡ŒflagA &amp;&amp; flagB &amp;&amp; Func(); // åŒæ—¶æ»¡è¶³Aå’ŒBæ—¶æ‰§è¡ŒflagA &amp;&amp; !flagB &amp;&amp; Func(); // æ»¡è¶³Aä¸”ä¸æ»¡è¶³Bæ—¶æ‰§è¡Œ å…‹éš†æ•°ç»„const arr = [1, 2, 3];const _arr = [...arr]; // [1, 2, 3] åˆå¹¶æ•°ç»„const arr1 = [1, 2, 3];const arr2 = [4, 5, 6];const arr = [...arr1, ...arr2]; // [1, 2, 3, 4, 5, 6] æ•°ç»„å»é‡const arr = [...new Set([1, 2, 1, 4, 6, null, null])]; // [1, 2 ,4, 6, null] è¿‡æ»¤ç©ºå€¼const arr = [undefined, null, \"\", 0, false, NaN, 1, 2].filter(Boolean); // [1, 2] ç»Ÿè®¡æˆå‘˜ä¸ªæ•°const arr = [0, 1, 1, 2, 2, 2];const count = arr.reduce((t, v) =&gt; &#123; t[v] = t[v] ? ++t[v] : 1; return t;&#125;, &#123;&#125;);// count =&gt; &#123; 0: 1, 1: 2, 2: 3 &#125; æŒ‰å±æ€§å¯¹Objectåˆ†ç±»const people = [ &#123; name: 'Alice', age: 20 &#125;, &#123; name: 'Max', age: 21 &#125;, &#123; name: 'Tom', age: 20 &#125;]const groupBy = (objectArr, property) =&gt; &#123; return objectArr.reduce((acc, obj) =&gt; &#123; const key = obj[property]; if (!acc[key]) &#123; acc[key] = [] &#125; acc[key].push(obj); return acc; &#125;, &#123;&#125;)&#125;const groupedPeople = groupBy(people, 'age');/* &#123; 20: [ &#123; name: 'Max', age: 20 &#125;, &#123; name: 'Jane', age: 20 &#125; ], 21: [&#123; name: 'Alice', age: 21 &#125;]&#125; */ åˆ é™¤å¯¹è±¡æ— ç”¨å±æ€§const obj = &#123; a: 0, b: 1, c: 2 &#125;; // åªæƒ³æ‹¿bå’Œcconst &#123; a, ...rest &#125; = obj; // &#123; b: 1, c: 2 &#125;","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://kaviilee.github.io/blog/tags/javascript/"}]},{"title":"åˆ·åˆ·ç®—æ³•","slug":"åˆ·åˆ·ç®—æ³•","date":"2021-03-30T01:52:01.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2021/03/30/åˆ·åˆ·ç®—æ³•/","link":"","permalink":"https://kaviilee.github.io/blog/2021/03/30/%E5%88%B7%E5%88%B7%E7%AE%97%E6%B3%95/","excerpt":"æ˜¯ç®—æ³•è€¶ï¼","text":"æ˜¯ç®—æ³•è€¶ï¼ å®ç° Trie ï¼ˆå‰ç¼€æ ‘ï¼‰Trieï¼ˆå‘éŸ³ç±»ä¼¼ â€œtryâ€ï¼‰æˆ–è€…è¯´ å‰ç¼€æ ‘ æ˜¯ä¸€ç§æ ‘å½¢æ•°æ®ç»“æ„ï¼Œç”¨äºé«˜æ•ˆåœ°å­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²æ•°æ®é›†ä¸­çš„é”®ã€‚è¿™ä¸€æ•°æ®ç»“æ„æœ‰ç›¸å½“å¤šçš„åº”ç”¨æƒ…æ™¯ï¼Œä¾‹å¦‚è‡ªåŠ¨è¡¥å®Œå’Œæ‹¼å†™æ£€æŸ¥ã€‚ è¯·ä½ å®ç° Trie ç±»ï¼š Trie() åˆå§‹åŒ–å‰ç¼€æ ‘å¯¹è±¡ã€‚ void insert(String word) å‘å‰ç¼€æ ‘ä¸­æ’å…¥å­—ç¬¦ä¸² word ã€‚ boolean search(String word) å¦‚æœå­—ç¬¦ä¸² word åœ¨å‰ç¼€æ ‘ä¸­ï¼Œè¿”å› trueï¼ˆå³ï¼Œåœ¨æ£€ç´¢ä¹‹å‰å·²ç»æ’å…¥ï¼‰ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚ boolean startsWith(String prefix) å¦‚æœä¹‹å‰å·²ç»æ’å…¥çš„å­—ç¬¦ä¸² word çš„å‰ç¼€ä¹‹ä¸€ä¸º prefix ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚ class Trie &#123; root: &#123; [key: string]: any &#125; constructor() &#123; this.root = Object.create(null) &#125; insert(word: string): void &#123; let node = this.root; for (const w of word) &#123; if (!node[w]) &#123; node[w] = Object.create(null); &#125; node = node[w] &#125; node.isEnd = true &#125; searchPrefix(word: string) &#123; let node = this.root; for (const w of word) &#123; node = node[w]; if (!node) return null &#125; return node &#125; search(word: string): boolean &#123; let node = this.searchPrefix(word) return !!node &amp;&amp; !!node.isEnd; &#125; startWith(prefix: string): boolean &#123; return !!this.searchPrefix(prefix) &#125;&#125; å®ç° LRU ç®—æ³• class LRUCache &#123; cache: Map&lt;number, number&gt;; capacity: number; constructor(capacity: number) &#123; this.cache = new Map&lt;number, number&gt;() this.capacity = capcity; &#125; put(key: number, value: number): void &#123; if (this.cache.has(key)) &#123; this.cache.delete(key); &#125; else if (this.cache.size &gt;= this.capacity) &#123; this.cache.delete(this.cache.keys().next().value) &#125; this.cache.set(key, value) &#125; get(key: number): number &#123; if (this.cache.has(key)) &#123; const val = this.cache.get(key); this.cache.delete(key); this.cache.set(key, val); return val &#125; return -1 &#125;&#125;","categories":[],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://kaviilee.github.io/blog/tags/%E7%AE%97%E6%B3%95/"}]},{"title":"å‡‰ç»","slug":"å‡‰ç»","date":"2021-03-24T15:31:09.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2021/03/24/å‡‰ç»/","link":"","permalink":"https://kaviilee.github.io/blog/2021/03/24/%E5%87%89%E7%BB%8F/","excerpt":"è®°å½•ä¸€ä¸‹è‡ªå·± â€œè¢«æ‰“â€ çš„è¿‡ç¨‹ğŸ˜‚","text":"è®°å½•ä¸€ä¸‹è‡ªå·± â€œè¢«æ‰“â€ çš„è¿‡ç¨‹ğŸ˜‚ é¢è¯•è®°å½•2021.2.28 ä»å‰å…¬å¸ç¦»èŒï¼Œå¼€å§‹äº†å¤ä¹ çŸ¥è¯†å’Œé¢è¯•çš„æ—¥å­ã€‚è®°å½•ä¸€ä¸‹è‡ªå·±é¢è¯•çš„ç»å†ä»¥åŠé¢˜ç›®ï¼Œå¸¸çœ‹å¸¸æ–°ï¼Œè¡¥å…¨çŸ¥è¯†ã€‚ å¯Œé€”ä¸€é¢ Vue ç»„ä»¶é—´é€šä¿¡ å¦‚æœæ˜¯çˆ¶å­ç»„ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥é€šè¿‡ props è¿›è¡Œé€šä¿¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ provide/inject Event Bus é€šè¿‡æ–°å»ºä¸€ä¸ª Vue å®ä¾‹ä½¿ä¸¤ä¸ªç»„ä»¶èƒ½å¤Ÿè¿›è¡Œé€šä¿¡ Vuex æ‹“å±•ï¼šVuex å’Œ Vue Router åœ¨ install çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ(å…¶å®æ˜¯ Vue æ’ä»¶æœºåˆ¶)å…¶å® Vue é€šè¿‡ use() å®‰è£…æ’ä»¶ï¼Œå°±æ˜¯é€šè¿‡ mixin æ··å…¥äº†æ–¹æ³•ã€‚Vuex å’Œ Router éƒ½æ˜¯é€šè¿‡åœ¨ beforeCreate è¿™ä¸ªç”Ÿå‘½å‘¨æœŸé‡ŒæŠŠ $router å’Œ store æŒ‚è½½åˆ°äº† Vue çš„å®ä¾‹ä¸Šã€‚ Vue2 å’Œ Vue3 çš„ç”Ÿå‘½å‘¨æœŸå’ŒåŒºåˆ« Vue 2.x Vue 3.x Details beforeCreate beforeCreate åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹å’Œ event/watcher äº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨ created created åœ¨å®ä¾‹åˆ›å»ºå®Œæˆä¹‹åç«‹å³è¢«è°ƒç”¨ã€‚$el property ä¸å¯ç”¨ beforeMount beforeMount åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ mounted mounted å®ä¾‹è¢«æŒ‚è½½åè°ƒç”¨ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ nextTick å’Œè¿›è¡Œ DOM æ“ä½œ beforeUpdate beforeUpdate æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰ã€‚è¿™é‡Œé€‚åˆåœ¨æ›´æ–°å‰è®¿é—®ç°æœ‰ DOMï¼Œæ‰‹åŠ¨ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ updated updated ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚ activated activated è¢« keep-alive ç¼“å­˜çš„ç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨ deactivated deactivated è¢« keep-alive ç¼“å­˜çš„ç»„ä»¶åœç”¨æ—¶åœç”¨ beforeDestroy beforeUmount åœ¨é”€æ¯ï¼ˆå¸è½½ï¼‰ç»„ä»¶å®ä¾‹ä¹‹å‰è°ƒç”¨ã€‚æ­¤æ—¶å®ä¾‹è¿˜æ˜¯å®Œå…¨æ­£å¸¸çš„ destroyed unmounted å®ä¾‹é”€æ¯ï¼ˆå¸è½½ï¼‰åè°ƒç”¨ã€‚è¯¥é’©å­è¢«è°ƒç”¨åï¼Œå¯¹åº” Vue å®ä¾‹çš„æ‰€æœ‰æŒ‡ä»¤éƒ½è¢«è§£ç»‘ï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨è¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿéƒ½è¢«é”€æ¯ã€‚ errorCaptured errorCaptured å½“æ•è·ä¸€ä¸ªæ¥è‡ªå­å­™ç»„ä»¶çš„é”™è¯¯æ—¶è¢«è°ƒç”¨ã€‚ - renderTracked è·Ÿè¸ªè™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“æ—¶è°ƒç”¨ã€‚é’©å­æ¥æ”¶ debugger event ä½œä¸ºå‚æ•°ã€‚æ­¤äº‹ä»¶å‘Šè¯‰ä½ å“ªä¸ªæ“ä½œè·Ÿè¸ªäº†ç»„ä»¶ä»¥åŠè¯¥æ“ä½œçš„ç›®æ ‡å¯¹è±¡å’Œé”®ã€‚ - renderTriggered å½“è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“ä¸º triggered.Similarly ä¸º renderTrackedï¼Œæ¥æ”¶ debugger event ä½œä¸ºå‚æ•°ã€‚æ­¤äº‹ä»¶å‘Šè¯‰ä½ æ˜¯ä»€ä¹ˆæ“ä½œè§¦å‘äº†é‡æ–°æ¸²æŸ“ï¼Œä»¥åŠè¯¥æ“ä½œçš„ç›®æ ‡å¯¹è±¡å’Œé”®ã€‚ æ‹“å±•1: Vue çˆ¶å­ç»„ä»¶çš„æ¸²æŸ“é¡ºåº çˆ¶beforeCreate =&gt; çˆ¶created =&gt; çˆ¶beforeMount =&gt; å­beforeCreate =&gt; å­created =&gt; å­beforeMount =&gt; å­mounted =&gt; çˆ¶mounted æ‹“å±•2: å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹ çˆ¶beforeUpdate =&gt; å­beforeUpdate =&gt; å­updated =&gt; çˆ¶updated æ‹“å±•3: é”€æ¯è¿‡ç¨‹ çˆ¶beforeDestroy =&gt; å­beforeDestroy =&gt; å­destroyed =&gt; çˆ¶destroyed æµè§ˆå™¨æ¸²æŸ“ æµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹ä¸»è¦æœ‰ GUI æ¸²æŸ“çº¿ç¨‹ï¼ŒJS å¼•æ“çº¿ç¨‹ï¼Œäº‹ä»¶è§¦å‘çº¿ç¨‹ï¼Œå®šæ—¶è§¦å‘å™¨çº¿ç¨‹ï¼Œå¼‚æ­¥ HTTP è¯·æ±‚çº¿ç¨‹ã€‚ å…¶ä¸­ GUI æ¸²æŸ“çº¿ç¨‹å’Œ JS å¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„ã€‚GUI æ¸²æŸ“çº¿ç¨‹è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨ç•Œé¢ï¼Œè§£æ HTML å’Œ CSSï¼Œåœ¨è´Ÿè´£å¤„ç† JavaScript è„šæœ¬ç¨‹åºçš„ JS å¼•æ“çº¿ç¨‹æ‰§è¡Œæ—¶ï¼ŒGUI æ¸²æŸ“çº¿ç¨‹ä¼šæš‚æ—¶æŒ‚èµ·ï¼Œç›´åˆ° JS å¼•æ“ç©ºé—²ã€‚ å»¶ä¼¸1ï¼š æµè§ˆå™¨å·¥ä½œæµç¨‹: æ„å»º DOM =&gt; æ„å»º CSSOM =&gt; æ„å»ºæ¸²æŸ“æ ‘ =&gt; å¸ƒå±€ =&gt; ç»˜åˆ¶ã€‚ CSSOM ä¼šé˜»å¡æ¸²æŸ“ï¼Œåªæœ‰å½“ CSSOM æ„å»ºå®Œæ¯•ä¹‹åæ‰ä¼šè¿›å…¥ä¸‹ä¸€é˜¶æ®µçš„æ„å»ºæ ‘ã€‚ é€šå¸¸æƒ…å†µä¸‹ DOM å’Œ CSSOM æ˜¯å¹¶è¡Œæ„å»ºçš„ï¼Œä½†æ˜¯å½“æµè§ˆå™¨é‡åˆ° script æ ‡ç­¾æ—¶ï¼ŒDOM æ„å»ºå°†æš‚åœï¼Œç›´åˆ°è„šæœ¬æ‰§è¡Œå®Œæˆã€‚ä½†ç”±äº JavaScript å¯ä»¥ä¿®æ”¹ CSSOMï¼Œæ‰€ä»¥éœ€è¦ç­‰ CSSOM æ„å»ºå®Œæ¯•åå†æ‰§è¡Œ JSã€‚ æ‰€ä»¥å¦‚æœæƒ³è¦é¦–å±æ¸²æŸ“æ—¶é—´ç¼©çŸ­ï¼Œå°±éœ€è¦æŠŠ script æ ‡ç­¾æ”¾åœ¨ body æ ‡ç­¾åº•éƒ¨ï¼Œæˆ–è€…ç›´æ¥ä¸è¦åœ¨é¦–å±åŠ è½½ JS æ–‡ä»¶ã€‚ æµè§ˆå™¨ç¼“å­˜ åŸºæœ¬çš„ç½‘ç»œè¯·æ±‚å°±æ˜¯ä¸‰ä¸ªæ­¥éª¤ï¼šè¯·æ±‚ï¼Œå¤„ç†ï¼Œå“åº”ã€‚åç«¯ä¸»è¦å°±æ˜¯â€å¤„ç†â€è¿™ä¸ªæ­¥éª¤ï¼Œæ‰€ä»¥å…¶å®å‰ç«¯ç¼“å­˜å°±åœ¨â€œè¯·æ±‚â€å’Œâ€œå“åº”â€ä¸­è¿›è¡Œã€‚ å½“æµè§ˆå™¨è¦è¯·æ±‚èµ„æºæ—¶ï¼š è°ƒç”¨ Service Worker çš„ fetch äº‹ä»¶ æŸ¥çœ‹ memory cache æŸ¥çœ‹ disk cacheï¼š å¦‚æœæœ‰å¼ºåˆ¶ç¼“å­˜ä¸”æœªå¤±æ•ˆï¼Œåˆ™ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜ï¼Œä¸è¯·æ±‚æœåŠ¡å™¨ã€‚çŠ¶æ€ç å…¨éƒ¨æ˜¯200 å¦‚æœæœ‰å¼ºåˆ¶ç¼“å­˜ä½†å·²å¤±æ•ˆï¼Œä½¿ç”¨å¯¹æ¯”ç¼“å­˜ï¼Œæ¯”è¾ƒåç¡®å®šæ˜¯304è¿˜æ˜¯200 å‘é€ç½‘ç»œè¯·æ±‚ï¼Œç­‰å¾…å“åº” æŠŠå“åº”å†…å®¹å­˜å…¥ disk cacheï¼ˆå¦‚æœ HTTP å¤´ä¿¡æ¯é…ç½®å¯ä»¥ç¼“å­˜ï¼‰ æŠŠå“åº”å†…å®¹çš„å¼•ç”¨å­˜å…¥ memory cacheï¼ˆæ— è§† HTTP å¤´ä¿¡æ¯çš„é…ç½®ï¼‰ æŠŠå“åº”å†…å®¹å­˜å…¥ Service Worker çš„ Cache Storage this æŒ‡å‘é—®é¢˜ å¯ä»¥ä» Reference ç±»å‹æ¥åˆ¤æ–­ this çš„æŒ‡å‘ã€‚ é¦–å…ˆåˆ¤æ–­å‡º MemberExpression èµ‹å€¼ç»™ refï¼Œç„¶ååˆ¤æ–­ ref æ˜¯ä¸æ˜¯ä¸€ä¸ª Reference ç±»å‹ã€‚ Reference &#x3D; &#123;&#x2F;&#x2F; å±æ€§æ‰€åœ¨çš„å¯¹è±¡æˆ– EnvironmentRecordï¼Œå®ƒçš„å€¼åªå¯èƒ½æ˜¯ undefined, Object, Boolean, String, Number, environment recordbase,&#x2F;&#x2F; å±æ€§åname,&#x2F;&#x2F; æ˜¯å¦ä¸º strict æ¨¡å¼strict&#125;&#x2F;&#x2F; ä¸¾ä¸ªæ —å­var value &#x3D; 1;var foo &#x3D; &#123; value: 2, bar: function () &#123; return this.value; &#125;&#125;console.log(foo.bar()); &#x2F;&#x2F; 2&#x2F;* MemberExpression ä¸º foo.bar Renference &#x3D; &#123; base: foo, name: &#39;bar&#39;, strict: false &#125; æ‰€ä»¥ this &#x3D; fooï¼Œè¯¥è¡¨è¾¾å¼è¾“å‡º 2.*&#x2F;&#x2F;&#x2F; æœ‰æ“ä½œç¬¦ï¼Œé€»è¾‘è¿ç®—ç¬¦æˆ–é€—å·è¿ç®—ç¬¦ï¼Œref çš„å°±ä¸æ˜¯ Referenceç±»å‹ï¼Œthis å°±æ˜¯ undefinedï¼Œæœ€ç»ˆçš„ this ä¼šéšå¼è½¬æ¢ä¸ºå…¨å±€å¯¹è±¡ï¼Œæ‰€ä»¥è¯¥è¡¨è¾¾å¼è¾“å‡º 1.console.log((foo.bar &#x3D; foo.bar)()); &#x2F;&#x2F; 1console.log((foo.bar || foo.bar)()); &#x2F;&#x2F; 1console.log((foo.bar, foo.bar)()); &#x2F;&#x2F; 1 æ‹“å±•1: å°† foo.bar æ”¹æˆ ç®­å¤´å‡½æ•°ä¼šæ€æ ·? æ‹“å±•2: å°† var æ¢æˆ let æˆ– const åˆä¼šæ€æ ·? ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ« ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„ thisï¼Œå®ƒåªä¼šä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿ thisã€‚ ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ thisï¼Œå®ƒä¼šæ•è·å®šä¹‰æ—¶è‡ªå·±æ‰€å¤„çš„å¤–å±‚æ‰§è¡Œç¯å¢ƒçš„ thisï¼Œå¹¶ç»§æ‰¿è¿™ä¸ª thisã€‚ ç®­å¤´å‡½æ•°ç»§æ‰¿æ¥çš„ this æŒ‡å‘æ°¸è¿œä¸å˜ callï¼Œapplyï¼Œbind æ— æ³•æ”¹å˜ç®­å¤´å‡½æ•°ä¸­ this çš„æŒ‡å‘ ç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨ ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ arguments å¯¹è±¡ ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹ prototype ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨ yeild å…³é”®å­— æ–æ³¢é‚£å¥‘å‡½æ•°ï¼Œä»¥åŠç¼“å­˜ä¼˜åŒ– // åŠ¨æ€è§„åˆ’function fib1(n: number): number &#123; let a = 0, b = 1, sum; for (let i = 0; i &lt; n; i++) &#123; sum = (a + b) % 1000000007; a = b; b = sum; &#125; return a; // èŠ±é‡Œèƒ¡å“¨ let a = 0, b= 1; while(n--) &#123; [a, b] = [b, (a + b) % 1000000007]; &#125; return a&#125;// ç¼“å­˜ é—­åŒ…function fib2(n: number): number &#123; const map = new Map&lt;number, number&gt;(); function sub(n: number): number &#123; if (n &lt; 2) &#123; return n &#125; if (map.get(n)) &#123; return map.get(n) &#125; let sum = sub(n - 1) + sub(n - 2); map.set(n, sum); return sum % 1000000007; &#125; return sub(n)&#125; Vue æ•°æ®é‡å¤§çš„æ—¶å€™ï¼Œå¦‚ä½•ä¼˜åŒ– æŒ‰éœ€åŠ è½½å±€éƒ¨æ•°æ®ï¼Œè™šæ‹Ÿåˆ—è¡¨ï¼Œæ— é™ä¸‹æ‹‰åˆ·æ–°ï¼ˆå¯è§†åŒºåŸŸï¼‰ å¤§é‡çº¯å±•ç¤ºçš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ Object.freeze å†»ç»“ è¿˜å¯ä»¥è¿›è¡Œåˆ†é¡µ å›¾ç‰‡ç½‘ç«™ ä¼˜åŒ– é¦–å…ˆæˆ‘ä»¬åˆ†æä¸€ä¸‹å›¾ç‰‡åŠ è½½å­˜åœ¨çš„é—®é¢˜å’ŒåŸå› ï¼š å¯åŠ¨é¡µé¢æ—¶åŠ è½½è¿‡å¤šå›¾ç‰‡ é¦–å±å›¾ç‰‡ä¼˜å…ˆåŠ è½½ï¼Œç­‰é¦–å±å›¾ç‰‡åŠ è½½å®Œæˆå†å»åŠ è½½éé¦–å±å›¾ç‰‡ å¯ä»¥è¿›è¡ŒåŸŸååˆ‡åˆ†ï¼Œæ¥æå‡å¹¶å‘çš„è¯·æ±‚æ•°é‡ï¼Œæˆ–è€…ä½¿ç”¨ HTTP/2 åè®® éƒ¨åˆ†å›¾ç‰‡ä½“ç§¯è¿‡å¤§ å•ä½åƒç´ ä¼˜åŒ– - æ”¹å˜å›¾ç‰‡æ ¼å¼ï¼Œä½¿ç”¨ webp æ ¼å¼ å›¾ç‰‡åƒç´ æ€»æ•°ä¼˜åŒ– - è£å‰ªå¤§å›¾ç‰‡ï¼Œå‡å°‘å›¾ç‰‡ä½“ç§¯ï¼Œå‡å°‘ç½‘ç»œå¼€é”€ï¼ŒåŠ å¿«ä¸‹è½½é€Ÿç‡ é˜²æŠ–èŠ‚æµ // é˜²æŠ– è§¦å‘é«˜é¢‘äº‹ä»¶ n ç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡å‡½æ•°ï¼Œn ç§’å†…äº‹ä»¶å†æ¬¡è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´ å¦‚æœä½ åœ¨æœŸé—´ä¸€ç›´è§¦å‘ï¼Œåˆ™ä¸ä¼šè§¦å‘function debounce(fn, ms) &#123; let timeout = null; return function() &#123; clearTimeout(timeout); timeout = setTimeout(() =&gt; &#123; fn.apply(this, arguments) &#125;, ms) &#125;&#125;// èŠ‚æµ è§¦å‘é«˜é¢‘äº‹ä»¶ï¼Œä½†åœ¨ n ç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œæ•ˆç‡ ä¸€å®šä¼šè§¦å‘function throttle(fn, ms) &#123; let timeout; return function() &#123; if (!timeout) &#123; timeout = setTimeout(() =&gt; &#123; timeout = null fn.apply(this, arguments) &#125;, ms) &#125; &#125;&#125; [äº‹ä»¶å¾ªç¯æœºåˆ¶](è¯¦è§£JavaScriptä¸­çš„Event Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰æœºåˆ¶ - çŸ¥ä¹ (zhihu.com) varï¼Œletï¼Œconst çš„åŒºåˆ« let/const æ˜¯ä½¿ç”¨å—çº§ä½œç”¨åŸŸï¼›var ä½¿ç”¨çš„æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œä¸”å­˜åœ¨å˜é‡æå‡ã€‚ åœ¨å‡½æ•°å¤–éƒ¨ä½¿ç”¨ var è¿›è¡Œå£°æ˜éƒ½ä¼šè‡ªåŠ¨æˆä¸º window å¯¹è±¡ä¸Šçš„ä¸€ä¸ªå±æ€§ã€‚ æš‚æ—¶æ€§æ­»åŒºï¼ˆTDZï¼‰ åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨ let å‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±â€ç»‘å®šâ€è¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“ã€‚ ES6 ä¸­è§„å®šï¼Œå¦‚æœåŒºå—ä¸­å­˜åœ¨ let å’Œ const å‘½ä»¤ï¼Œè¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸã€‚å‡¡æ˜¯åœ¨å£°æ˜å‰ä½¿ç”¨è¿™äº›å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚ é—­åŒ… èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°è¢«ç§°ä¸ºé—­åŒ…ã€‚ è‡ªç”±å˜é‡ï¼šåœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„æ—¢ä¸æ˜¯å‡½æ•°å‚æ•°ä¹Ÿä¸æ˜¯å±€éƒ¨å˜é‡çš„å˜é‡ã€‚ HTTPS å’Œ HTTP çš„åŒºåˆ« HTTPS æ˜¯ HTTP åè®®çš„å®‰å…¨ç‰ˆæœ¬ï¼ŒHTTP åè®®çš„æ•°æ®ä¼ è¾“æ˜¯æ˜æ–‡çš„ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼ŒHTTPS ä½¿ç”¨äº† SSL/TLS åè®®è¿›è¡ŒåŠ å¯†å¤„ç†ã€‚ HTTP å’Œ HTTPS ä½¿ç”¨çš„é“¾æ¥æ–¹å¼ä¸åŒï¼Œé»˜è®¤ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯80ï¼Œåè€…æ˜¯443. å¼•ç”³: å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯† ä½¿ç”¨ä¸åŒå¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†å°±æ˜¯éå¯¹ç§°åŠ å¯†ï¼Œç›¸å¯¹çš„åŠ å¯†è§£å¯†ä½¿ç”¨åŒä¸€å¯†é’¥çš„å°±æ˜¯å¯¹ç§°åŠ å¯†ã€‚ HTTP2.0 å’Œ HTTP1.1 çš„åŒºåˆ«ï¼Ÿå¤šä¸ªè¯·æ±‚åœ¨è¿™ä¸¤ä¸ªåè®®ä¹‹é—´çš„åŒºåˆ«ï¼Ÿå¦‚æœè¯·æ±‚çš„æ˜¯ä¸åŒä¸»åŸŸï¼Œé‚£ä¹ˆåŒºåˆ«åœ¨å“ªï¼Ÿ HTTP2.0 å¤šè·¯å¤ç”¨ header å‹ç¼© æœåŠ¡ç«¯æ¨é€ HTTP1.1 keepalive å¯ä»¥è®© HTTP é‡ç”¨ TCP é“¾æ¥ï¼Œå°±æ˜¯æ‰€è°“çš„é•¿é“¾æ¥ã€‚ HTTP2.0 ä¼šé‡‡ç”¨å¤šè·¯å¤ç”¨ï¼Œä¸€æ¬¡ TCP è¿æ¥å³å¯ï¼Œé‡‡ç”¨ HTTP çš„è¯ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½® keepalive é‚£ä¹ˆä¸€æ¬¡è¯·æ±‚å°±è¦å»ºç«‹ä¸€ä¸ª TCP è¿æ¥ã€‚ æ¢è¿¹ä¸€é¢ äº‹ä»¶æœºåˆ¶ äº‹ä»¶å¾ªç¯ Vue å“åº”å¼åŸç† react ä¼˜åŒ– setState æ•°ç»„å»é‡ æ·±æµ…æ‹·è´ get post åŒºåˆ« å‰ç«¯æ€§èƒ½ä¼˜åŒ– callçš„å®ç° node require node æ€ä¹ˆè¯»æ–‡ä»¶","categories":[],"tags":[{"name":"é¢ç»","slug":"é¢ç»","permalink":"https://kaviilee.github.io/blog/tags/%E9%9D%A2%E7%BB%8F/"}]},{"title":"ä¿®æ”¹ console.log çš„é¢œè‰²","slug":"ä¿®æ”¹consoleçš„é¢œè‰²","date":"2021-03-22T16:49:05.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2021/03/22/ä¿®æ”¹consoleçš„é¢œè‰²/","link":"","permalink":"https://kaviilee.github.io/blog/2021/03/22/%E4%BF%AE%E6%94%B9console%E7%9A%84%E9%A2%9C%E8%89%B2/","excerpt":"ä»Šæ—¥ç”¨ node å†™ä¸€ä¸ªå°å·¥å…·çš„æ—¶å€™ï¼Œæƒ³è¦ console è¾“å‡ºä¸ä¸€æ ·çš„é¢œè‰²ï¼Œåˆä¸æƒ³è€Œå¤–å¼•å…¥å·¥å…·åº“ï¼Œé‚æŸ¥æ‰¾èµ„æ–™ï¼Œè®°å½•ä¸€ä¸‹ã€‚","text":"ä»Šæ—¥ç”¨ node å†™ä¸€ä¸ªå°å·¥å…·çš„æ—¶å€™ï¼Œæƒ³è¦ console è¾“å‡ºä¸ä¸€æ ·çš„é¢œè‰²ï¼Œåˆä¸æƒ³è€Œå¤–å¼•å…¥å·¥å…·åº“ï¼Œé‚æŸ¥æ‰¾èµ„æ–™ï¼Œè®°å½•ä¸€ä¸‹ã€‚ ä¸ä½¿ç”¨åº“console.log(fg, bg, content, \"\\x1b[0m\"); è¿™é‡Œ fg å…¶å®å°±æ˜¯å­—ä½“é¢œè‰²ï¼Œbg å¯¹åº”èƒŒæ™¯é¢œè‰²ï¼Œcontent å°±æ˜¯è¦è¾“å‡ºçš„å†…å®¹ ä»¥ä¸‹åˆ—å‡ºå…¶ä»–çš„é¢œè‰² Reset &#x3D; &quot;\\x1b[0m&quot;Bright &#x3D; &quot;\\x1b[1m&quot;Dim &#x3D; &quot;\\x1b[2m&quot;Underscore &#x3D; &quot;\\x1b[4m&quot;Blink &#x3D; &quot;\\x1b[5m&quot;Reverse &#x3D; &quot;\\x1b[7m&quot;Hidden &#x3D; &quot;\\x1b[8m&quot;FgBlack &#x3D; &quot;\\x1b[30m&quot;FgRed &#x3D; &quot;\\x1b[31m&quot;FgGreen &#x3D; &quot;\\x1b[32m&quot;FgYellow &#x3D; &quot;\\x1b[33m&quot;FgBlue &#x3D; &quot;\\x1b[34m&quot;FgMagenta &#x3D; &quot;\\x1b[35m&quot;FgCyan &#x3D; &quot;\\x1b[36m&quot;FgWhite &#x3D; &quot;\\x1b[37m&quot;BgBlack &#x3D; &quot;\\x1b[40m&quot;BgRed &#x3D; &quot;\\x1b[41m&quot;BgGreen &#x3D; &quot;\\x1b[42m&quot;BgYellow &#x3D; &quot;\\x1b[43m&quot;BgBlue &#x3D; &quot;\\x1b[44m&quot;BgMagenta &#x3D; &quot;\\x1b[45m&quot;BgCyan &#x3D; &quot;\\x1b[46m&quot;BgWhite &#x3D; &quot;\\x1b[47m&quot; Fgxx å¯¹åº”çš„æ˜¯å­—ä½“é¢œè‰²ï¼ŒBgxx å¯¹åº”çš„æ˜¯èƒŒæ™¯é¢œè‰²ã€‚ å½“ç„¶æˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸‹ï¼Œä½¿è°ƒç”¨æ›´åŠ ä¾¿æ·ä¸€ç‚¹ const colors = &#123; reset: \"\\x1b[0m\", bright: \"\\x1b[1m\", dim: \"\\x1b[2m\", underscore: \"\\x1b[4m\", blink: \"\\x1b[5m\", reverse: \"\\x1b[7m\", hidden: \"\\x1b[8m\", fg: &#123; black: \"\\x1b[30m\", red: \"\\x1b[31m\", green: \"\\x1b[32m\", yellow: \"\\x1b[33m\", blue: \"\\x1b[34m\", magenta: \"\\x1b[35m\", cyan: \"\\x1b[36m\", white: \"\\x1b[37m\", &#125;, bg: &#123; black: \"\\x1b[40m\", red: \"\\x1b[41m\", green: \"\\x1b[42m\", yellow: \"\\x1b[43m\", blue: \"\\x1b[44m\", magenta: \"\\x1b[45m\", cyan: \"\\x1b[46m\", white: \"\\x1b[47m\", &#125;&#125; ä½¿ç”¨åº“ä¿®æ”¹ console é¢œè‰²çš„åº“æœ‰ chalk colors cli-color ç¢ç¢å¿µå¥½çœ‹çš„ console.log å¯ä»¥è®©å†™ä»£ç çš„æˆ‘å¿«ä¹(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§","categories":[],"tags":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://kaviilee.github.io/blog/tags/%E5%85%B6%E4%BB%96/"}]},{"title":"webpack å¸¸ç”¨ loaders å’Œ plugins","slug":"webpackå¸¸ç”¨loaderså’Œplugins","date":"2021-03-20T21:27:36.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2021/03/20/webpackå¸¸ç”¨loaderså’Œplugins/","link":"","permalink":"https://kaviilee.github.io/blog/2021/03/20/webpack%E5%B8%B8%E7%94%A8loaders%E5%92%8Cplugins/","excerpt":"è®°å½•ä¸€ä¸‹ webpack å¸¸ç”¨ loaders å’Œ plugins","text":"è®°å½•ä¸€ä¸‹ webpack å¸¸ç”¨ loaders å’Œ plugins å¸¸ç”¨ LoadersåŠ è½½æ–‡ä»¶ raw-loaderï¼šæŠŠæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹åŠ è½½åˆ°ä»£ç ä¸­å»ã€‚ file-loaderï¼šæŠŠæ–‡æœ¬è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨ä»£ç ä¸­é€šè¿‡ç›¸å¯¹ URL å»å¼•ç”¨è¾“å‡ºçš„æ–‡ä»¶ã€‚ url-loaderï¼šå’Œ file-loader ç±»ä¼¼ï¼Œä½†æ˜¯èƒ½åœ¨æ–‡ä»¶å¾ˆå°çš„æƒ…å†µä¸‹ä»¥ base64 çš„æ–¹å¼æŠŠæ–‡ä»¶å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­å»ã€‚ source-map-loaderï¼šåŠ è½½é¢å¤–çš„ Source Map æ–‡ä»¶ï¼Œä»¥æ–¹ä¾¿æ–­ç‚¹è°ƒè¯•ã€‚ svg-inline-loaderï¼šæŠŠå‹ç¼©åçš„ SVG å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­ã€‚ node-loaderï¼šåŠ è½½ Node.js åŸç”Ÿæ¨¡å— .node æ–‡ä»¶ã€‚ image-loaderï¼šåŠ è½½å¹¶ä¸”å‹ç¼©å›¾ç‰‡æ–‡ä»¶ã€‚ json-loaderï¼šåŠ è½½ JSON æ–‡ä»¶ã€‚ yaml-loaderï¼šåŠ è½½ YAML æ–‡ä»¶ã€‚ ç¼–è¯‘æ¨¡æ¿ pug-loaderï¼šæŠŠ Pug æ¨¡ç‰ˆè½¬æ¢æˆ JavaScript å‡½æ•°è¿”å›ã€‚ ejs-loaderï¼šæŠŠ EJS æ¨¡ç‰ˆç¼–è¯‘æˆå‡½æ•°è¿”å›ã€‚ markdown-loaderï¼šæŠŠ Markdown æ–‡ä»¶è½¬æ¢æˆ HTMLã€‚ è½¬æ¢è„šæœ¬è¯­è¨€ babel-loaderï¼šæŠŠ ES6 è½¬æ¢æˆ ES5ã€‚ awesome-typescript-loaderï¼šæŠŠ TypeScript è½¬æ¢æˆ JavaScriptï¼Œæ€§èƒ½è¦æ¯” ts-loader å¥½ã€‚ coffee-loaderï¼šæŠŠ CoffeeScript è½¬æ¢æˆ JavaScriptã€‚ è½¬æ¢æ ·å¼æ–‡ä»¶ css-loaderï¼šåŠ è½½ CSSï¼Œæ”¯æŒæ¨¡å—åŒ–ã€å‹ç¼©ã€æ–‡ä»¶å¯¼å…¥ç­‰ç‰¹æ€§ã€‚ style-loaderï¼šæŠŠ CSS ä»£ç æ³¨å…¥åˆ° JavaScript ä¸­ï¼Œé€šè¿‡ DOM æ“ä½œå»åŠ è½½ CSSã€‚ sass-loaderï¼šæŠŠ SCSS/SASS ä»£ç è½¬æ¢æˆ CSSã€‚ postcss-loaderï¼šæ‰©å±• CSS è¯­æ³•ï¼Œä½¿ç”¨ä¸‹ä¸€ä»£ CSSã€‚ less-loaderï¼šæŠŠ Less ä»£ç è½¬æ¢æˆ CSS ä»£ç ã€‚ stylus-loaderï¼šæŠŠ Stylus ä»£ç è½¬æ¢æˆ CSS ä»£ç ã€‚ æ£€æŸ¥ä»£ç  eslint-loaderï¼šé€šè¿‡ ESLint æ£€æŸ¥ JavaScript ä»£ç ã€‚ tslint-loaderï¼šé€šè¿‡ TSLint æ£€æŸ¥ TypeScript ä»£ç ã€‚ mocha-loaderï¼šåŠ è½½ Mocha æµ‹è¯•ç”¨ä¾‹ä»£ç ã€‚ å…¶ä»– vue-loaderï¼šåŠ è½½ Vue.js å•æ–‡ä»¶ç»„ä»¶ã€‚ å¸¸ç”¨ Plugins commons-chunk-pluginï¼šæå–å…¬å…±ä»£ç ï¼Œåœ¨4-11æå–å…¬å…±ä»£ç ä¸­æœ‰ä»‹ç»ã€‚ extract-text-webpack-pluginï¼šæå– JavaScript ä¸­çš„ CSS ä»£ç åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚ prepack-webpack-pluginï¼šé€šè¿‡ Facebook çš„ Prepack ä¼˜åŒ–è¾“å‡ºçš„ JavaScript ä»£ç æ€§èƒ½ã€‚ uglifyjs-webpack-pluginï¼šé€šè¿‡ UglifyES å‹ç¼© ES6 ä»£ç ã€‚ webpack-parallel-uglify-pluginï¼šå¤šè¿›ç¨‹æ‰§è¡Œ UglifyJS ä»£ç å‹ç¼©ï¼Œæå‡æ„å»ºé€Ÿåº¦ã€‚ happypackï¼šå¤šè¿›ç¨‹å¤„ç†ä»»åŠ¡ã€‚ ModuleConcatenationPluginï¼šå¼€å¯ Webpack Scope Hoisting åŠŸèƒ½ã€‚","categories":[{"name":"å‰ç«¯å·¥ç¨‹åŒ–","slug":"å‰ç«¯å·¥ç¨‹åŒ–","permalink":"https://kaviilee.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"}],"tags":[{"name":"webpack","slug":"webpack","permalink":"https://kaviilee.github.io/blog/tags/webpack/"}]},{"title":"webpack.config æ•´ä½“ç»“æ„","slug":"webpack-configæ•´ä½“ç»“æ„","date":"2021-03-20T17:26:19.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2021/03/20/webpack-configæ•´ä½“ç»“æ„/","link":"","permalink":"https://kaviilee.github.io/blog/2021/03/20/webpack-config%E6%95%B4%E4%BD%93%E7%BB%93%E6%9E%84/","excerpt":"è®°å½•ä¸€ä¸‹ webpack é…ç½®å¯¹åº”çš„æ„ä¹‰ï¼Œä¾¿äºè‡ªå·±æŸ¥é˜…~","text":"è®°å½•ä¸€ä¸‹ webpack é…ç½®å¯¹åº”çš„æ„ä¹‰ï¼Œä¾¿äºè‡ªå·±æŸ¥é˜…~ const path = require('path')module.exports = &#123; // entry è¡¨ç¤ºå…¥å£ï¼Œwebpack æ‰§è¡Œæ„å»ºçš„ç¬¬ä¸€æ­¥ä» entry å¼€å§‹ // ç±»å‹å¯ä»¥æ˜¯ String | Object | Array entry: 'index.js', // åªæœ‰ä¸€ä¸ªå…¥å£, å…¥å£åªæœ‰ä¸€ä¸ªæ–‡ä»¶ entry: ['index1.js', 'index2.js'], // åªæœ‰ä¸€ä¸ªå…¥å£ï¼Œå…¥å£æœ‰2ä¸ªæ–‡ä»¶ entry: &#123; // æœ‰ä¸¤ä¸ªå…¥å£ a: 'indexA.js', b: ['indexB1.js', 'indexB2.js'] &#125;, // å¦‚ä½•è¾“å‡ºç»“æœï¼šåœ¨ webpack çš„ä¸€ç³»åˆ—å¤„ç†ä¹‹åï¼Œå¦‚ä½•è¾“å‡ºæœ€ç»ˆçš„ä»£ç  output: &#123; // è¾“å‡ºæ–‡ä»¶çš„å­˜æ”¾ç›®å½•ï¼Œå¿…é¡»æ˜¯ String ç±»å‹çš„ç»å¯¹è·¯å¾„ path: path.resolve(__dirname, 'dist'), // è¾“å‡ºæ–‡ä»¶çš„åç§° filename: 'bundle.js', // å®Œæ•´çš„åç§° // å½“é…ç½®äº†å¤šä¸ª entry æ—¶ï¼Œé€šè¿‡åç§°æ¨¡æ¿ä¸ºä¸åŒçš„ entry ç”Ÿæˆä¸åŒçš„æ–‡ä»¶åç§° filename: '[name].js', // æ ¹æ®æ–‡ä»¶å†…å®¹ hash å€¼ç”Ÿæˆæ–‡ä»¶åç§°ï¼Œç”¨äºæµè§ˆå™¨é•¿æ—¶é—´ç¼“å­˜æ–‡ä»¶ filename: '[chunkhash].js', // å‘å¸ƒåˆ°çº¿ä¸Šçš„æ‰€æœ‰èµ„æºçš„ URL å‰ç¼€ï¼ŒString ç±»å‹ publicPath: '/public', // æ”¾åˆ°æŒ‡å®šç›®å½•ä¸‹ publicPath: '', // æ”¾åˆ°å½“å‰ç›®å½•ä¸‹ publicPath: 'https://cdn.jsdelivr.net/', // æ”¾åˆ° CDN ä¸Š // å¯¼å‡ºåº“çš„åç§° String ç±»å‹ // ç¼ºçœæ—¶ï¼Œé»˜è®¤è¾“å‡ºæ ¼å¼æ˜¯åŒ¿åçš„ç«‹å³æ‰§è¡Œå‡½æ•° library: 'MyLibrary', // å¯¼å‡ºåº“çš„ç±»å‹ï¼Œæšä¸¾ç±»å‹ é»˜è®¤æ˜¯ var // å¯ä»¥æ˜¯ umd | umd2 | commonjs2 | commonjs | amd | this | var | assign // | global | jsonp libraryTarget: 'umd', // æ˜¯å¦åŒ…å«æœ‰ç”¨çš„æ–‡ä»¶è·¯å¾„ä¿¡æ¯åˆ°ç”Ÿæˆçš„ä»£ç ä¸­ Boolean ç±»å‹ pathinfo: true, // é™„åŠ  Chunk çš„æ–‡ä»¶åç§° chunkFilename: '[id].js', chunkFilename: '[chunkhash].js', // JSONP å¼‚æ­¥åŠ è½½èµ„æºæ—¶çš„å›è°ƒå‡½æ•°åç§°ï¼Œéœ€è¦å’ŒæœåŠ¡ç«¯é…åˆä½¿ç”¨ jsonpFunction: 'webpackJsonp', // ç”Ÿæˆçš„ Source Map æ–‡ä»¶åç§° sourceMapFilename: '[file].map', // æµè§ˆå™¨å¼€å‘è€…å·¥å…·é‡Œæ˜¾ç¤ºçš„æºç æ¨¡å—åç§° devtoolModuleFilenameTemplate: 'webpack:///[resource-path]', // å¼‚æ­¥åŠ è½½è·¨åŸŸçš„èµ„æºæ—¶ä½¿ç”¨çš„æ–¹å¼ crossOriginLoading: 'use-credentials', crossOriginLoading: 'anonymous', crossOriginLoading: false, &#125;, // é…ç½®æ¨¡å—ç›¸å…³ module: &#123; rules: [ // loader é…ç½® &#123; test: /\\.jsx?$/, // æ­£åˆ™åŒ¹é…å‘½ä¸­è¦ä½¿ç”¨ loader çš„æ–‡ä»¶ include: [ // åªä¼šåå­—è¿™é‡Œçš„æ–‡ä»¶ path.resolve(__dirname, 'src'), ], exclude: [ // å¿½ç•¥è¿™é‡Œçš„æ–‡ä»¶ /node_modules/ ], use: [ // ä½¿ç”¨å“ªäº› loaderï¼Œä»å³åˆ°å·¦ï¼Œä»ååˆ°å‰æ‰§è¡Œ 'style-loader', &#123; loader: 'css-loader', options: &#123;&#125; &#125; ] &#125; ], noParse: [ // ä¸ç”¨è§£æå’Œå¤„ç†çš„æ¨¡å— /special-library\\.js$/ // æ­£åˆ™åŒ¹é… ] &#125;, // é…ç½®æ’ä»¶ plugins: &#123;&#125;, // é…ç½®å¯»æ‰¾æ¨¡å—çš„è§„åˆ™ resolve: &#123; modules: [ // å¯»æ‰¾æ¨¡å—çš„æ ¹ç›®å½•ï¼ŒArray ç±»å‹ï¼Œé»˜è®¤æ ¹ç›®å½•ä¸º node_modules 'node_modules', path.resolve(__dirname, 'src') ], extensions: ['.js', 'json', 'jsx', '.css'], // æ¨¡å—çš„åç¼€å alias: &#123; // æ¨¡å—åˆ«åé…ç½®ï¼Œç”¨äºæ˜ å°„æ¨¡å— // æŠŠ '@' æ˜ å°„ä¸º 'src'ï¼Œ'@/index'ä¼šè¢«æ˜ å°„ä¸º 'src/index' '@': path.resolve(__dirname, 'src'), // ä½¿ç”¨ç»“å°¾ç¬¦å· $ åï¼ŒæŠŠ 'only-module' æ˜ å°„ä¸º 'new-module' // ä½†ä¸ä¼šæŠŠ 'only-module/index' æ˜ å°„ä¸º 'new-module/index' 'only-module$': 'new-module' &#125;, alias: [ // æ”¯æŒæ•°ç»„æ¥é…ç½® &#123; name: 'module', // è€çš„æ¨¡å— alias: 'new-module', // æ–°çš„æ¨¡å— // æ˜¯å¦åªæ˜ å°„æ¨¡å—ï¼Œå¯¹åº”ä¸Šé¢æ˜¯å¦æœ‰ $ onlyModule: true &#125; ], symlinks: true, // æ˜¯å¦è·Ÿéšæ–‡ä»¶è½¯é“¾æ¥å»æœå¯»æ¨¡å—çš„è·¯å¾„ descriptionFiles: ['package.json'], // æ¨¡å—çš„æè¿°æ–‡ä»¶ mainFields: ['main'], // æ¨¡å—çš„æè¿°æ–‡ä»¶é‡Œçš„æè¿°å…¥å£çš„æ–‡ä»¶çš„å­—æ®µ enforceExtension: false, // æ˜¯å¦å¼ºåˆ¶å¯¼å…¥è¯­å¥å¿…é¡»è¦å†™æ˜æ–‡ä»¶åç¼€ &#125;, // è¾“å‡ºæ–‡ä»¶æ€§èƒ½æ£€æŸ¥é…ç½® performance: &#123; hints: 'warning', // æœ‰æ€§èƒ½é—®é¢˜æ—¶è¾“å‡º 'warning' è­¦å‘Š 'error' é”™è¯¯ false å…³é—­ maxAssetSize: 200000, // æœ€å¤§æ–‡ä»¶å¤§å° bytes maxEntrypointSize: 400000, // æœ€å¤§å…¥å£æ–‡ä»¶å¤§å° bytes assetFilter: function (assetFilename) &#123; return assetFilename.endWith('.css') || assetFilename.endWith('.js') &#125; &#125;, devtool: 'source-map', // é…ç½® source-map ç±»å‹ context: __dirname, // webpack ä½¿ç”¨çš„æ ¹ç›®å½•ï¼ŒString ç±»å‹ å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ // é…ç½®è¾“å‡ºä»£ç çš„è¿è¡Œç¯å¢ƒ target: 'web', // æµè§ˆå™¨ï¼Œé»˜è®¤ target: 'webworker', // WebWorker target: 'node', // Node.jsï¼Œä½¿ç”¨ `require` è¯­å¥åŠ è½½ Chunk ä»£ç  target: 'async-node', // Node.jsï¼Œå¼‚æ­¥åŠ è½½ Chunk ä»£ç  target: 'node-webkit', // nw.js target: 'electron-main', // electron, ä¸»çº¿ç¨‹ target: 'electron-renderer', // electron, æ¸²æŸ“çº¿ç¨‹ // ä½¿ç”¨æ¥è‡ª JavaScript è¿è¡Œç¯å¢ƒæä¾›çš„å…¨å±€ç¼–å†™ externals: &#123; jquery: 'jQuery' &#125;, // æ§åˆ¶å°è¾“å‡ºæ—¥å¿—æ§åˆ¶ stats: &#123; assets: true, colors: true, errors: true, errorDetails: true, hash: true, &#125;, // DevServer ç›¸å…³é…ç½® devServer: &#123; proxy: &#123; // ä»£ç†åˆ°åç«¯æœåŠ¡æ¥å£ '/api': 'http://localhost:3000' &#125;, // é…ç½® DevServer HTTP æœåŠ¡å™¨çš„æ–‡ä»¶ç›®å½• contentBase: path.join(__dirname, 'public'), compress: true, // æ˜¯å¦å¼€å¯ gzip å‹ç¼© historyApiFallback: true, // æ˜¯å¦å¼€å‘ HTML5 History API ç½‘é¡µ hot: true, // æ˜¯å¦å¼€å¯æ¨¡å—çƒ­æ›¿æ¢åŠŸèƒ½ https: false, // æ˜¯å¦å¼€å¯ HTTPS æ¨¡å¼ &#125;, profile: true, // æ˜¯å¦æ•æ‰ Webpack æ„å»ºçš„æ€§èƒ½ä¿¡æ¯ï¼Œç”¨äºåˆ†æä»€ä¹ˆåŸå› å¯¼è‡´æ„å»ºæ€§èƒ½ä¸ä½³ cache: false, // æ˜¯å¦å¼€å¯ç¼“å­˜æå‡æ„å»ºé€Ÿåº¦ watch: true, // æ˜¯å¦å¼€å¯ç›‘å¬æ¨¡å¼ watchOptions: &#123; // ç›‘å¬æ¨¡å¼é€‰é¡¹ // ä¸ç›‘å¬çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œæ”¯æŒæ­£åˆ™ï¼Œé»˜è®¤ä¸ºç©º ignored: /node_modules/, // ç›‘å¬åˆ°å˜åŒ–å‘ç”Ÿåä¼šç­‰300mså†å»æ‰§è¡ŒåŠ¨ä½œï¼Œé˜²æ­¢æ–‡ä»¶æ›´æ–°å¤ªå¿«å¯¼è‡´é‡æ–°ç¼–è¯‘é¢‘ç‡å¤ªé«˜ // é»˜è®¤ä¸º300ms aggregateTimeout: 300, // åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å‘ç”Ÿå˜åŒ–æ˜¯ä¸åœçš„å»è¯¢é—®ç³»ç»ŸæŒ‡å®šæ–‡ä»¶æœ‰æ²¡æœ‰å˜åŒ–ï¼Œé»˜è®¤æ¯éš”1000æ¯«ç§’è¯¢é—®ä¸€æ¬¡ poll: 1000 &#125;&#125;","categories":[{"name":"å‰ç«¯å·¥ç¨‹åŒ–","slug":"å‰ç«¯å·¥ç¨‹åŒ–","permalink":"https://kaviilee.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"}],"tags":[{"name":"webpack","slug":"webpack","permalink":"https://kaviilee.github.io/blog/tags/webpack/"}]},{"title":"ä¸€äº›TSä¸­çš„è¿ç®—ç¬¦","slug":"ä¸€äº›tsä¸­çš„è¿ç®—ç¬¦","date":"2021-01-28T17:59:30.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2021/01/28/ä¸€äº›tsä¸­çš„è¿ç®—ç¬¦/","link":"","permalink":"https://kaviilee.github.io/blog/2021/01/28/%E4%B8%80%E4%BA%9Bts%E4%B8%AD%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6/","excerpt":"è¿‘æ¥ç”¨åˆ°äº†ä¸å°‘çš„ TypeScript çš„è¿ç®—ç¬¦ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¾ˆå¤šæ˜¯æ²¡ç”¨è¿‡çš„ï¼Œæœ¬ç€å­¦åˆ°å°±æ˜¯èµšåˆ°çš„æƒ³æ³•ï¼Œè®°å½•ä¸€ä¸‹ã€‚","text":"è¿‘æ¥ç”¨åˆ°äº†ä¸å°‘çš„ TypeScript çš„è¿ç®—ç¬¦ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¾ˆå¤šæ˜¯æ²¡ç”¨è¿‡çš„ï¼Œæœ¬ç€å­¦åˆ°å°±æ˜¯èµšåˆ°çš„æƒ³æ³•ï¼Œè®°å½•ä¸€ä¸‹ã€‚ éç©ºæ–­è¨€æ“ä½œç¬¦ !! æ˜¯ä¸€ä¸ªåç¼€è¡¨è¾¾å¼æ“ä½œç¬¦ï¼Œå¯ä»¥ç”¨äºæ–­è¨€æ“ä½œå¯¹è±¡æ˜¯é null å’Œé undefined ç±»å‹ã€‚ const func = (str: string | null | undefined) =&gt; &#123; // Type 'string | null | undefined' is not assignable to type 'string'. // Type 'undefined' is not assignable to type 'string'.(2322) let onlyStr: string = str; // error let ignoredNullOrUndefined: string = str!; // ok&#125; ?. è¿ç®—ç¬¦?. å¯é€‰é“¾ï¼Œåœ¨æˆ‘ä»¬é‡åˆ°å¯èƒ½æ˜¯ null æˆ– undefined æ—¶å°±å¯ä»¥åœæ­¢è¡¨è¾¾å¼çš„è¿è¡Œã€‚ const a = b?.c ä¸Šè¿° TypeScript ä»£ç åœ¨ç¼–è¯‘ä¹‹å const a = b === null || b === void 0 ? void 0 : b.c; æ‰€ä»¥ä½¿ç”¨ ?. è¿ç®—ç¬¦å°±å¯ä»¥è‡ªåŠ¨æ£€æŸ¥å¯¹è±¡ b æ˜¯å¦ä¸º null æˆ– undefinedï¼Œå¦‚æœæ˜¯å°±è¿”å› undefinedã€‚ä½¿ç”¨ ?. å¯ä»¥ä»£æ›¿ &amp;&amp; æ‰§è¡Œç©ºæ£€æŸ¥ã€‚ const a = b &amp;&amp; b.c// equal toconst a = b?.c å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ?. åªæ£€æŸ¥ null å’Œ undefinedï¼Œå¯¹äºç©ºå­—ä¸²å’Œ 0ï¼Œå®ƒæ˜¯ä¸ä¼šæ£€æŸ¥çš„ã€‚ å¯é€‰é“¾è¿˜å¯ä»¥å’Œå‡½æ•°è°ƒç”¨ä¸€èµ·ä½¿ç”¨ const res = obj.func?.() ç¼–è¯‘ä¹‹å const res = (_a = obj.func) === null || _a === void 0 ? void 0 : _a.call(obj); å¦‚æœ obj ä¸å­˜åœ¨ func è¿™ä¸ªæ–¹æ³•ï¼Œå°±å›è¿”å› undefined. æ³¨æ„äº‹é¡¹ï¼š å¦‚æœ func ä¸å­˜åœ¨äº objï¼Œä¸Šé¢ä»£ç ä¼šäº§ç”Ÿä¸€ä¸ª TypeError å¼‚å¸¸ å¯é€‰é“¾çš„è¿ç®—è¡Œä¸ºè¢«å±€é™åœ¨å±æ€§çš„è®¿é—®ï¼Œè°ƒç”¨å’Œå…ƒç´ çš„è®¿é—®ï¼Œä¸ä¼šå»¶ä¼¸åˆ°åç»­çš„è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯è¯´å¯é€‰è°ƒç”¨ä¸ä¼šé˜»æ­¢ a?.b / someMethod() è¡¨è¾¾å¼ä¸­çš„é™¤æ³•è¿ç®—æˆ– someMethod çš„æ–¹æ³•è°ƒç”¨ ?? ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ å½“å·¦ä¾§æ“ä½œæ•°ä¸º null æˆ– undefinedæ—¶ï¼Œè¿”å›å³ä¾§çš„æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦è¾¹çš„æ“ä½œç¬¦ ä¸ || è¿ç®—ç¬¦ä¸åŒï¼Œ?? ä¹Ÿæ˜¯åªåˆ¤æ–­ null å’Œ undefinedï¼Œå…¶ä»–çš„ falsy å®ƒæ˜¯ä¸ä¼šè¿”å›å³ä¾§çš„ã€‚ ?: å¯é€‰å±æ€§è¿™ä¸ªè¿ç®—ç¬¦ä¸€èˆ¬ç”¨åœ¨å®šä¹‰ç±»å‹çš„æ—¶å€™ interface Person &#123; age?: number; // equal to // age: number | undefined&#125; PartialæŠŠæŸä¸ªæ¥å£çš„å±æ€§å˜æˆå¯é€‰å±æ€§ interface Person &#123; name: string; age: number;&#125;/* type CopyPerson = &#123; name?: string; age?: number;&#125; */type CopyPerson = Partial&lt;Person&gt; Requiredä½¿ç”¨ Required å¯ä»¥æŠŠå¯é€‰å±æ€§è½¬ä¸ºå¿…é€‰å±æ€§ã€‚ &amp; è¿ç®—ç¬¦åœ¨ TypeScript ä¸­ä½¿ç”¨ &amp; è¿ç®—ç¬¦å¯ä»¥å°†å¤šä¸ªç±»å‹å åŠ æˆä¸ºä¸€ç§ç±»å‹ã€‚ åŒååŸºç¡€ç±»å‹åˆå¹¶ï¼Œå¦‚æœå­˜åœ¨ç›¸åŒçš„æˆå‘˜ï¼Œé‚£ä¹ˆè¯¥æˆå‘˜çš„ç±»å‹ä¼šå˜æˆ never åŒåéåŸºç¡€ç±»å‹åˆå¹¶ï¼Œæ˜¯å¯ä»¥åˆå¹¶çš„ | åˆ†éš”ç¬¦ åœ¨ TypeScript ä¸­è”åˆç±»å‹ï¼ˆUnion Typesï¼‰è¡¨ç¤ºå–å€¼å¯ä»¥ä¸ºå¤šç§ç±»å‹ä¸­çš„ä¸€ç§ï¼Œè”åˆç±»å‹ä½¿ç”¨ | åˆ†éš”æ¯ä¸ªç±»å‹. const test: string | undefined; è¡¨ç¤º test å¯ä»¥æ˜¯ string æˆ– undefined. RecordRecord&lt;K extends keyof any, T&gt; å°† K ä¸­æ‰€æœ‰çš„å±æ€§çš„å€¼è½¬åŒ–ä¸º T ç±»å‹ã€‚ type Record&lt;K extends keyof any, T&gt; = &#123; [P in K]: T&#125;// exampletype Route = 'home' | 'demo' | 'help';const route: Record&lt;Route, string&gt; = &#123; home: string; demo: string; gelp: string;&#125; PickPick&lt;T, K extends keyof T&gt; å°†æŸä¸ªç±»å‹ä¸­çš„å­å±æ€§æŒ‘å‡ºæ¥ï¼Œå˜æˆåŒ…å«è¿™ä¸ªç±»å‹éƒ¨åˆ†å±æ€§çš„å­ç±»å‹ã€‚ type Pick&lt;T, K extends keyof T&gt; = &#123; [P in K]: T[P]&#125;// exampleinterface Todo &#123; title: string; description: string; status: boolean;&#125;type TodoPreview = Pick&lt;Todo, 'title' | 'status'&gt;;const todo: TodoPreview = &#123; title: 'todo1', status: false&#125; EXcludeExclude&lt;T, U&gt; å°†æŸä¸ªç±»å‹ä¸­çš„å¦ä¸€ä¸ªç±»å‹ç§»é™¤ã€‚ // å¦‚æœ T èƒ½å¤Ÿèµ‹å€¼ç»™ Uï¼Œé‚£ä¹ˆå°±è¿”å› never ç±»å‹ï¼Œå¦åˆ™è¿”å› T ç±»å‹ï¼Œå…¶å®å°±æ˜¯å°† T ä¸­å±äº U çš„ç±»å‹ç§»é™¤ã€‚type Exclude&lt;T, U&gt; = T extends U ? : never : T// exampletype Demo = Exclude&lt;'a' | 'b' | 'c', 'c'&gt;; // 'a' | 'b' ReturnTypeReturnType&lt;T&gt; ç”¨äºè·å–å‡½æ•° T çš„è¿”å›ç±»å‹ã€‚ type ReturnType&lt;T extends (...args: any) =&gt; any&gt; = T extends (...args: any) =&gt; infer R ? R : any;// exampletype Demo = ReturnType&lt;() =&gt; string&gt;; // string","categories":[],"tags":[{"name":"TypeScript","slug":"typescript","permalink":"https://kaviilee.github.io/blog/tags/typescript/"}]},{"title":"æµè§ˆå™¨åé€€äº‹ä»¶è¸©å‘","slug":"æµè§ˆå™¨åé€€äº‹ä»¶è¸©å‘","date":"2021-01-20T10:43:29.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2021/01/20/æµè§ˆå™¨åé€€äº‹ä»¶è¸©å‘/","link":"","permalink":"https://kaviilee.github.io/blog/2021/01/20/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%90%8E%E9%80%80%E4%BA%8B%E4%BB%B6%E8%B8%A9%E5%9D%91/","excerpt":"è¿™æ˜¯ä¸€æ¬¡å…³äºæµè§ˆå™¨åé€€äº‹ä»¶çš„è¸©å‘è®°å½•ã€‚","text":"è¿™æ˜¯ä¸€æ¬¡å…³äºæµè§ˆå™¨åé€€äº‹ä»¶çš„è¸©å‘è®°å½•ã€‚ èƒŒæ™¯é¡µé¢éœ€è¦åœ¨æ‰“å¼€ä¸€ä¸ª Drawer çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨çš„åé€€æŒ‰é’®ä¹‹åï¼Œå°† Drawer å…³é—­ï¼Œè€Œä¸æ˜¯é¡µé¢å‘ç”Ÿäº†åé€€ã€‚ è§£å†³æ–¹æ¡ˆæ€è·¯å¹¶ä¸æ˜¯è¦é˜»æ­¢æµè§ˆå™¨è§¦å‘åé€€äº‹ä»¶ï¼Œè€Œæ˜¯åœ¨æµè§ˆå™¨è§¦å‘åé€€äº‹ä»¶å‰ï¼Œå°†é¢„å®šçš„ history ä¿¡æ¯åŠ å…¥åˆ°æµè§ˆå™¨çš„è·¯ç”±ä¿¡æ¯ä¸­ï¼Œåé€€æ—¶ï¼Œæ˜¯åé€€åˆ°äº†æŒ‡å®šçš„é¡µé¢ï¼Œç„¶ååœ¨åé€€äº‹ä»¶ä¸­åŠ å…¥è‡ªå·±çš„å¤„ç†ã€‚ ä¸€ç‚¹ç‚¹ä»£ç åˆ©ç”¨ history.pushState() æ–¹æ³•åœ¨æµè§ˆå™¨çš„å†å²å †æ ˆä¸­æ·»åŠ ä¸€ä¸ª stateã€‚ç„¶åå†ç›‘å¬ popstate äº‹ä»¶ï¼ŒåŠ å…¥è‡ªå·±çš„å¤„ç†ã€‚ const handleOnpopState = () =&gt; &#123; // your code Drawer.close()&#125;window.history.pushState(null, '', document.URL);// mountedwindow.addEventListener('popstate', handleOnpopState, false)// unmountwindow.removeEventListener('popstate', handleOnpopState, false) æ³¨æ„ç‚¹å½“ç½‘é¡µåŠ è½½æ—¶,å„æµè§ˆå™¨å¯¹popstateäº‹ä»¶æ˜¯å¦è§¦å‘æœ‰ä¸åŒçš„è¡¨ç°,Chrome å’Œ Safariä¼šè§¦å‘popstateäº‹ä»¶, è€ŒFirefoxä¸ä¼š.","categories":[],"tags":[]},{"title":"å…³äºAntdæ¡†æ¶ä¸‹CascaderåŠ¨æ€åŠ è½½é€‰é¡¹çš„é—®é¢˜","slug":"å…³äºantdæ¡†æ¶ä¸‹cascaderåŠ¨æ€åŠ è½½é€‰é¡¹çš„é—®é¢˜","date":"2021-01-13T18:07:43.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2021/01/13/å…³äºantdæ¡†æ¶ä¸‹cascaderåŠ¨æ€åŠ è½½é€‰é¡¹çš„é—®é¢˜/","link":"","permalink":"https://kaviilee.github.io/blog/2021/01/13/%E5%85%B3%E4%BA%8Eantd%E6%A1%86%E6%9E%B6%E4%B8%8Bcascader%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E9%80%89%E9%A1%B9%E7%9A%84%E9%97%AE%E9%A2%98/","excerpt":"è¿‘æ—¥åœ¨ä½¿ç”¨ Ant Design çš„ Cascader åˆå§‹åŒ–ä¼ å€¼é‡åˆ°çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚","text":"è¿‘æ—¥åœ¨ä½¿ç”¨ Ant Design çš„ Cascader åˆå§‹åŒ–ä¼ å€¼é‡åˆ°çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚ é—®é¢˜æè¿°åœ¨ä½¿ç”¨ Cascader ç»„ä»¶çš„åŠ¨æ€åŠ è½½æ•°æ®æ—¶ï¼Œç”±äºéœ€è¦ä¼ å…¥åˆå§‹å€¼æ¥åˆå§‹åŒ–å½“å‰çš„é€‰æ‹©ï¼Œä½†æ˜¯æ­¤æ—¶ç»„ä»¶å†…å¹¶ä¸å­˜åœ¨å¯¹åº”çš„æ•°æ®ã€‚å‡è®¾æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª Number ç±»å‹çš„å­—æ®µæ¥ä½œä¸º Cascader çš„ value å€¼ï¼Œé‚£ä¹ˆå¦‚æœè´¸ç„¶ä¼ å…¥æ•°å­—ç±»å‹çš„æ•°ç»„ï¼Œå°±ä¼šå‡ºç°åˆå§‹åŒ–ä¸æ­£å¸¸çš„é—®é¢˜ã€‚ è§£å†³æ–¹æ¡ˆæ—¢ç„¶ä¸èƒ½ç®€å•çš„ä¼ å…¥æ•°å­—ç±»å‹çš„æ•°ç»„æ¥åˆå§‹åŒ–ç»„ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¼ å…¥å¯¹è±¡æ•°ç»„æˆ–è€…æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼Œåˆ©ç”¨ Cascader çš„ displayRender å±æ€§æ¥æ¸²æŸ“ã€‚ å¹¶åˆ©ç”¨ fetched æ¥æ§åˆ¶æ˜¯å¦å·²ç»è¿›è¡Œå¼‚æ­¥åŠ è½½ï¼Œå½“è¿›è¡Œå¼‚æ­¥åŠ è½½ä¹‹åï¼Œæ¸²æŸ“å°±å˜ä¸ºé€‰æ‹©çš„å€¼ã€‚ å…·ä½“å¯ä»¥æŸ¥çœ‹ åŠ¨æ€åŠ è½½é€‰é¡¹åˆå§‹åŒ–ç»„ä»¶","categories":[],"tags":[{"name":"Antd v4","slug":"antd-v4","permalink":"https://kaviilee.github.io/blog/tags/antd-v4/"}]},{"title":"æµ…å° deno","slug":"æµ…å°deno","date":"2021-01-05T00:01:36.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2021/01/05/æµ…å°deno/","link":"","permalink":"https://kaviilee.github.io/blog/2021/01/05/%E6%B5%85%E5%B0%9Ddeno/","excerpt":"æ–°çš„ä¸€å¹´æ–°çš„å¼€å§‹ï¼æ–°çš„ä¸œè¥¿ï¼Œå­¦èµ·ï¼(æ‰¶æœ•èµ·æ¥ï¼Œæœ•è¿˜å¯ä»¥å†å­¦","text":"æ–°çš„ä¸€å¹´æ–°çš„å¼€å§‹ï¼æ–°çš„ä¸œè¥¿ï¼Œå­¦èµ·ï¼(æ‰¶æœ•èµ·æ¥ï¼Œæœ•è¿˜å¯ä»¥å†å­¦ å®ƒæ˜¯ Node.js çš„æ›¿ä»£å“ã€‚æœ‰äº†å®ƒï¼Œå°†æ¥å¯èƒ½å°±ä¸éœ€è¦ Node.js äº†ã€‚ â€”â€”â€”â€” é˜®ä¸€å³°ã€ŠDeno è¿è¡Œæ—¶å…¥é—¨æ•™ç¨‹ï¼šNode.js çš„æ›¿ä»£å“ã€‹ Deno ç®€ä»‹Deno æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„è¿è¡Œæ—¶ï¼Œå³åŸºäº Google V8 å¼•æ“çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œè¯¥è¿è¡Œæ—¶ç¯å¢ƒæ˜¯ä½¿ç”¨ Rust è¯­è¨€å¼€å‘çš„ï¼Œå¹¶ä½¿ç”¨ Tokio åº“æ¥æ„å»ºäº‹ä»¶å¾ªç¯ç³»ç»Ÿã€‚Deno æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š é»˜è®¤å®‰å…¨ã€‚é™¤éæ˜¾å¼å¯ç”¨ï¼Œå¦åˆ™ä¸èƒ½è®¿é—®æ–‡ä»¶ï¼Œç½‘ç»œæˆ–ç¯å¢ƒ å¼€ç®±å³ç”¨çš„ TypeScript æ”¯æŒ åªåˆ†å‘ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ å…·æœ‰å†…ç½®çš„å·¥å…·ç®±ï¼Œæ¯”å¦‚ä¾èµ–é¡¹æ£€æŸ¥å·¥å…·ï¼ˆdeno infoï¼‰å’Œ ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼ˆdeno fmtï¼‰ æ‹¥æœ‰ä¸€ç»„ä¿è¯èƒ½å¤Ÿä¸ Deno ä¸€èµ·ä½¿ç”¨çš„ç»è¿‡å®¡æŸ¥çš„æ ‡å‡†æ¨¡å—ï¼šdeno.land/std è„šæœ¬å¯ä»¥æ‰“åŒ…åˆ°ä¸€ä¸ª JavaScript æ–‡ä»¶ä¸­ ä¸€äº›å‘½ä»¤æ‰§è¡Œ deno -h æˆ– deno --help å°±èƒ½å¤Ÿæ˜¾ç¤º Deno æ”¯æŒçš„å­å‘½ä»¤ï¼Œä»¥ä¸‹åˆ—ä¸¾ä¸€äº›ä¸»è¦ä½¿ç”¨çš„å‘½ä»¤ deno bundleï¼šdeno bundle [options] [out_file] å°†è„šæœ¬å’Œä¾èµ–æ‰“åŒ… deno fmtï¼šä»£ç æ ¼å¼åŒ– deno infoï¼šæ˜¾ç¤ºæœ¬åœ°çš„ä¾èµ–ç¼“å­˜ deno installï¼šå°†è„šæœ¬å®‰è£…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ deno replï¼šè¿›å…¥ REPL ç¯å¢ƒ deno runï¼šè¿è¡Œè„šæœ¬ ä¸ Node.js çš„åŒºåˆ«Deno æ—¢ç„¶æ˜¯ Node.js çš„ â€æ›¿ä»£å“â€œï¼Œç©¶ç«Ÿè§£å†³äº† Node.js çš„å“ªäº›ç—›ç‚¹å‘¢ï¼Ÿ æ¨¡å—å¼•å…¥çš„æ–¹å¼Node æ¨¡å—å¼•å…¥Node å†…ç½® API é€šè¿‡æ¨¡å—å¼•å…¥çš„æ–¹å¼å¼•å…¥ã€‚ const path = require('fs')fs.readFileSync('demo.txt') Deno å…¨å±€å¯¹è±¡åœ¨ Deno ä¸­åˆ™æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ Deno çš„å±æ€§å’Œæ–¹æ³• Deno.readFileSync('demo.txt') æ¨¡å—ç³»ç»Ÿåœ¨æ¨¡å—ç³»ç»Ÿæ–¹é¢ï¼Œè¿™æ˜¯ Deno å’Œ Node.js å·®åˆ«æœ€å¤§çš„åœ°æ–¹ã€‚ Node.js CommonJS è§„èŒƒNode.js é‡‡ç”¨çš„æ˜¯ CommonJS æ¨¡å—è§„èŒƒã€‚å…·ä½“è§„èŒƒè§ CommonJS è§„èŒƒ const fs = require('fs')module.exports = function() &#123; console.log('demo')&#125; Deno çš„æ¨¡å—è§„èŒƒä¸åŒäº Node.js çš„è§„èŒƒï¼ŒDeno æ‰€é‡‡ç”¨çš„æ¨¡å—è§„èŒƒæ˜¯ ES Module è§„èŒƒ import as fs from \"https//deno.land/std/fs/mod.ts\"import &#123; Application &#125; from \"./initApp.js\"import creatApp from \"./creatApp.ts\" åœ¨ Deno ä¸­ï¼Œå¯ä»¥ç›´æ¥ import url æ¥å¼•ç”¨çº¿ä¸Šçš„èµ„æºï¼Œå¹¶ä¸”èµ„æºçš„æ‰©å±•åå’Œæ–‡ä»¶åä¸å¯ä»¥çœç•¥ã€‚ å®‰å…¨è¿™ä¸ªå®‰å…¨ä¸»è¦ä½“ç°åœ¨ Deno çš„æ“ä½œå¾ˆå¤šéƒ½éœ€è¦æä¾›æƒé™ï¼Œæ¯”å¦‚ï¼š // demo.tsconst file = await Deno.creat(\"./bar.txt\")console.log(`create file: bar.txt`) æˆ‘ä»¬æ‰§è¡Œè¿™æ®µä»£ç  $ deno run .\\demo.tsCheck file:///C:/Users/lee/Desktop/demo.tserror: Uncaught (in promise) PermissionDenied: read access to \"bar.txt\", run again with the --allow-read flag at processResponse (deno:core/core.js:223:11) at Object.jsonOpAsync (deno:core/core.js:240:12) at async open (deno:runtime/js/30_files.js:44:17) at async file:///C:/Users/lee/Desktop/demo.ts:1:14 è¿™ä¼šå‘Šè¯‰æˆ‘ä»¬æ²¡æœ‰ç»™äºˆå®ƒ --allow-read çš„æƒé™ï¼Œå½“æˆ‘ä»¬ç»™äºˆå®ƒæƒé™åï¼Œå°±èƒ½æˆåŠŸåˆ›å»ºæ–‡ä»¶ $ deno run --allow-read --allow-write .\\demo.tscreate file: bar.txt Deno çš„æƒé™åˆ—è¡¨ -A, --allow-all å…è®¸æ‰€æœ‰æƒé™ï¼Œè¿™å°†ç¦ç”¨æ‰€æœ‰å®‰å…¨é™åˆ¶ã€‚ --allow-env å…è®¸ç¯å¢ƒè®¿é—®ï¼Œä¾‹å¦‚è¯»å–å’Œè®¾ç½®ç¯å¢ƒå˜é‡ã€‚ --allow-hrtime å…è®¸é«˜ç²¾åº¦æ—¶é—´æµ‹é‡ï¼Œé«˜ç²¾åº¦æ—¶é—´èƒ½å¤Ÿåœ¨è®¡æ—¶æ”»å‡»å’Œç‰¹å¾è¯†åˆ«ä¸­ä½¿ç”¨ã€‚ --allow-net=&lt;allow-net&gt; å…è®¸ç½‘ç»œè®¿é—®ã€‚æ‚¨å¯ä»¥æŒ‡å®šä¸€ç³»åˆ—ç”¨é€—å·åˆ†éš”çš„åŸŸåï¼Œæ¥æä¾›åŸŸåç™½åå•ã€‚ --allow-plugin å…è®¸åŠ è½½æ’ä»¶ã€‚è¯·æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ªä¸ç¨³å®šåŠŸèƒ½ã€‚ --allow-read=&lt;allow-read&gt; å…è®¸è¯»å–æ–‡ä»¶ç³»ç»Ÿã€‚æ‚¨å¯ä»¥æŒ‡å®šä¸€ç³»åˆ—ç”¨é€—å·åˆ†éš”çš„ç›®å½•æˆ–æ–‡ä»¶ï¼Œæ¥æä¾›æ–‡ä»¶ç³»ç»Ÿç™½åå•ã€‚ --allow-run å…è®¸è¿è¡Œå­è¿›ç¨‹ã€‚è¯·æ³¨æ„ï¼Œå­è¿›ç¨‹ä¸åœ¨æ²™ç®±ä¸­è¿è¡Œï¼Œå› æ­¤æ²¡æœ‰ä¸ deno è¿›ç¨‹ç›¸åŒçš„å®‰å…¨é™åˆ¶ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚ --allow-write=&lt;allow-write&gt; å…è®¸å†™å…¥æ–‡ä»¶ç³»ç»Ÿã€‚æ‚¨å¯ä»¥æŒ‡å®šä¸€ç³»åˆ—ç”¨é€—å·åˆ†éš”çš„ç›®å½•æˆ–æ–‡ä»¶ï¼Œæ¥æä¾›æ–‡ä»¶ç³»ç»Ÿç™½åå•ã€‚ è¿™é‡Œæ’ä¸€å¥ä¸å±äºæƒé™ä½†æ˜¯å±äº run çš„æ—¶å€™å¯ä»¥ä¼ å…¥çš„é€‰é¡¹ --unstableï¼Œä¼ é€’è¿™ä¸ªé€‰é¡¹å°†å…è®¸åœ¨è¿è¡Œæ—¶ä½¿ç”¨ä¸ç¨³å®šçš„ APIã€‚ ç™½åå•Deno è¿˜å¯ä»¥è®¾ç½®ç™½åå•æ¥æ§åˆ¶æƒé™çš„ç²’åº¦ã€‚ deno run --allow-read=/etc https://deno.land/std@$STD_VERSION/examples/main.ts /etc/passwd å¯ä»¥ä½¿å¾—æ–‡ä»¶ç³»ç»Ÿèƒ½å¤Ÿè®¿é—® /etc ç›®å½•ã€‚ æ”¯æŒ TypeScriptDeno åŸç”Ÿæ”¯æŒ TSï¼Œè¿™ç‚¹å¯¹äºä¸€ä¸ª TS ä½¿ç”¨è€…æ¥è¯´å®åœ¨æ˜¯å¤ªèµäº†ã€‚Node.js ä¸­è¦ä½¿ç”¨ TypeScript çš„è¯è¿˜éœ€è¦ ts-node ä¹‹ç±»çš„å·¥å…·çš„æ”¯æŒã€‚ æ—  node_modulesä¸åŒäº Node.jsï¼ŒDeno å¹¶æ²¡æœ‰ node_modules æ¥è¿›è¡ŒåŒ…ç®¡ç†ã€‚ä½†æ˜¯ Deno åœ¨æ¯æ¬¡åˆæ‰§è¡Œæ—¶ï¼Œä¼šè¿›è¡Œä¾èµ–çš„ä¸‹è½½å’Œç¼–è¯‘ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ deno info æ¥æŸ¥çœ‹ $ deno info [file_name]DENO_DIR location: \"C:\\\\Users\\\\lee\\\\AppData\\\\Local\\\\deno\"Remote modules cache: \"C:\\\\Users\\\\lee\\\\AppData\\\\Local\\\\deno\\\\deps\"TypeScript compiler cache: \"C:\\\\Users\\\\lee\\\\AppData\\\\Local\\\\deno\\\\gen\" å…¶å®è¿™å°±ç›¸å½“äºæ˜¯è¿›è¡Œäº†åŒ…ç®¡ç†ï¼Œç¼–è¯‘åçš„æ–‡ä»¶ï¼Œè¿œç¨‹æ¨¡å—ç¼“å­˜éƒ½ä¼šæ”¾åœ¨ç›¸åº”çš„ä½ç½®ã€‚ å¼‚æ­¥æ“ä½œNode ç”¨å›è°ƒçš„æ–¹å¼å¤„ç†å¼‚æ­¥æ“ä½œï¼Œè€Œ Deno åˆ™ä½¿ç”¨çš„æ˜¯ Promise // nodeconst fs = require('fs')fs.readFile('./demo.txt', (err, data) =&gt; &#123; if (err) &#123; throw(err) &#125; console.log(data)&#125;)// denoconst data = await Deno.readFile('./demo.txt')console.log(data) è¿™æ˜¯å®æˆ˜ é¡¹ç›®é‡‡ç”¨çš„æ¡†æ¶æ˜¯ oakï¼Œåº”è¯¥æ˜¯å¯¹åº”äº† Node.js çš„ Koaï¼Œå¦‚æœä¹‹å‰ä½¿ç”¨è¿‡ Koa çš„è¯ï¼Œä½¿ç”¨ oak è¿™ä¸ªæ¡†æ¶åº”è¯¥ä¼šå¾ˆç†Ÿæ‚‰ã€‚ å‡†å¤‡å·¥ä½œå› ä¸ºç¬”è€…æ˜¯ç”¨çš„ VSCode åœ¨å¼€å‘ï¼Œæ‰€ä»¥åœ¨å¼€å§‹å†™ Deno é¡¹ç›®å‰æˆ‘ä»¬å…ˆåšå¥½ç›¸å…³è®¾ç½®ã€‚ åœ¨ .vscode/settings.json ä¸­å†™å…¥è®¾ç½® &#123; \"deno.enable\": true, \"deno.import_intellisense_origins\": &#123; \"https://deno.land\": true &#125;, \"deno.lint\": true, \"[typescript]\": &#123; \"editor.defaultFormatter\": \"denoland.vscode-deno\", &#125;, \"[typescriptreact]\": &#123; \"editor.defaultFormatter\": \"denoland.vscode-deno\", &#125;,&#125; ä½¿å¾—ç¼–è¾‘å™¨åœ¨å†™ deno æ—¶èƒ½å¤Ÿè¿›è¡Œä»£ç æç¤ºã€‚ è™½ç„¶ Deno è¯´è‡ªå·±æ²¡æœ‰åƒ npmjs é‚£æ ·çš„åŒ…ç®¡ç†ä¸­å¿ƒï¼Œä½†å…¶å®ä»–è¿˜æ˜¯æœ‰å±äºè‡ªå·±çš„ Denoæ ‡å‡†åº“ï¼Œç›®å‰ç‰ˆæœ¬æ˜¯ 0.83.0ã€‚å½“æˆ‘ä»¬è¦ä½¿ç”¨ä¸€äº›æ ‡å‡†æ¨¡å—ï¼Œæ¯”å¦‚ pathï¼Œæˆ‘ä»¬å°±è¦å»å¼•å…¥æ ‡å‡†åº“ã€‚ é¡¹ç›®ç»“æ„â””â”€â”€ deno-demo â”œâ”€â”€ configs.ts # é…ç½®ä¿¡æ¯æ–‡ä»¶ â”œâ”€â”€ db # æ•°æ®åº“ç›®å½• â”œâ”€â”€ controllers # æ§åˆ¶å™¨ç›®å½• â”œâ”€â”€ app.ts # å…¥å£æ–‡ä»¶ â”œâ”€â”€ middlewares # ä¸­é—´ä»¶ç›®å½• â”œâ”€â”€ models # æ¨¡å‹å®šä¹‰ç›®å½• â”œâ”€â”€ routes.ts # è·¯ç”±æ–‡ä»¶ â””â”€â”€ services # æœåŠ¡å±‚ç¨‹åºç›®å½• å…¥å£æ–‡ä»¶app.ts import &#123; Application &#125; from \"https://deno.land/x/oak/mod.ts\";import &#123; HOST, PORT &#125; from \"./configs.ts\";import router from \"./routes.ts\";import notFound from \"./controllers/notFound.ts\";import errorMiddleware from \"./middlewares/error.ts\";const app = new Application();app.use(errorMiddleware);app.use(router.routes());app.use(router.allowedMethods());app.use(notFound);console.log(`Listening on $&#123;PORT&#125;...`);try &#123; await app.listen(`$&#123;HOST&#125;:$&#123;PORT&#125;`);&#125; catch(e) &#123; console.log(e)&#125; ä»ä»¥ä¸Šçš„ä»£ç æ¥çœ‹ï¼Œæ•´ä¸ªæµç¨‹è·Ÿ Node.js ä½¿ç”¨ Koa å¼€å‘å‡ ä¹ä¸€æ ·ã€‚ é…ç½®æ–‡ä»¶configs.ts const env = Deno.env.toObject();export const HOST = env.HOST || \"127.0.0.1\";export const PORT = env.PORT || 3000;export const DB = env.DB || \"./db/todos.json\"; åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® HOSTã€PORTã€DB ç­‰å‚æ•°ã€‚ è·¯ç”±é…ç½®routes.ts import &#123; Router &#125; from \"https://deno.land/x/oak/mod.ts\";import getTodos from \"./controllers/getTodos.ts\";import createTodo from \"./controllers/createTodo.ts\";import updateTodo from \"./controllers/updateTodo.ts\";import deleteTodo from \"./controllers/deleteTodo.ts\";const router = new Router();router .get(\"/todos\", getTodos) .post(\"/todos\", createTodo) .put(\"/todos/:id\", updateTodo) .delete(\"/todos/:id\", deleteTodo);export default router; è·¯ç”±æ–‡ä»¶ä¹Ÿå’Œä½¿ç”¨ Koa-router æ—¶çš„ä»£ç å·®ä¸å¤šã€‚ å®šä¹‰æ¨¡å‹ï¼ˆmodelï¼‰å®šä¹‰æ¨¡å‹åœ¨æœ¬é¡¹ç›®ä¸­ä½“ç°ä¸ºå®šä¹‰äº†ä¸€ä¸ªæ¥å£ model/todo.ts export interface Todo &#123; id: string; userId: number; title: string; status: boolean;&#125; æ•°æ®æ“ä½œservice/db.ts import &#123; DB &#125; from \"../configs.ts\";import &#123; Todo &#125; from \"../models/todo.ts\";// è·å– Todo æ•°æ®export const fetchTodo = async (): Promise&lt;Todo[]&gt; =&gt; &#123; const data = await Deno.readFile(DB); const decoder = new TextDecoder(); const decodedData = decoder.decode(data); return JSON.parse(decodedData);&#125;;// å†™å…¥ Todo æ•°æ®export const persistTodo = async (data: Todo[]): Promise&lt;void&gt; =&gt; &#123; const encoder = new TextEncoder(); await Deno.writeFile(DB, encoder.encode(JSON.stringify(data)));&#125;; æ•°æ®çš„å¢åˆ æ”¹æŸ¥è¯¦æƒ…è§é¡¹ç›®çš„ controllers ä¸‹çš„æ–‡ä»¶ Not Foundå½“ api ä¸èƒ½åŒ¹é…åˆ°å¯¹åº”çš„è·¯ç”±æ—¶ï¼Œè¿”å› Not Found ä¿¡æ¯ controllers/notFound.ts import &#123; Response &#125; from \"https://deno.land/x/oak/mod.ts\";export default (&#123; response &#125;: &#123; response: Response &#125;) =&gt; &#123; response.status = 404; response.body = &#123; message: \"Not Found\" &#125;;&#125;; ä¸­é—´ä»¶ Middlewaresæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªä¸­é—´ä»¶ error.ts æ¥å¤„ç†è¯»ä¸åˆ°æ•°æ®çš„é”™è¯¯ moddlewares/error.ts import &#123; Response &#125; from \"https://deno.land/x/oak/mod.ts\";export default async ( &#123; response &#125;: &#123; response: Response &#125;, next: () =&gt; Promise&lt;void&gt;,) =&gt; &#123; try &#123; await next(); &#125; catch (err) &#123; response.status = 500; response.body = &#123; message: err.message &#125;; &#125;&#125;; æ€»ç»“åœ¨è¿›è¡Œä»¥ä¸Šä»£ç çš„å†™å…¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œ run æ•´ä¸ªé¡¹ç›®äº† æ³¨æ„ run çš„æ—¶å€™è¦å¸¦ä¸Š -A æˆ– --allow-allï¼Œæ„æ€æ˜¯ç»™äºˆå…¨éƒ¨æƒé™ç»™å½“å‰é¡¹ç›®ã€‚ deno run -A ./app.tsCheck file:///D:/DenoDemo/app.tsListening on 3000... okï¼æ•´ä¸ªé¡¹ç›®å°±è·‘èµ·æ¥å•¦ã€‚è¿™æ¬¡ deno çš„åˆä½“éªŒä¹Ÿå°±å®Œæˆäº†ã€‚å®Œæ•´ä»£ç çš„åœ°å€æ˜¯ deno-demoã€‚ æ³¨æ„äº‹é¡¹ ä¸èƒ½å¼€ä»£ç†ã€‚å¦åˆ™æ— æ³•è¿è¡Œ","categories":[],"tags":[]},{"title":"è®°ä¸€æ¬¡æ–‡å­—æ‹·è´","slug":"è®°ä¸€æ¬¡æ–‡å­—æ‹·è´","date":"2020-12-29T14:54:50.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2020/12/29/è®°ä¸€æ¬¡æ–‡å­—æ‹·è´/","link":"","permalink":"https://kaviilee.github.io/blog/2020/12/29/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%96%87%E5%AD%97%E6%8B%B7%E8%B4%9D/","excerpt":"Clipboard APIï¼Œâ€œèˆ¹æ–°â€çš„æµè§ˆå™¨ä¸ç³»ç»Ÿå‰ªè´´æ¿äº¤äº’çš„å¼‚æ­¥ APIã€‚","text":"Clipboard APIï¼Œâ€œèˆ¹æ–°â€çš„æµè§ˆå™¨ä¸ç³»ç»Ÿå‰ªè´´æ¿äº¤äº’çš„å¼‚æ­¥ APIã€‚ å°å°çš„ç¢ç¢å¿µæ°å·§å‰æ®µæ—¶é—´è¦åš å¤åˆ¶åˆ°å‰ªè´´æ¿ è¿™ä¸ªåŠŸèƒ½ï¼Œå°±å»æŸ¥äº†ä¸€ä¸‹å®ç°æ–¹å¼ï¼Œå¤§è‡´éƒ½æ˜¯ document.execCommand æ¥å®ç°ã€‚ä½¿ç”¨çš„æ—¶å€™æ²¡å¤šæ³¨æ„è¿™ä¸ª API å·²ç»åºŸå¼ƒï¼Œä¹‹åå‘ç°äº†ï¼Œè§‰å¾—æ—¢ç„¶åºŸå¼ƒå°±åº”è¯¥æœ‰æ›¿ä»£çš„ã€‚äºæ˜¯å†ç»§ç»­æŸ¥äº†æŸ¥ï¼ŒåŸæ¥ç¡®å®æ˜¯æœ‰æ›¿ä»£ï¼Œå°±æ˜¯ä»Šå¤©çš„ä¸»è§’ Clipboard APIã€‚ æ¥ä¸‹æ¥å°±æ˜¯é€šè¿‡æ¯”å¯¹ document.execCommand ä¸ Clipboard API çš„ä½¿ç”¨æ–¹æ³•æ¥ä»‹ç»è¿™ä¸¤ç§æ–¹å¼çš„åŒºåˆ«ï¼Œæ¥è®¤è¯† Clipboard APIã€‚ å†™å…¥ç³»ç»Ÿå‰ªè´´æ¿æœ‰ä¸¤ç§æ–¹å¼å‘ç³»ç»Ÿå‰ªè´´æ¿å†™å…¥æ•°æ®ã€‚document.execCommand è§¦å‘ cut å’Œ copy æ¥å†™å…¥ï¼›å¦ä¸€ç§æ–¹å¼å°±æ˜¯ä½¿ç”¨ Clipboard API çš„ writeText() æˆ– write() å†™å…¥æ•°æ®ã€‚ ä½¿ç”¨ document.execCommand bool = document.execCommand(aCommandName, aShowDefaultUI, aValueArgument) è¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼Œå¦‚æœæ˜¯ false åˆ™è¡¨ç¤ºæ“ä½œä¸è¢«æ”¯æŒæˆ–æœªè¢«å¯ç”¨ã€‚ document.execCommand æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ APIï¼Œä½†æˆ‘ä»¬è¿™é‡Œåªç”¨åˆ°äº†å®ƒçš„ cutï¼Œcopyï¼Œpaste const copy &#x3D; () &#x3D;&gt; &#123; const copyEle &#x3D; document.querySelector(&#39;#copy&#39;) as HTMLInputElement copyEle.select() const success &#x3D; document.execCommand(&#39;copy&#39;) if (success) &#123; alert(&#39;å·²å°†æ–‡æœ¬å¤åˆ¶åˆ°å‰ªè´´æ¿&#39;) &#125; else &#123; alert(&#39;å¤åˆ¶å¤±è´¥&#39;) &#125;&#125;&lt;input value&#x3D;&quot;è¿™æ˜¯ä¸€ä¸ªcopyæµ‹è¯•&quot; id&#x3D;&quot;copy&quot; &#x2F;&gt;&lt;button onClick&#x3D;&#123;copy&#125;&gt;ç‚¹å‡»å¤åˆ¶&lt;&#x2F;button&gt; ä½¿ç”¨ Clipboard API ç›¸è¾ƒ document.execCommandï¼ŒClipboard API æ›´åŠ çµæ´»ï¼Œå®ƒä¸ä»…èƒ½å¤Ÿå°†å½“å‰é€‰æ‹©å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œè¿˜èƒ½å¤Ÿç›´æ¥æŒ‡å®šè¦æ”¾å…¥å‰ªè´´æ¿çš„ä¿¡æ¯ã€‚ ä¸åŒäº document.execCommandï¼ŒClipboard API éœ€è¦ç”³è¯· clipboardRead ä¸ clipboardWrite æƒé™ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ navigator.permissions.query() æ¥æŸ¥è¯¢æƒé™ï¼š navigator.permissions.query(&#123; name: 'clipboard-write' &#125;).then(res =&gt; &#123; if (res.state === 'granted' || res.state === 'prompt') &#123; // write your code &#125;&#125;) æ›´æ–°å‰ªè´´æ¿ä½¿ç”¨æ–¹æ³• const updateClipboard = (newText) =&gt; &#123; navigator.clipboard.writeText(newText).then(() =&gt; &#123; // successfully set &#125;, () =&gt; &#123; // failed &#125;)&#125; ä¸åŒæµè§ˆå™¨çš„å·®å¼‚ Chrome å¯ä»¥åœ¨æ‰€æœ‰æ‰§è¡Œä¸Šä¸‹ä¸­å†™å…¥ç³»ç»Ÿå‰ªè´´æ¿ ä¸éœ€è¦æƒé™ Firefox version 51 ä»¥ä¸Šæ‰å¼€å§‹æ”¯æŒ â€œclipboardWriteâ€ æƒé™ å…·ä½“çš„å…¼å®¹æ€§ write writeText è¯»å–ç³»ç»Ÿå‰ªè´´æ¿document.execCommand æä¾›äº† paste æŒ‡ä»¤ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿç²˜è´´å†…å®¹ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ Clipboard API çš„ read() å’Œ readText() ä½¿ç”¨ document.execCommandconst paste &#x3D; () &#x3D;&gt; &#123; const pasteText &#x3D; document.querySelector(&#39;#output&#39;) as HTMLInputElement pasteText.focus() const success &#x3D; document.execCommand(&#39;paste&#39;)&#125;&lt;input id&#x3D;&quot;output&quot; type&#x3D;&quot;text&quot;&#x2F;&gt;&lt;button onClick&#x3D;&#123;paste&#125;&gt;ç²˜è´´&lt;&#x2F;button&gt; ä½¿ç”¨ Clipboard APIåœ¨è·å¾—äº† â€œclipboard-readâ€ æƒé™ä¹‹åï¼Œå‰ªè´´æ¿çš„æ•°æ®è¯»å– navigator.clipboard.readText().then(text =&gt; &#123; document.querySelector('#output').innerText = text&#125;) è¿™ä¸ªä»£ç ç‰‡æ®µä»å‰ªè´´æ¿æå–æ–‡æœ¬å¹¶ä¸”ç”¨è¯¥æ–‡æœ¬æ›¿æ¢ ID ä¸º &quot;outbox&quot; çš„å…ƒç´ çš„å½“å‰å†…å®¹ã€‚ å…·ä½“çš„å…¼å®¹æ€§ read readText Clipboard EventClipboard API è¿˜å¯ä»¥è®©æˆ‘ä»¬å“åº” å¤åˆ¶ï¼Œå‰ªåˆ‡ï¼Œç²˜è´´ ç­‰äº‹ä»¶ã€‚åªéœ€è¦ç»™å…ƒç´ å¢åŠ å¯¹ copyï¼Œcut å’Œ paste äº‹ä»¶çš„ç›‘å¬ï¼Œå°±èƒ½å¤Ÿæ‹¦æˆªåˆ°äº‹ä»¶ä¹‹åè¿›è¡Œè‡ªå®šä¹‰çš„å¤„ç†ã€‚ Clipboard API ä¸­å®šä¹‰äº†ä¸€ä¸ª ClipboardEventï¼Œè€Œè¿™ä¸ª ClipboardEvent æœ‰ä¸€ä¸ªå±æ€§ ClipboardData (ç›®å‰è¿˜æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„å±æ€§)ï¼Œé¡¾åæ€ä¹‰è¿™æ˜¯å‰ªè´´æ¿æ•°æ®ã€‚ ClipboardData å±æ€§æ˜¯ä¸€ä¸ª DataTransfer å¯¹è±¡ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š setData(format, data)ï¼šå½“ç”¨æˆ·è¿›è¡Œå¤åˆ¶å’Œå‰ªè´´æ—¶ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥å†™å…¥ã€‚å‚æ•° format: DOMString è¡¨ç¤ºæ•°æ®çš„ç±»å‹ï¼Œå‚æ•° data: DOMString è¡¨ç¤ºæ•°æ®ã€‚ getData(format)ï¼šå¯ä»¥åœ¨ç”¨æˆ·è¿›è¡Œç²˜è´´æ—¶å¤„ç†æ•°æ®ã€‚ æ‹¦æˆª copyï¼Œcut äº‹ä»¶é€šè¿‡æ‹¦æˆªç”¨æˆ·çš„ copy å’Œ cut äº‹ä»¶ï¼Œå¯ä»¥åšåˆ°æ›´æ”¹ç”¨æˆ·çš„å‰ªè´´æ¿æ•°æ® const handleCopy = e =&gt; &#123; const selection = document.getSelection() e.clipboardData?.setData('text/plain', `ä½ çš„å‰ªè´´æ¿æ•°æ®è¢«æˆ‘æ›´æ”¹äº†å“¦~~$&#123;selection&#125;`) e.preventDefault()&#125;document.querySelector('#copy').addEventListener('copy', proxyClipboardCopy) åˆ©ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ°åœ¨ç”¨æˆ·å¤åˆ¶ç‰¹å®šå…ƒç´ çš„å†…å®¹æ—¶ï¼Œåœ¨å¤åˆ¶å†…å®¹ä¸­åŠ å…¥ä½ æƒ³åŠ å…¥çš„ä¿¡æ¯ï¼Œæ¯”å¦‚: ç‰ˆæƒä¿¡æ¯ã€‚ æ‹¦æˆª paste äº‹ä»¶åˆ©ç”¨æ‹¦æˆªç”¨æˆ·çš„ paste äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ°æ›´å¤šçš„äº‹æƒ…ï¼Œæ¯”å¦‚å¯Œæ–‡æœ¬ç¼–è¾‘ä¸­çš„ç²˜è´´å›¾ç‰‡ä¹‹åè‡ªåŠ¨ä¸Šä¼ æˆ–è€…è¿›è¡Œ base64 è½¬æ¢ä¹‹ç±»çš„æ“ä½œã€‚ &lt;textarea id&#x3D;&quot;input&quot; placeholder&#x3D;&quot;è¯·å¼€å§‹ä½ çš„è¡¨æ¼”&quot; &#x2F;&gt;const handlePaste &#x3D; (e) &#x3D;&gt; &#123; const input &#x3D; document.querySelector(&#39;#input&#39;) input.addEventListener(&#39;paste&#39;, () &#x3D;&gt; &#123; const text &#x3D; e.clipboardData.getData(&#39;text&#x2F;plain&#39;) console.log(text) e.preventDefault() &#125;)&#125; æ€»ç»“è¯´ä¸€ä¸ªå°çŸ¥è¯† document.execCommand è¿™ä¸ª API æœ¬èº«ä¹Ÿä¸æ˜¯æ ‡å‡† APIï¼Œè¿™æ˜¯ IE çš„ç§æœ‰ APIï¼Œåªæ˜¯è¢«å…¶ä»–æµè§ˆå™¨åšäº†å…¼å®¹æ”¯æŒã€‚è€Œè¿™ä¸ª API è¢«åºŸå¼ƒçš„åŸå› ä¸»è¦æ˜¯å®‰å…¨é—®é¢˜ï¼Œå®ƒä¸éœ€è¦ä»»ä½•æƒé™å°±èƒ½æ‰§è¡Œä¸€äº›æ•æ„Ÿæ“ä½œï¼Œè¿˜æœ‰å°±æ˜¯è¿™æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œè€Œä¸”æ˜¯æ“ä½œ DOM å¯¹è±¡çš„ï¼Œä¼šé˜»å¡é¡µé¢æ¸²æŸ“å’Œè„šæœ¬æ‰§è¡Œã€‚ å¯èƒ½å°±æ˜¯è¦è§£å†³ä»¥ä¸Šçš„ä¸¤ä¸ªé—®é¢˜ï¼ŒClipboard API è¢«è®¾è®¡æˆäº†éœ€è¦ç›¸å¯¹åº”çš„æƒé™æ‰èƒ½ä½¿ç”¨çš„å¼‚æ­¥æ–¹æ³•ã€‚ ç›®å‰å„ä¸ªæµè§ˆå™¨å¯¹ Clipboard API çš„æ”¯æŒä¸ç›¸åŒï¼Œå°¤å…¶æ˜¯åœ¨èƒ½å¤Ÿå¤åˆ¶æ›´å¤æ‚å†…å®¹çš„ write å’Œ read ä¸Šï¼ŒChrome å®ç°äº†è€Œ Firefox å´è¿˜æ²¡æœ‰å®ç°ã€‚è€Œä¸”å…·ä½“çš„è§„èŒƒå’Œæ ‡å‡†ä¹Ÿè¿˜å¤„åœ¨å·¥ä½œè‰æ¡ˆé˜¶æ®µã€‚ç›¸è¾ƒäºå·²ç»è¢«åºŸå¼ƒçš„ execCommand ï¼ŒClipboard API ä¹‹åä¼šå‘å±•æˆå•¥æ ·ä¹Ÿæ˜¯è›®å€¼å¾—æœŸå¾…çš„ã€‚","categories":[{"name":"JavaScript","slug":"javascript","permalink":"https://kaviilee.github.io/blog/categories/javascript/"}],"tags":[]},{"title":"linear-gradientç¬”è®°","slug":"linear-gradientç¬”è®°","date":"2020-12-21T15:15:25.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2020/12/21/linear-gradientç¬”è®°/","link":"","permalink":"https://kaviilee.github.io/blog/2020/12/21/linear-gradient%E7%AC%94%E8%AE%B0/","excerpt":"ä¹‹å‰ç”¨ background-image çš„ linear-gradient ç”»äº†ä¸‹åˆ’çº¿ï¼Œè§‰å¾—å¾ˆç¥å¥‡ï¼Œå°±å»è®¤çœŸå­¦ä¹ äº†ä¸€ä¸‹ã€‚åšäº†äº›å°ç¬”è®°ï¼Œå¤‡å¿˜ã€‚","text":"ä¹‹å‰ç”¨ background-image çš„ linear-gradient ç”»äº†ä¸‹åˆ’çº¿ï¼Œè§‰å¾—å¾ˆç¥å¥‡ï¼Œå°±å»è®¤çœŸå­¦ä¹ äº†ä¸€ä¸‹ã€‚åšäº†äº›å°ç¬”è®°ï¼Œå¤‡å¿˜ã€‚ æ¸å˜çº¿çš„æ„æˆ CSS linear-gradient() å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªè¡¨ç¤ºä¸¤ç§æˆ–å¤šç§é¢œè‰²çº¿æ€§æ¸å˜çš„å›¾ç‰‡ã€‚å…¶ç»“æœå±äº &lt;gradient&gt; æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸€ç§ç‰¹åˆ«çš„ &lt;image&gt; æ•°æ®ç±»å‹ã€‚ ä»¥ä¸Šæ˜¯ mdn å…³äº linear-gradient çš„å®šä¹‰ã€‚è¯­æ³•å¦‚ä¸‹ linear-gradient( [ &lt;angle&gt; | to &lt;side-or-corner&gt; ,]? &lt;color-stop-list&gt; ) \\---------------------------------/ \\----------------------------/ Definition of the gradient line List of color stopswhere &lt;side-or-corner&gt; = [ left | right ] || [ top | bottom ] and &lt;color-stop-list&gt; = [ &lt;linear-color-stop&gt; [, &lt;color-hint&gt;? ]? ]#, &lt;linear-color-stop&gt; and &lt;linear-color-stop&gt; = &lt;color&gt; [ &lt;color-stop-length&gt; ]? and &lt;color-stop-length&gt; = [ &lt;percentage&gt; | &lt;length&gt; ]&#123;1,2&#125; and &lt;color-hint&gt; = [ &lt;percentage&gt; | &lt;length&gt; ] // é¢œè‰²ä¸­è½¬ç‚¹ è¿™ä¸ªå‡½æ•°è¡¨ç¤ºæ¥å—ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ˜¯æ¸å˜çš„è§’åº¦ï¼Œå®ƒå¯ä»¥æ˜¯å•ä½ä¸º degï¼Œradï¼Œgrad æˆ– turn çš„å…·ä½“çš„è§’åº¦å€¼ï¼ˆè¯¥è§’åº¦æ˜¯é¡ºæ—¶é’ˆå¢åŠ çš„ï¼‰ï¼›è¿˜å¯ä»¥æ˜¯ to å’Œè¡¨ç¤ºæ–¹å‘çš„å…³é”®è¯ï¼ˆtopï¼Œrightï¼Œbottomï¼Œleft è¿™äº›å€¼ä¼šè¢«è½¬æ¢æˆ 0Â°ï¼Œ90Â°ï¼Œ180Â°ï¼Œ270Â°ï¼Œå…¶ä½™å€¼ä¼šè¢«è½¬æ¢æˆä¸€ä¸ªä»¥é¡¶éƒ¨ä¸­å¤®æ–¹å‘ä¸ºèµ·ç‚¹é¡ºæ—¶é’ˆæ—‹è½¬çš„è§’åº¦ï¼‰ï¼Œå…³é”®è¯å…ˆåé¡ºåºæ— å½±å“ï¼Œéƒ½æ˜¯å¯é€‰çš„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ç³»åˆ—çš„é¢œè‰²èŠ‚ç‚¹ï¼Œç”±ä¸€ä¸ª &lt;color&gt; å€¼ç»„æˆï¼Œå¹¶ä¸”ä¼´éšä¸€ä¸ªå¯é€‰çš„ç»ˆç‚¹ä½ç½®ï¼Œè¿™ä¸ªç»ˆç‚¹ä½ç½®å¯ä»¥æ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”å€¼æˆ–è€…æ˜¯æ²¿ç€æ¸å˜è½´çš„ &lt;length&gt;ã€‚ æ¸å˜å®¹å™¨æ¸å˜å›¾åƒæ˜¯æ²¡æœ‰å†…åœ¨å°ºå¯¸çš„ï¼Œæ˜¯æ— é™å¤§çš„ã€‚é‚£ä¹ˆ linear-gradient å‡½æ•°çš„å…·ä½“å°ºå¯¸ç”±æ¸å˜å®¹å™¨çš„å¤§å°å†³å®šã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœç»™ä¸€ä¸ªå…ƒç´ çš„ background-image ä½¿ç”¨ linear-gradientï¼Œé‚£ä¹ˆæ¸å˜çš„åŒºåŸŸå°±æ˜¯è¯¥å…ƒç´ çš„åŒºåŸŸã€‚è€Œå¦‚æœè¯¥å…ƒç´ è®¾ç½®äº† background-size æ¸å˜å®¹å™¨å°±ä¼šå˜æˆè®¾ç½®çš„ background-size å¤§å°ã€‚ æ¸å˜çº¿ æ¸å˜çº¿(Gradient line)ç”±åŒ…å«æ¸å˜å›¾å½¢çš„å®¹å™¨çš„ä¸­å¿ƒç‚¹å’Œä¸€ä¸ªè§’åº¦æ¥å®šä¹‰çš„ã€‚ è¿™é‡Œå€Ÿç”¨ä¸€ä¸‹ mdn çš„å›¾ç‰‡ æ¸å˜è§’åº¦linear-gradient æ˜¯é€šè¿‡æ¸å˜è§’åº¦æ¥æ§åˆ¶æ¸å˜çš„æ–¹å‘çš„ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œçº¢çº¿å°±æ˜¯æ¸å˜è§’åº¦ã€‚ä¸Šæ–‡ä¸­æœ‰è¯´åˆ°ï¼Œå®šä¹‰è¿™ä¸ªè§’åº¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š ä½¿ç”¨æ–¹å‘å…³é”®è¯ï¼što &lt;top | right | bottom | left | top right | top left | bottom right | bottom left&gt; ä½¿ç”¨å…·ä½“çš„è§’åº¦å€¼ï¼šæ¯”å¦‚ 45deg å¦‚æœç¼ºçœè§’åº¦å€¼ï¼Œé»˜è®¤å€¼å°±æ˜¯ to bottom (180deg) è¿™é‡Œæ–¹å‘å…³é”®è¯æœ‰å…¶å¯¹åº”çš„å…·ä½“è§’åº¦å€¼: top(0deg)ï¼Œright(90deg)ï¼Œbottom(180deg)ï¼Œleft(270deg)ã€‚ è€Œå¦‚æœæ˜¯æ˜¯ä½¿ç”¨ to top left è¿™ç§å¤åˆçš„é¡¶è§’å…³é”®è¯ï¼Œå°±æ²¡æœ‰å¯¹åº”çš„å›ºå®šè§’åº¦ã€‚å› ä¸ºå®ƒä¾èµ–çš„æ˜¯æ¸å˜å®¹å™¨çš„å°ºå¯¸ï¼Œå¦‚æœå®¹å™¨åˆšå¥½æ˜¯ä¸€ä¸ªæ­£æ–¹å½¢ï¼Œé‚£ä¹ˆ to top right å’Œ 45deg çš„æ•ˆæœæ˜¯ä¸€æ ·ã€‚ æ¸å˜è‰²èŠ‚ç‚¹ (linear color stop)æ¸å˜è‰²èŠ‚ç‚¹å¯ä»¥è¿™æ ·å®šä¹‰ï¼š &lt;linear-color-stop&gt; = &lt;color&gt; [ &lt;percentage&gt; | &lt;length&gt; ]? è¿™æ„å‘³ç€é¢œè‰²åœ¨æ¸å˜çº¿ä¸Šçš„ä½ç½®å¹¶ä¸éœ€è¦å¼ºåˆ¶æä¾›ã€‚ å¦‚æœæ²¡æœ‰æä¾›é¢œè‰²åœ¨æ¸å˜çº¿ä¸Šçš„ä½ç½®ï¼Œé¢œè‰²çš„ä½ç½®å°±ä¼šæ²¿ç€æ¸å˜çº¿å¹³å‡åˆ†å¸ƒã€‚å¦‚æœåªæœ‰ 2 ä¸ªé¢œè‰²ï¼Œé‚£ä¹ˆé¢œè‰² 1 å°†è¢«æ”¾åœ¨ 0% çš„ä½ç½®ï¼Œé¢œè‰² 2 å°±è¢«æ”¾åœ¨ 100% çš„ä½ç½®ï¼›å¦‚æœæœ‰ 3 ä¸ªé¢œè‰²ï¼Œé‚£ä¹ˆé¢œè‰² 1 åœ¨ 0%ï¼Œé¢œè‰² 2 åœ¨ 50%ï¼Œé¢œè‰² 3 åœ¨ 100%ï¼Œä»¥æ­¤ç±»æ¨ã€‚ è¿ç”¨å¥½ linear-gradient å¯ä»¥è®©ä½ çš„é¡µé¢æ›´å¥½çœ‹(æ˜¯çœŸçš„","categories":[{"name":"CSS","slug":"css","permalink":"https://kaviilee.github.io/blog/categories/css/"}],"tags":[{"name":"CSS","slug":"css","permalink":"https://kaviilee.github.io/blog/tags/css/"}]},{"title":"ä½¿ç”¨background-imageç”»è™šçº¿","slug":"ä½¿ç”¨background-imageç”»è™šçº¿","date":"2020-12-14T14:54:50.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2020/12/14/ä½¿ç”¨background-imageç”»è™šçº¿/","link":"","permalink":"https://kaviilee.github.io/blog/2020/12/14/%E4%BD%BF%E7%94%A8background-image%E7%94%BB%E8%99%9A%E7%BA%BF/","excerpt":"åœ¨çŸ¥é“å¯ä»¥ç”¨ background-image çš„æ¸å˜æ¥å®šä¹‰è™šçº¿ä¹‹å‰æˆ‘éƒ½æ˜¯ç”¨ border-bottom: 1px dashed #ccc çš„ã€‚æ˜¯æ–°çš„çŸ¥è¯†ï¼Œè€¶ï¼","text":"åœ¨çŸ¥é“å¯ä»¥ç”¨ background-image çš„æ¸å˜æ¥å®šä¹‰è™šçº¿ä¹‹å‰æˆ‘éƒ½æ˜¯ç”¨ border-bottom: 1px dashed #ccc çš„ã€‚æ˜¯æ–°çš„çŸ¥è¯†ï¼Œè€¶ï¼ &lt;div class=\"container\"&gt; &lt;div class=\"item\"&gt;background-image&lt;/div&gt;&lt;/div&gt; ä¼ ç»Ÿçš„ border.container &#123; position: relative; .item &#123; padding: 16px; border-bottom: 1px solid #ccc; &#125;&#125; ä½¿ç”¨ border çš„æ•ˆæœå¦‚ä¸‹ ä½¿ç”¨ background-image.container &#123; position: relative; .item &#123; padding: 16px; &amp;::after &#123; position: absolute; content: ''; width: 100%; height: 1px; left: 0; bottom: 0; // important background-image: linear-gradient(to right, #ccc 0%, #ccc 50%, transparent 50%); // è®¾ç½®å›¾ç‰‡å®½åº¦ä¸é«˜åº¦ background-size: 20px 1px; background-repeat: repeat-x; &#125; &#125;&#125; ä½¿ç”¨ background-image å°±å¯ä»¥é€šè¿‡æ”¹å˜ background-size æ¥æ”¹å˜è™šçº¿çš„é—´è·ã€‚ å¦‚æœè¦æ”¹å˜è™šçº¿çš„æ–¹å‘ï¼Œéœ€è¦ä¿®æ”¹ widthï¼Œheightï¼Œbackground-imageï¼Œ background-repeat å’Œ background-sizeã€‚ &amp;::after &#123; width: 1px; height: 100%; background-image: linear-gradient(to bottom, #ccc 0%, #ccc 50%, transparent 50%); background-repeat: repeat-y; background-size: 1px 10px;&#125;","categories":[{"name":"CSS","slug":"css","permalink":"https://kaviilee.github.io/blog/categories/css/"}],"tags":[]},{"title":"antd form è‡ªå®šä¹‰æ ¡éªŒç›¸å…³é”™è¯¯é—®é¢˜","slug":"antd-form-è‡ªå®šä¹‰æ ¡éªŒç›¸å…³é”™è¯¯é—®é¢˜","date":"2020-12-09T14:17:35.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2020/12/09/antd-form-è‡ªå®šä¹‰æ ¡éªŒç›¸å…³é”™è¯¯é—®é¢˜/","link":"","permalink":"https://kaviilee.github.io/blog/2020/12/09/antd-form-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%A1%E9%AA%8C%E7%9B%B8%E5%85%B3%E9%94%99%E8%AF%AF%E9%97%AE%E9%A2%98/","excerpt":"åœ¨ä½¿ç”¨ ant design form ç»„ä»¶è‡ªå®šä¹‰æ ¡éªŒï¼Œè¿›è¡Œè¿œç¨‹æ ¡éªŒæ•°æ®å”¯ä¸€æ€§çš„æ—¶å€™ï¼Œé‡åˆ°çš„ä¸€äº›é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•ã€‚","text":"åœ¨ä½¿ç”¨ ant design form ç»„ä»¶è‡ªå®šä¹‰æ ¡éªŒï¼Œè¿›è¡Œè¿œç¨‹æ ¡éªŒæ•°æ®å”¯ä¸€æ€§çš„æ—¶å€™ï¼Œé‡åˆ°çš„ä¸€äº›é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•ã€‚ é—®é¢˜èƒŒæ™¯ä½¿ç”¨ ant design form è®¾è®¡è¡¨å•æ—¶ï¼ŒæŸäº›å­—æ®µéœ€è¦è¿›è¡Œè¿œç¨‹æ ¡éªŒï¼Œæ¯”å¦‚ï¼šç”¨æˆ·å(username)ï¼Œæ‰‹æœºå·(mobile)ï¼Œå°±éœ€è¦è‡ªå®šä¹‰æ ¡éªŒè§„åˆ™ã€‚ é”™è¯¯ç¤ºä¾‹åœ¨éœ€è¦è¿›è¡Œæ ¡éªŒçš„åœ°æ–¹ï¼Œä¹‹å‰é”™è¯¯çš„å†™æ³• &#x2F;** éªŒè¯å­—æ®µå”¯ä¸€æ€§* @param key å­—æ®µkey* @param value å­—æ®µvalue*&#x2F;const validateUnique &#x3D; (key: string, value: string): any &#x3D;&gt; &#123; if (value) &#123; remoteValidate(&#123; key, value &#125;).then((res: any) &#x3D;&gt; &#123; if (res.success) &#123; return res.data.isUnique; &#125; &#125;).catch(e &#x3D;&gt; &#123; message.error(e) return false &#125;) &#125;&#125;&lt;Form.Item label&#x3D;&quot;ç”¨æˆ·å&quot; name&#x3D;&quot;username&quot; required rules&#x3D;&#123;[&#123; required: true, message: &#39;è¯·è¾“å…¥ç”¨æˆ·å&#39; &#125;, () &#x3D;&gt; (&#123; validator(_, value) &#123; if (!value || validateUnique(&#39;username&#39;, value)) &#123; return Promise.resolve() &#125; return Promise.reject(&#39;å·²å­˜åœ¨ç›¸åŒçš„ç”¨æˆ·å&#39;) &#125;&#125;)]&#125;&gt; &lt;Input &#x2F;&gt;&lt;&#x2F;Form.Item&gt; ä»¥ä¸Šçš„å†™æ³•èƒ½å¤Ÿæ ¡éªŒå­—æ®µå€¼ä¸ºç©ºæ—¶çš„é”™è¯¯ï¼Œä½†æ˜¯åœ¨è¿›è¡Œè¿œç¨‹æ ¡éªŒå­—æ®µå”¯ä¸€æ€§çš„æ—¶å€™ï¼Œå°±æ— æ³•éªŒè¯ã€‚validateUnique è¿”å›çš„å€¼ä¸€ç›´ä¸º undefinedï¼Œä½¿å¾—é”™è¯¯ä¸€ç›´æ˜¯ å·²å­˜åœ¨ç›¸åŒçš„ç”¨æˆ·åã€‚ è§£å†³æ–¹æ³•ä¸ºäº†è§£å†³æ ¡éªŒä¸€ç›´è¿”å› undefinedï¼Œæˆ‘ä»¬ä¿®æ”¹å†™æ³•ä¸º &lt;Form.Item label&#x3D;&quot;ç”¨æˆ·å&quot; name&#x3D;&quot;username&quot; required rules&#x3D;&#123;[&#123; required: true, message: &#39;è¯·è¾“å…¥ç”¨æˆ·å&#39; &#125;, () &#x3D;&gt; (&#123; validator(_, value) &#123; return new Promise((resolve, reject) &#x3D;&gt; &#123; if (value) &#123; remoteValidate(&#123; key: &#39;username&#39;, value &#125;).then(async (res) &#x3D;&gt; &#123; if (res.data.isUnique) &#123; return resolve() &#125; return reject(&#39;å·²å­˜åœ¨ç›¸åŒçš„æ‰‹æœºå·&#39;) &#125;) &#125; else &#123; return reject() &#125; &#125;) &#125;&#125;)]&#125;&gt; &lt;Input &#x2F;&gt;&lt;&#x2F;Form.Item&gt;","categories":[{"name":"æ¡†æ¶","slug":"æ¡†æ¶","permalink":"https://kaviilee.github.io/blog/categories/%E6%A1%86%E6%9E%B6/"}],"tags":[{"name":"Antd v4","slug":"antd-v4","permalink":"https://kaviilee.github.io/blog/tags/antd-v4/"},{"name":"react","slug":"react","permalink":"https://kaviilee.github.io/blog/tags/react/"}]},{"title":"RESTful API ç®€ä»‹ä¸å®è·µ","slug":"restful","date":"2020-10-21T17:02:37.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2020/10/21/restful/","link":"","permalink":"https://kaviilee.github.io/blog/2020/10/21/restful/","excerpt":"RESTful API ç›¸å…³","text":"RESTful API ç›¸å…³ REST å…¨ç§° Representational State Transferï¼Œå³ã€Œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ã€ã€‚ç¬¦åˆ REST åŸåˆ™çš„æ¶æ„ï¼Œå°±è¢«ç§°ä¸º RESTful æ¶æ„ã€‚ ç®€ä»‹ä¸€ã€èµ„æº (Resources)REST çš„åç§°ã€Œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ã€çš„ä¸»è¯­å…¶å®æ˜¯æŒ‡çš„æ˜¯ã€Œèµ„æºã€(Resources)ï¼Œå³ â€œèµ„æºè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€ã€‚ èµ„æºï¼Œå°±æ˜¯ç½‘ç»œä¸Šçš„ä¸€ä¸ªå®ä½“ï¼Œæˆ–è€…è¯´æ˜¯ç½‘ç»œä¸Šçš„ä¸€ä¸ªå…·ä½“ä¿¡æ¯ã€‚å¯ä»¥æ˜¯æ–‡æœ¬ï¼Œå›¾ç‰‡ï¼Œæ­Œæ›²ï¼ŒæœåŠ¡ç­‰ç­‰ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ª URI æŒ‡å‘å®ƒï¼Œæ¯ç§èµ„æºå¯¹åº”ä¸€ä¸ªç‰¹å®šçš„ URIã€‚è¦è·å¾—è¿™ä¸ªèµ„æºï¼Œè®¿é—®è¿™ä¸ª URIå°±å¯ä»¥ï¼Œå› æ­¤ URI ä¹Ÿå°±æˆäº†æ¯ä¸ªèµ„æºçš„åœ°å€æˆ–è€…ç‹¬ä¸€æ— äºŒçš„æ ‡è¯†ç¬¦ã€‚ äºŒã€è¡¨ç°å±‚ (Representation)ã€Œèµ„æºã€æ˜¯ä¸€ç§ä¿¡æ¯å®ä½“ï¼Œå®ƒå¯ä»¥æœ‰å¤šç§å¤–åœ¨è¡¨ç°å½¢å¼ã€‚æˆ‘ä»¬æŠŠã€Œèµ„æºã€å…·ä½“å‘ˆç°å‡ºæ¥çš„å½¢å¼ï¼Œå«åšå®ƒçš„ã€Œè¡¨ç°å±‚ã€(Representation)ã€‚ æ¯”å¦‚ï¼Œæ–‡æœ¬å¯ä»¥ç”¨ txt æ ¼å¼è¡¨ç°ï¼Œä¹Ÿå¯ä»¥ç”¨ HTMLï¼ŒXMLï¼ŒJSONç­‰æ ¼å¼è¡¨ç°ï¼Œå›¾ç‰‡å¯ä»¥ç”¨ JPG æ ¼å¼è¡¨ç°ï¼Œä¹Ÿå¯ä»¥ç”¨ PNG æ ¼å¼è¡¨ç°ã€‚ URI åªä»£è¡¨èµ„æºçš„å®ä½“ï¼Œä¸ä»£è¡¨è¡¨ç°å½¢å¼ã€‚å…·ä½“çš„è¡¨ç°æ ¼å¼ï¼Œå°±å±äºã€Œè¡¨ç°å±‚ã€çš„èŒƒç•´ï¼Œè€ŒURIåº”è¯¥åªä»£è¡¨ã€Œèµ„æºã€çš„ä½ç½®ã€‚å®ƒçš„å…·ä½“è¡¨ç°å½¢å¼ï¼Œåº”è¯¥åœ¨HTTPè¯·æ±‚çš„å¤´ä¿¡æ¯ä¸­ç”¨ Accept å’Œ Content-Type å­—æ®µæŒ‡å®šï¼Œè¿™ä¸¤ä¸ªå­—æ®µæ‰æ˜¯å¯¹ã€Œè¡¨ç°å±‚ã€çš„æè¿°ã€‚ ä¸‰ã€çŠ¶æ€è½¬åŒ– (State Transfer)è®¿é—®ä¸€ä¸ªçŠ¶æ€ï¼Œå°±ä»£è¡¨äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ä¸€ä¸ªäº’åŠ¨è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¿…ç„¶æ¶‰åŠåˆ°æ•°æ®å’ŒçŠ¶æ€çš„å˜åŒ–ã€‚ äº’è”ç½‘é€šè®¯åè®® HTTP åè®®ï¼Œæ˜¯ä¸€ä¸ªæ— çŠ¶æ€åè®®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰çš„çŠ¶æ€éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚å› æ­¤ï¼Œå®¢æˆ·ç«¯æƒ³è¦æ“ä½œæœåŠ¡å™¨ï¼Œå°±å¿…é¡»é€šè¿‡æŸç§æ‰‹æ®µï¼Œä½¿æœåŠ¡å™¨å‘ç”Ÿã€ŒçŠ¶æ€è½¬åŒ–ã€(State Transfer)ã€‚è€Œè¿™ç§è½¬åŒ–æ˜¯å»ºç«‹åœ¨è¡¨ç°å±‚ä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯ã€Œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ã€ã€‚ åœ¨ HTTP åè®®ä¸­ï¼Œå››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯ï¼šGETï¼ŒPOSTï¼ŒPUTï¼ŒDELETEã€‚ä»–ä»¬åˆ†åˆ«å¯¹åº”å››ç§åŸºæœ¬æ“ä½œï¼šGET è·å–èµ„æºï¼ŒPOST æ–°å»ºèµ„æº(ä¹Ÿå¯ä»¥æ›´æ–°èµ„æº)ï¼ŒPUT æ›´æ–°èµ„æºï¼ŒDELETE åˆ é™¤èµ„æºã€‚ å››ã€æ€»ç»“æ€»ç»“ä¸€ä¸‹ RESTful æ¶æ„ï¼š æ¯ä¸€ä¸ª URI ä»£è¡¨ä¸€ç§èµ„æºï¼› å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œä¼ é€’è¿™ç§èµ„æºçš„è¡¨ç°å±‚ï¼› å®¢æˆ·ç«¯é€šè¿‡å››ä¸ª HTTP åŠ¨è¯ï¼Œå¯¹æœåŠ¡ç«¯èµ„æºè¿›è¡Œæ“ä½œï¼Œå®ç°ã€Œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ã€ã€‚ å®è·µä¸€ã€URLè®¾è®¡1.1 åŠ¨è¯ + å®¾è¯­RESTful çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼Œå®¢æˆ·ç«¯å‘å‡ºçš„æ•°æ®æ“ä½œæŒ‡ä»¤éƒ½æ˜¯ã€ŒåŠ¨è¯ + å®¾è¯­ã€çš„ç»“æ„ã€‚æ¯”å¦‚ï¼ŒGET /todos è¿™ä¸ªå‘½ä»¤ï¼ŒGET æ˜¯åŠ¨è¯ï¼Œ/todos æ˜¯å®¾è¯­ã€‚ åŠ¨è¯é€šå¸¸å°±æ˜¯äº”ç§ HTTP æ–¹æ³•ï¼Œå¯¹åº” CRUD æ“ä½œã€‚ GETï¼šè¯»å–ï¼ˆReadï¼‰ POSTï¼šæ–°å»ºï¼ˆCreateï¼‰ PUTï¼šæ›´æ–°ï¼ˆUpdateï¼‰ PATCHï¼šæ›´æ–°ï¼ˆUpdateï¼‰ï¼Œé€šå¸¸æ˜¯éƒ¨åˆ†æ›´æ–° DELETEï¼šåˆ é™¤ï¼ˆDeleteï¼‰ 1.2 åŠ¨è¯çš„è¦†ç›–æœ‰äº›å®¢æˆ·ç«¯åªèƒ½ä½¿ç”¨ GET å’Œ POST æ–¹æ³•ã€‚æœåŠ¡å™¨å¿…é¡»æ¥å— POST æ¨¡æ‹Ÿå…¶ä»–ä¸‰ä¸ªæ–¹æ³•(PUTï¼ŒPATCHï¼ŒDELETE) ã€‚ æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯å‘å‡ºçš„ HTTP è¯·æ±‚ï¼Œè¦åŠ ä¸Š X-HTTP-Method-Override å±æ€§ï¼Œå‘Šè¯‰æœåŠ¡å™¨åº”è¯¥ä½¿ç”¨å“ªä¸ªåŠ¨è¯æ¥è¦†ç›– POST æ–¹æ³•ã€‚ POST &#x2F;api&#x2F;todos&#x2F;4 HTTP&#x2F;1.1X-HTTP-Method-Override: PUT 1.3 å®¾è¯­å¿…é¡»æ˜¯åè¯å®¾è¯­å°±æ˜¯ API çš„ URLï¼Œæ˜¯ HTTP åŠ¨è¯ä½œç”¨çš„å¯¹è±¡ã€‚å®ƒåº”è¯¥æ˜¯åè¯ï¼Œä¸èƒ½æ˜¯åŠ¨è¯ã€‚ 1.4 å¤æ•° URLæ—¢ç„¶ URL æ˜¯åè¯ï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨å¤æ•°ï¼Œè¿˜æ˜¯å•æ•°ï¼Ÿ è¿™æ²¡æœ‰ç»Ÿä¸€çš„è§„å®šï¼Œä½†æ˜¯å¸¸è§çš„æ“ä½œæ˜¯è¯»å–ä¸€ä¸ªé›†åˆï¼Œæ¯”å¦‚ GET /articlesï¼ˆè¯»å–æ‰€æœ‰æ–‡ç« ï¼‰ï¼Œè¿™é‡Œæ˜æ˜¾åº”è¯¥æ˜¯å¤æ•°ã€‚ ä¸ºäº†ç»Ÿä¸€èµ·è§ï¼Œå»ºè®®éƒ½ä½¿ç”¨å¤æ•° URLï¼Œæ¯”å¦‚ GET /articles/2 è¦å¥½äº GET /article/2ã€‚ 1.5 é¿å…å¤šçº§ URLå¸¸è§çš„æƒ…å†µæ˜¯ï¼Œèµ„æºéœ€è¦å¤šçº§åˆ†ç±»ï¼Œå› æ­¤å¾ˆå®¹æ˜“å†™å‡ºå¤šçº§çš„ URLï¼Œæ¯”å¦‚è·å–æŸä¸ªä½œè€…çš„æŸä¸€ç±»æ–‡ç« ã€‚ GET /authors/12/categories/2 æ”¹æˆæŸ¥è¯¢å­—ç¬¦ä¸²æ›´å¥½ GET /authors/12?categories=2 äºŒã€çŠ¶æ€ç 2.1 çŠ¶æ€ç å¿…é¡»ç²¾ç¡®å®¢æˆ·ç«¯çš„æ¯ä¸€æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨éƒ½å¿…é¡»ç»™å‡ºå›åº”ã€‚å›åº”åŒ…å« HTTP çŠ¶æ€ç å’Œæ•°æ®ä¸¤éƒ¨åˆ†ã€‚ HTTP çŠ¶æ€ç å°±æ˜¯ä¸€ä¸ªä¸‰ä½æ•°ï¼Œåˆ†æˆäº”ä¸ªç±»åˆ«ã€‚ 1xxï¼šç›¸å…³ä¿¡æ¯ 2xxï¼šæ“ä½œæˆåŠŸ 3xxï¼šé‡å®šå‘ 4xxï¼šå®¢æˆ·ç«¯é”™è¯¯ 5xxï¼šæœåŠ¡å™¨é”™è¯¯ API ä¸éœ€è¦ 1xx çŠ¶æ€ç  2.2 çŠ¶æ€ç å…·ä½“æ„ä¹‰æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›çš„çŠ¶æ€ç å’Œæç¤ºä¿¡æ¯ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹ä¸€äº›ï¼ˆæ–¹æ‹¬å·ä¸­æ˜¯è¯¥çŠ¶æ€ç å¯¹åº”çš„ HTTP åŠ¨è¯ï¼‰ã€‚ 200 OK - [GET]ï¼šæœåŠ¡å™¨æˆåŠŸè¿”å›ç”¨æˆ·è¯·æ±‚çš„æ•°æ®ï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ï¼ˆIdempotentï¼‰ã€‚ 201 CREATED - [POST/PUT/PATCH]ï¼šç”¨æˆ·æ–°å»ºæˆ–ä¿®æ”¹æ•°æ®æˆåŠŸã€‚ 202 Accepted - [*]ï¼šè¡¨ç¤ºä¸€ä¸ªè¯·æ±‚å·²ç»è¿›å…¥åå°æ’é˜Ÿï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰ 204 NO CONTENT - [DELETE]ï¼šç”¨æˆ·åˆ é™¤æ•°æ®æˆåŠŸã€‚ 400 INVALID REQUEST - [POST/PUT/PATCH]ï¼šç”¨æˆ·å‘å‡ºçš„è¯·æ±‚æœ‰é”™è¯¯ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ–°å»ºæˆ–ä¿®æ”¹æ•°æ®çš„æ“ä½œï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ã€‚ 401 Unauthorized - [*]ï¼šè¡¨ç¤ºç”¨æˆ·æ²¡æœ‰æƒé™ï¼ˆä»¤ç‰Œã€ç”¨æˆ·åã€å¯†ç é”™è¯¯ï¼‰ã€‚ 403 Forbidden - [*] è¡¨ç¤ºç”¨æˆ·å¾—åˆ°æˆæƒï¼ˆä¸401é”™è¯¯ç›¸å¯¹ï¼‰ï¼Œä½†æ˜¯è®¿é—®æ˜¯è¢«ç¦æ­¢çš„ã€‚ 404 NOT FOUND - [*]ï¼šç”¨æˆ·å‘å‡ºçš„è¯·æ±‚é’ˆå¯¹çš„æ˜¯ä¸å­˜åœ¨çš„è®°å½•ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ“ä½œï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ã€‚ 406 Not Acceptable - [GET]ï¼šç”¨æˆ·è¯·æ±‚çš„æ ¼å¼ä¸å¯å¾—ï¼ˆæ¯”å¦‚ç”¨æˆ·è¯·æ±‚JSONæ ¼å¼ï¼Œä½†æ˜¯åªæœ‰XMLæ ¼å¼ï¼‰ã€‚ 410 Gone -[GET]ï¼šç”¨æˆ·è¯·æ±‚çš„èµ„æºè¢«æ°¸ä¹…åˆ é™¤ï¼Œä¸”ä¸ä¼šå†å¾—åˆ°çš„ã€‚ 422 Unprocesable entity - [POST/PUT/PATCH] å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå‘ç”Ÿä¸€ä¸ªéªŒè¯é”™è¯¯ã€‚ 500 INTERNAL SERVER ERROR - [*]ï¼šæœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼Œç”¨æˆ·å°†æ— æ³•åˆ¤æ–­å‘å‡ºçš„è¯·æ±‚æ˜¯å¦æˆåŠŸã€‚ 503 Service Unavailable: æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ï¼Œä¸€èˆ¬ç”¨äºç½‘ç«™ç»´æŠ¤çŠ¶æ€ æœ¬æ–‡æ‘˜è‡ªé˜®ä¸€å³°è€å¸ˆçš„ ç†è§£RESTfulæ¶æ„ å’Œ RESTful API æœ€ä½³å®è·µ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"è§„èŒƒ","slug":"è§„èŒƒ","permalink":"https://kaviilee.github.io/blog/tags/%E8%A7%84%E8%8C%83/"}]},{"title":"çº¦å®šå¼æäº¤ (Conventional Commits)","slug":"conventional-commits","date":"2020-10-13T00:19:25.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2020/10/13/conventional-commits/","link":"","permalink":"https://kaviilee.github.io/blog/2020/10/13/conventional-commits/","excerpt":"å…³äºçº¦å®šå¼æäº¤çš„è§„èŒƒå†…å®¹ã€‚","text":"å…³äºçº¦å®šå¼æäº¤çš„è§„èŒƒå†…å®¹ã€‚ çº¦å®šå¼æäº¤ ä¸€ç§ç”¨äºç»™æäº¤ä¿¡æ¯å¢åŠ äººæœºå¯è¯»å«ä¹‰çš„è§„èŒƒã€‚ æ¦‚è¿°çº¦å®šå¼æäº¤è§„èŒƒæ˜¯ä¸€ç§åŸºäºæäº¤æ¶ˆæ¯çš„è½»é‡çº§çº¦å®šã€‚ å®ƒæä¾›äº†ä¸€ç»„ç”¨äºåˆ›å»ºæ¸…æ™°çš„æäº¤å†å²çš„ç®€å•è§„åˆ™ï¼› è¿™ä½¿å¾—ç¼–å†™åŸºäºè§„èŒƒçš„è‡ªåŠ¨åŒ–å·¥å…·å˜å¾—æ›´å®¹æ˜“ã€‚åœ¨æäº¤ä¿¡æ¯ä¸­æè¿°æ–°ç‰¹æ€§ã€bug ä¿®å¤å’Œç ´åæ€§å˜æ›´ã€‚ æäº¤è¯´æ˜çš„ç»“æ„å¦‚ä¸‹ï¼š &lt;ç±»å‹&gt;[å¯é€‰çš„ä½œç”¨åŸŸ]: &lt;æè¿°&gt;[å¯é€‰çš„æ­£æ–‡][å¯é€‰çš„è„šæ³¨] æäº¤è¯´æ˜åŒ…å«äº†ä¸‹é¢çš„ç»“æ„åŒ–å…ƒç´ ï¼Œä»¥å‘ç±»åº“ä½¿ç”¨è€…è¡¨æ˜å…¶æ„å›¾ï¼š fix: ç±»å‹ä¸º fix çš„æäº¤è¡¨ç¤ºåœ¨ä»£ç åº“ä¸­ä¿®å¤äº†ä¸€ä¸ª bugã€‚ feat: ç±»å‹ä¸º feat çš„æäº¤è¡¨ç¤ºåœ¨ä»£ç åº“ä¸­æ–°å¢äº†ä¸€ä¸ªåŠŸèƒ½ã€‚ BREAKING CHANGE: åœ¨å¯é€‰çš„æ­£æ–‡æˆ–è„šæ³¨çš„èµ·å§‹ä½ç½®å¸¦æœ‰ BREAKING CHANGE: çš„æäº¤ï¼Œè¡¨ç¤ºå¼•å…¥äº†ç ´åæ€§ API å˜æ›´ã€‚ç ´åæ€§å˜æ›´å¯ä»¥æ˜¯ä»»æ„ ç±»å‹ æäº¤çš„ä¸€éƒ¨åˆ†ã€‚ å…¶å®ƒæƒ…å†µ: é™¤ fix: å’Œ feat: ä¹‹å¤–çš„æäº¤ ç±»å‹ ä¹Ÿæ˜¯è¢«å…è®¸çš„ï¼Œä¾‹å¦‚ @commitlint/config-conventionalï¼ˆåŸºäº Angular çº¦å®šï¼‰ä¸­æ¨èçš„ chore:ã€docs:ã€style:ã€refactor:ã€perf:ã€test: åŠå…¶ä»–æ ‡ç­¾ã€‚ æˆ‘ä»¬ä¹Ÿæ¨èä½¿ç”¨improvementï¼Œç”¨äºå¯¹å½“å‰å®ç°è¿›è¡Œæ”¹è¿›è€Œæ²¡æœ‰æ·»åŠ æ–°åŠŸèƒ½æˆ–ä¿®å¤é”™è¯¯çš„æäº¤ã€‚ è¯·æ³¨æ„ï¼Œè¿™äº›æ ‡ç­¾åœ¨çº¦å®šå¼æäº¤è§„èŒƒä¸­å¹¶ä¸æ˜¯å¼ºåˆ¶æ€§çš„ã€‚å¹¶ä¸”åœ¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸­æ²¡æœ‰éšå¼çš„å½±å“ï¼ˆé™¤éä»–ä»¬åŒ…å« BREAKING CHANGEï¼‰ã€‚ å¯ä»¥ä¸ºæäº¤ç±»å‹æ·»åŠ ä¸€ä¸ªå›´åœ¨åœ†æ‹¬å·å†…çš„ä½œç”¨åŸŸï¼Œä»¥ä¸ºå…¶æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ä¾‹å¦‚ feat(parser): adds ability to parse arrays.ã€‚ ç¤ºä¾‹åŒ…å«äº†æè¿°ä»¥åŠæ­£æ–‡å†…æœ‰ç ´åæ€§å˜æ›´çš„æäº¤è¯´æ˜feat: allow provided config object to extend other configsBREAKING CHANGE: &#96;extends&#96; key in config file is now used for extending other config files ä¸åŒ…å«æ­£æ–‡çš„æäº¤è¯´æ˜docs: correct spelling of CHANGELOG åŒ…å«ä½œç”¨åŸŸçš„æäº¤è¯´æ˜feat(lang): add polish language ä¸º fix ç¼–å†™çš„æäº¤è¯´æ˜ï¼ŒåŒ…å«ï¼ˆå¯é€‰çš„ï¼‰ issue ç¼–å·fix: correct minor typos in codesee the issue for details on the typos fixedcloses issue #12 çº¦å®šå¼æäº¤è§„èŒƒ æ¯ä¸ªæäº¤éƒ½å¿…é¡»ä½¿ç”¨ç±»å‹å­—æ®µå‰ç¼€ï¼Œå®ƒç”±ä¸€ä¸ªåè¯ç»„æˆï¼Œè¯¸å¦‚ feat æˆ– fix ï¼Œå…¶åæ¥ä¸€ä¸ªå¯é€‰çš„ä½œç”¨åŸŸå­—æ®µï¼Œä»¥åŠä¸€ä¸ªå¿…è¦çš„å†’å·ï¼ˆè‹±æ–‡åŠè§’ï¼‰å’Œç©ºæ ¼ã€‚ å½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨æˆ–ç±»åº“å®ç°äº†æ–°ç‰¹æ€§æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ feat ç±»å‹ã€‚ å½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨ä¿®å¤äº† bug æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ fix ç±»å‹ã€‚ ä½œç”¨åŸŸå­—æ®µå¯ä»¥è·Ÿéšåœ¨ç±»å‹å­—æ®µåé¢ã€‚ä½œç”¨åŸŸå¿…é¡»æ˜¯ä¸€ä¸ªæè¿°æŸéƒ¨åˆ†ä»£ç çš„åè¯ï¼Œå¹¶ç”¨åœ†æ‹¬å·åŒ…å›´ï¼Œä¾‹å¦‚ï¼š fix(parser): æè¿°å­—æ®µå¿…é¡»ç´§æ¥åœ¨ç±»å‹/ä½œç”¨åŸŸå‰ç¼€çš„ç©ºæ ¼ä¹‹åã€‚æè¿°æŒ‡çš„æ˜¯å¯¹ä»£ç å˜æ›´çš„ç®€çŸ­æ€»ç»“ï¼Œä¾‹å¦‚ï¼š fix: array parsing issue when multiple spaces were contained in string. åœ¨ç®€çŸ­æè¿°ä¹‹åï¼Œå¯ä»¥ç¼–å†™æ›´é•¿çš„æäº¤æ­£æ–‡ï¼Œä¸ºä»£ç å˜æ›´æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚æ­£æ–‡å¿…é¡»èµ·å§‹äºæè¿°å­—æ®µç»“æŸçš„ä¸€ä¸ªç©ºè¡Œåã€‚ åœ¨æ­£æ–‡ç»“æŸçš„ä¸€ä¸ªç©ºè¡Œä¹‹åï¼Œå¯ä»¥ç¼–å†™ä¸€è¡Œæˆ–å¤šè¡Œè„šæ³¨ã€‚è„šæ³¨å¿…é¡»åŒ…å«å…³äºæäº¤çš„å…ƒä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šå…³è”çš„åˆå¹¶è¯·æ±‚ã€Reviewerã€ç ´åæ€§å˜æ›´ï¼Œæ¯æ¡å…ƒä¿¡æ¯ä¸€è¡Œã€‚ ç ´åæ€§å˜æ›´å¿…é¡»æ ‡ç¤ºåœ¨æ­£æ–‡åŒºåŸŸæœ€å¼€å§‹å¤„ï¼Œæˆ–è„šæ³¨åŒºåŸŸä¸­æŸä¸€è¡Œçš„å¼€å§‹ã€‚ä¸€ä¸ªç ´åæ€§å˜æ›´å¿…é¡»åŒ…å«å¤§å†™çš„æ–‡æœ¬ BREAKING CHANGEï¼Œåé¢ç´§è·Ÿå†’å·å’Œç©ºæ ¼ã€‚ åœ¨ BREAKING CHANGE:ä¹‹åå¿…é¡»æä¾›æè¿°ï¼Œä»¥æè¿°å¯¹ API çš„å˜æ›´ã€‚ä¾‹å¦‚ï¼š BREAKING CHANGE: environment variables now take precedence over config files. åœ¨æäº¤è¯´æ˜ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ feat å’Œ fix ä¹‹å¤–çš„ç±»å‹ã€‚ å·¥å…·çš„å®ç°å¿…é¡»ä¸åŒºåˆ†å¤§å°å†™åœ°è§£ææ„æˆçº¦å®šå¼æäº¤çš„ä¿¡æ¯å•å…ƒï¼Œåªæœ‰ BREAKING CHANGE å¿…é¡»æ˜¯å¤§å†™çš„ã€‚ å¯ä»¥åœ¨ç±»å‹/ä½œç”¨åŸŸå‰ç¼€ä¹‹åï¼Œ: ä¹‹å‰ï¼Œé™„åŠ  ! å­—ç¬¦ï¼Œä»¥è¿›ä¸€æ­¥æé†’æ³¨æ„ç ´åæ€§å˜æ›´ã€‚å½“æœ‰ ! å‰ç¼€æ—¶ï¼Œæ­£æ–‡æˆ–è„šæ³¨å†…å¿…é¡»åŒ…å« BREAKING CHANGE: description å…·ä½“ç±»å‹å«ä¹‰å¦‚ä¸‹ï¼š ç±»å‹ è¯´æ˜ feat: æ–°å¢åŠŸèƒ½ fix: ä¿®å¤ bug docs: ä»…ä¿®æ”¹æ–‡æ¡£ style: æ ·å¼ä¸ä¼šå½±å“ä»£ç å«ä¹‰çš„æ›´æ”¹ï¼Œå¦‚ ç©ºç™½ç¬¦ã€æ ¼å¼ã€åˆ†å·è¡¥å…¨ã€é”™åˆ«å­—ä¿®æ”¹ç­‰ refactor: æ—¢ä¸ä¿®å¤é”™è¯¯ä¹Ÿä¸å¢åŠ åŠŸèƒ½çš„ä»£ç ä¿®æ”¹ perf: æœ¬æ¬¡ä»£ç çš„æ›´æ”¹å¯æé«˜æ€§èƒ½ test: æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•å†…å®¹ build: å½±å“æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–çš„æ›´æ”¹ (Example scopes: webpack, npm) ci: å¯¹ CI é…ç½®æ–‡ä»¶å’Œè„šæœ¬çš„æ›´æ”¹ (Example scopes: travis) chore å…¶ä»–ä¸ä¼šä¿®æ”¹ src æˆ–æµ‹è¯•æ–‡ä»¶çš„æ›´æ”¹ï¼Œå¦‚ .gitignore,package.jsonã€yarn.json ç­‰ revert å›é€€æ—§ç‰ˆæœ¬ æ›´å¤šå†…å®¹å‚è§ï¼šçº¦å®šå¼æäº¤","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"git","slug":"git","permalink":"https://kaviilee.github.io/blog/tags/git/"},{"name":"è§„èŒƒ","slug":"è§„èŒƒ","permalink":"https://kaviilee.github.io/blog/tags/%E8%A7%84%E8%8C%83/"}]},{"title":"JavaScriptç±»å‹è½¬æ¢","slug":"javascriptç±»å‹è½¬æ¢","date":"2020-09-09T23:23:10.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2020/09/09/javascriptç±»å‹è½¬æ¢/","link":"","permalink":"https://kaviilee.github.io/blog/2020/09/09/javascript%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/","excerpt":"å…³äº JavaScript ç±»å‹è½¬æ¢çš„ä¸€äº›ç¬”è®°ã€‚","text":"å…³äº JavaScript ç±»å‹è½¬æ¢çš„ä¸€äº›ç¬”è®°ã€‚ å‰è¨€å°†å€¼ä»ä¸€ç§ç±»å‹è½¬æ¢åˆ°å¦ä¸€ç§ç±»å‹é€šå¸¸ç§°ä¸ºç±»å‹è½¬æ¢ã€‚ åŸå§‹å€¼è½¬å¸ƒå°”å€¼JavaScriptä¸­ï¼Œåªæœ‰ 6 ç§å€¼å¯ä»¥è¢«è½¬æ¢ä¸ºfalseï¼Œå…¶ä½™éƒ½ä¼šè¢«è½¬æ¢æˆ trueã€‚ console.log(Boolean()) // falseconsole.log(Boolean(false)) // falseconsole.log(Boolean(undefined)) // falseconsole.log(Boolean(null)) // falseconsole.log(Boolean(+0)) // falseconsole.log(Boolean(-0)) // falseconsole.log(Boolean(NaN)) // falseconsole.log(Boolean(\"\")) // false åŸå§‹å€¼è½¬æ•°å­—ä½¿ç”¨ Number å‡½æ•°å°†å€¼çš„ç±»å‹è½¬æ¢æˆæ•°å­—ç±»å‹ã€‚ æ ¹æ®è§„èŒƒï¼Œå¦‚æœæœ‰å‚æ•°ï¼Œåˆ™è°ƒç”¨ ToNumber(value) è®¡ç®—å‡ºå€¼è¿”å›ï¼Œå¦åˆ™è¿”å› +0ã€‚ æ­¤å¤„çš„ ToNumber è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªåº•å±‚è§„èŒƒä¸Šå®ç°çš„æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰æš´éœ²å‡ºæ¥ã€‚ å€¼ç±»å‹ ç»“æœ Undefined NaN Null +0 Boolean å¦‚æœæ˜¯ trueï¼Œè¿”å›1ï¼›å¦‚æœæ˜¯ falseï¼Œè¿”å›0 Number è¿”å›ä¸ä¹‹ç›¸ç­‰çš„å€¼ String å¦‚ä¸‹ console.log(Number()) // +0console.log(Number(undefined)) // NaNconsole.log(Number(null)) // +0console.log(Number(false)) // +0console.log(Number(true)) // 1console.log(Number(\"123\")) // 123console.log(Number(\"-123\")) // -123console.log(Number(\"1.2\")) // 1.2console.log(Number(\"000123\")) // 123console.log(Number(\"-000123\")) // -123console.log(Number(\"0x11\")) // 17console.log(Number(\"\")) // 0console.log(Number(\" \")) // 0console.log(Number(\"123 123\")) // NaNconsole.log(Number(\"foo\")) // NaNconsole.log(Number(\"100a\")) // NaN åŸå§‹å€¼è½¬å­—ç¬¦ä½¿ç”¨ String å‡½æ•°å°†å€¼çš„ç±»å‹è½¬æ¢æˆå­—ç¬¦ç±»å‹ã€‚ æ ¹æ®è§„èŒƒï¼Œå¦‚æœå‡½æ•°æœ‰å‚æ•°ï¼Œåˆ™è°ƒç”¨ ToString(value) è®¡ç®—å‡ºå€¼è¿”å›ï¼Œå¦åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚ å€¼ç±»å‹ ç»“æœ Undefined â€˜undefinedâ€™ Null â€˜nullâ€™ Boolean å¦‚æœæ˜¯ trueï¼Œè¿”å› â€œtrueâ€ï¼›å¦‚æœæ˜¯ falseï¼Œè¿”å› â€œfalseâ€ String è¿”å›ä¸ä¹‹ç›¸ç­‰çš„å€¼ Number å¦‚ä¸‹ console.log(String()) // ç©ºå­—ç¬¦ä¸²console.log(String(undefined)) // undefinedconsole.log(String(null)) // nullconsole.log(String(false)) // falseconsole.log(String(true)) // trueconsole.log(String(0)) // 0console.log(String(-0)) // 0console.log(String(NaN)) // NaNconsole.log(String(Infinity)) // Infinityconsole.log(String(-Infinity)) // -Infinityconsole.log(String(1)) // 1 åŸå§‹å€¼è½¬å¯¹è±¡åŸå§‹å€¼é€šè¿‡è°ƒç”¨ String()ã€Number() æˆ–è€… Boolean() æ„é€ å‡½æ•°å°±èƒ½è½¬åŒ–ä¸ºå„è‡ªçš„åŒ…è£…å¯¹è±¡ã€‚ null å’Œ undefinedï¼Œå½“å°†å®ƒä»¬ç”¨åœ¨æœŸæœ›æ˜¯ä¸€ä¸ªå¯¹è±¡çš„åœ°æ–¹éƒ½ä¼šé€ æˆä¸€ä¸ªç±»å‹é”™è¯¯ (TypeError) å¼‚å¸¸ï¼Œè€Œä¸ä¼šæ‰§è¡Œæ­£å¸¸çš„è½¬æ¢ã€‚ å¯¹è±¡è½¬å¸ƒå°”å€¼æ‰€æœ‰å¯¹è±¡è½¬ä¸ºå¸ƒå°”å€¼éƒ½ä¸º trueã€‚ å¯¹è±¡è½¬å­—ç¬¦ä¸²å’Œæ•°å­—å¯¹è±¡è½¬æ¢åˆ°å­—ç¬¦ä¸²æˆ–è€…æ•°å­—éƒ½æ˜¯è°ƒç”¨å¾…è½¬æ¢å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•æ¥å®ç°çš„ã€‚ä¸»è¦æœ‰ä¸¤ä¸ªæ–¹æ³• toString() å’Œ valueOf()ã€‚ æ‰€æœ‰å¯¹è±¡é™¤äº† null å’Œ undefined ä¹‹å¤–çš„ä»»ä½•å€¼éƒ½æœ‰ toString æ–¹æ³•ï¼Œé€šå¸¸ï¼Œå®ƒå’Œ String æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€è‡´çš„ã€‚ JavaScript æ ¹æ®ä¸åŒçš„ç±»å„è‡ªçš„ç‰¹ç‚¹ï¼Œå®šä¹‰äº†æ›´å¤šç‰ˆæœ¬çš„ toString æ–¹æ³•ã€‚ console.log((&#123;&#125;).toString()) // [object Object]console.log([].toString()) // \"\"console.log([0].toString()) // 0console.log([1, 2, 3].toString()) // 1,2,3console.log((function()&#123;var a = 1;&#125;).toString()) // function ()&#123;var a = 1;&#125;console.log((/\\d+/g).toString()) // /\\d+/gconsole.log((new Date(2010, 0, 1)).toString()) // Fri Jan 01 2010 00:00:00 GMT+0800 (CST) å¦ä¸€ä¸ªè½¬æ¢å¯¹è±¡çš„æ–¹æ³•æ˜¯ valueOfï¼Œè¡¨ç¤ºå¯¹è±¡çš„åŸå§‹å€¼ã€‚é»˜è®¤çš„ valueOf æ–¹æ³•è¿”å›è¿™ä¸ªå¯¹è±¡æœ¬èº«ã€‚æ—¥æœŸæ˜¯ä¸ªä¾‹å¤–ï¼Œå®ƒä¼šè¿”å›å®ƒçš„ä¸€ä¸ªå†…å®¹è¡¨ç¤ºï¼š1970 å¹´ 1 æœˆ 1æ—¥ä»¥æ¥çš„æ¯«ç§’æ•°ã€‚ var date = new Date(2020, 9, 6);console.log(date.valueOf()) // 1601913600000 å¯¹è±¡è½¬å­—ç¬¦ä¸² å€¼ç±»å‹ ç»“æœ Object 1. primValue = ToPrimitive(input, Number)2. è¿”å› ToString(primValue)ã€‚ å¯¹è±¡è½¬æ•°å­— å‚æ•°ç±»å‹ ç»“æœ Object 1. primValue = ToPrimitive(input, Number)2. è¿”å› ToNumber(primValue)ã€‚ console.log(Number(&#123;&#125;)) // NaNconsole.log(Number(&#123;a : 1&#125;)) // NaNconsole.log(Number([])) // 0console.log(Number([0])) // 0console.log(Number([1, 2, 3])) // NaNconsole.log(Number(function()&#123;var a = 1;&#125;)) // NaNconsole.log(Number(/\\d+/g)) // NaNconsole.log(Number(new Date(2010, 0, 1))) // 1262275200000console.log(Number(new Error('a'))) // NaN Number([]) æ—¶ï¼Œå…ˆè°ƒç”¨äº† [] çš„ valueOf æ–¹æ³•è¿”å›äº† [] ï¼Œå› ä¸ºä¸æ˜¯åŸå§‹å€¼ï¼Œç»§ç»­è°ƒç”¨ toString æ–¹æ³•ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œç»§ç»­è°ƒç”¨ ToNumberï¼Œç©ºå­—ç¬¦ä¸²è¿”å› 0ã€‚ Number([1,2,3]) æ—¶ï¼Œå…ˆè°ƒç”¨äº† [1, 2, 3] çš„ valueOf æ–¹æ³•è¿”å›äº† [1, 2, 3]ï¼Œå†è°ƒç”¨ toString æ–¹æ³•ï¼Œè¿”å› 1,2,3ï¼Œè°ƒç”¨ ToNumberï¼Œè¿”å›NaNã€‚ ToPrimitiveè¯­æ³•å¦‚ä¸‹ï¼š ToPrimitive(input[, PreferredType]) ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ inputï¼Œè¡¨ç¤ºè¦å¤„ç†çš„è¾“å…¥å€¼ã€‚ ç¬¬äºŒä¸ªå‚æ•°æ˜¯ PreferredTypeï¼Œéå¿…å¡«ï¼Œè¡¨ç¤ºå¸Œæœ›è½¬æ¢æˆçš„ç±»å‹ï¼Œæœ‰ä¸¤ä¸ªå€¼å¯ä»¥é€‰ï¼ŒNumber æˆ–è€… Stringã€‚ å½“ä¸ä¼ å…¥ PreferredType æ—¶ï¼Œå¦‚æœ input æ˜¯æ—¥æœŸç±»å‹ï¼Œç›¸å½“äºä¼ å…¥ Stringï¼Œå¦åˆ™ï¼Œéƒ½ç›¸å½“äºä¼ å…¥ Numberã€‚ å¦‚æœä¼ å…¥çš„ input æ˜¯ Undefinedã€Nullã€Booleanã€Numberã€String ç±»å‹ï¼Œç›´æ¥è¿”å›è¯¥å€¼ã€‚ å¦‚æœæ˜¯ ToPrimitive(obj, Number)ï¼Œå¤„ç†æ­¥éª¤å¦‚ä¸‹ï¼š å¦‚æœ obj ä¸º åŸºæœ¬ç±»å‹ï¼Œç›´æ¥è¿”å› å¦åˆ™ï¼Œè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœè¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ JavaScript å°†å…¶è¿”å›ã€‚ å¦åˆ™ï¼Œè°ƒç”¨ toString æ–¹æ³•ï¼Œå¦‚æœè¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ JavaScript å°†å…¶è¿”å›ã€‚ å¦åˆ™ï¼ŒJavaScript æŠ›å‡ºä¸€ä¸ªç±»å‹é”™è¯¯å¼‚å¸¸ã€‚ å¦‚æœæ˜¯ ToPrimitive(obj, String)ï¼Œå¤„ç†æ­¥éª¤å¦‚ä¸‹ï¼š å¦‚æœ objä¸º åŸºæœ¬ç±»å‹ï¼Œç›´æ¥è¿”å› å¦åˆ™ï¼Œè°ƒç”¨ toString æ–¹æ³•ï¼Œå¦‚æœè¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ JavaScript å°†å…¶è¿”å›ã€‚ å¦åˆ™ï¼Œè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœè¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ JavaScript å°†å…¶è¿”å›ã€‚ å¦åˆ™ï¼ŒJavaScript æŠ›å‡ºä¸€ä¸ªç±»å‹é”™è¯¯å¼‚å¸¸ã€‚ éšå¼è½¬æ¢åœºæ™¯ ä¸€å…ƒæ“ä½œç¬¦ +å½“ + è¿ç®—ç¬¦ä½œä¸ºä¸€å…ƒæ“ä½œç¬¦æ—¶ï¼Œä¼šè°ƒç”¨ ToNumber å¤„ç†è¯¥å€¼ï¼Œç›¸å½“äº Number(value)ã€‚ å¦‚æœ value æ˜¯å¯¹è±¡ï¼Œä¼šå…ˆè°ƒç”¨ ToPrimitive(obj, Number) æ–¹æ³•ã€‚ console.log(+['1']); // 1console.log(+['1', '2', '3']); // NaNconsole.log(+&#123;&#125;); // NaN äºŒå…ƒæ“ä½œç¬¦ +å½“è®¡ç®— value1 + value2 æ—¶ï¼š lprim = ToPrimitive(value1) rprim = ToPrimitive(value2) å¦‚æœ lprim æ˜¯å­—ç¬¦ä¸²æˆ–è€… rprim æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¿”å› ToString(lprim) å’Œ ToString(rprim) çš„æ‹¼æ¥ç»“æœ è¿”å› ToNumber(lprim) å’Œ ToNumber(rprim) çš„è¿ç®—ç»“æœ == ç›¸ç­‰ ç±»å‹ (x) ç±»å‹ (y) ç»“æœ null undefined true undefined null true æ•°å€¼ å­—ç¬¦ä¸² x == ToNumber(y) å­—ç¬¦ä¸² æ•°å€¼ ToNumber(x) == y å¸ƒå°”å€¼ ä»»ä½•ç±»å‹ ToNumber(x) == y ä»»ä½•ç±»å‹ å¸ƒå°”å€¼ x = ToNumber(y) å­—ç¬¦ä¸²æˆ–æ•° å¯¹è±¡ x = ToPrimitive(y) å¯¹è±¡ å­—ç¬¦ä¸²æˆ–æ•° ToPrimitive(x) == y","categories":[{"name":"JavaScript","slug":"javascript","permalink":"https://kaviilee.github.io/blog/categories/javascript/"}],"tags":[]},{"title":"Git Flow","slug":"git-flow","date":"2020-09-03T09:56:17.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2020/09/03/git-flow/","link":"","permalink":"https://kaviilee.github.io/blog/2020/09/03/git-flow/","excerpt":"ä¹‹å‰å¶å°”çœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« ï¼Œæ˜¯è®² Git Flow çš„ï¼Œè°ˆäº†åˆ†æ”¯ç›¸å…³çš„ä¸€äº›çŸ¥è¯†ã€‚","text":"ä¹‹å‰å¶å°”çœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« ï¼Œæ˜¯è®² Git Flow çš„ï¼Œè°ˆäº†åˆ†æ”¯ç›¸å…³çš„ä¸€äº›çŸ¥è¯†ã€‚ Git Flowåˆ†æ”¯åº”ç”¨åœºæ™¯æ ¹æ® Git Flow çš„å»ºè®®ï¼Œä¸»è¦çš„åˆ†æ”¯æœ‰ masterã€developã€hotfixã€release ä»¥åŠ feature è¿™äº”ç§åˆ†æ”¯ï¼Œå„ç§åˆ†æ”¯è´Ÿè´£ä¸åŒçš„åŠŸèƒ½ã€‚å…¶ä¸­ Master ä»¥åŠ Develop è¿™ä¸¤ä¸ªåˆ†æ”¯åˆè¢«ç§°ä½œé•¿æœŸåˆ†æ”¯ï¼Œå› ä¸ºä»–ä»¬ä¼šä¸€ç›´å­˜æ´»åœ¨æ•´ä¸ª Git Flow é‡Œï¼Œè€Œå…¶å®ƒçš„åˆ†æ”¯å¤§å¤šä¼šå› ä»»åŠ¡ç»“æŸè€Œè¢«åˆªé™¤ã€‚ Master åˆ†æ”¯ä¸»è¦æ˜¯ç”¨æ¥æ”¾ç¨³å®šã€éšæ—¶å¯ä¸Šçº¿çš„ç‰ˆæœ¬ã€‚è¿™ä¸ªåˆ†æ”¯çš„æ¥æºåªèƒ½ä»åˆ«çš„åˆ†æ”¯åˆå¹¶è¿‡æ¥ï¼Œå¼€å‘è€…ä¸ä¼šç›´æ¥ Commit åˆ°è¿™ä¸ªåˆ†æ”¯ã€‚å› ä¸ºæ˜¯ç¨³å®šç‰ˆæœ¬ï¼Œæ‰€ä»¥é€šå¸¸ä¹Ÿä¼šåœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šçš„ Commit ä¸Šæ‰“ä¸Šç‰ˆæœ¬å· tagã€‚ æ¯ä¸ªç‰ˆæœ¬å‘å¸ƒå®Œï¼Œdevelop ä¼šåˆå¹¶åˆ° masterï¼Œå¹¶æ‰“tagã€‚ Develop åˆ†æ”¯è¿™ä¸ªåˆ†æ”¯ä¸»è¦æ˜¯æ‰€æœ‰å¼€å‘çš„åŸºç¡€åˆ†æ”¯ï¼Œå½“è¦æ–°å¢åŠŸèƒ½çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„ Feature åˆ†æ”¯éƒ½æ˜¯ä»è¿™ä¸ªåˆ†æ”¯åˆ‡å‡ºå»çš„ã€‚è€Œ Feature åˆ†æ”¯çš„åŠŸèƒ½å®Œæˆåï¼Œä¹Ÿéƒ½ä¼šåˆå¹¶å›æ¥è¿™ä¸ªåˆ†æ”¯ã€‚ å¼€å‘è¿‡ç¨‹ä¸­çš„ç¨³å®šåˆ†æ”¯ï¼Œdevelopåˆ†æ”¯åº”è¯¥ä¿è¯æ¯æ¬¡æœ€æ–°çš„commitéƒ½æ˜¯å¯ä»¥è¢«runçš„ã€‚ Hotfix åˆ†æ”¯å½“çº¿ä¸Šäº§å“å‘ç”Ÿç´§æ€¥é—®é¢˜çš„æ—¶å€™ï¼Œä¼šä» Master åˆ†æ”¯å¼€ä¸€ä¸ª Hotfix åˆ†æ”¯å‡ºæ¥è¿›è¡Œä¿®å¤ï¼ŒHotfix åˆ†æ”¯ä¿®å¤å®Œæˆä¹‹åï¼Œä¼šåˆå¹¶å› Master åˆ†æ”¯ï¼Œä¹ŸåŒæ—¶ä¼šåˆå¹¶ä¸€ä»½åˆ° Develop åˆ†æ”¯ã€‚ Release åˆ†æ”¯å½“è®¤ä¸º Develop åˆ†æ”¯å¤Ÿæˆç†Ÿäº†ï¼Œå°±å¯ä»¥æŠŠ Develop åˆ†æ”¯åˆå¹¶åˆ° Release åˆ†æ”¯ï¼Œåœ¨è¿™è¾¹è¿›è¡Œç®—æ˜¯ä¸Šçº¿å‰çš„æœ€åæµ‹è¯•ã€‚æµ‹è¯•å®Œæˆåï¼ŒRelease åˆ†æ”¯å°†ä¼šåŒæ—¶åˆå¹¶åˆ° Master ä»¥åŠ Develop è¿™ä¸¤ä¸ªåˆ†æ”¯ä¸Šã€‚ Master åˆ†æ”¯æ˜¯ä¸Šçº¿ç‰ˆæœ¬ï¼Œè€Œåˆå¹¶å› Develop åˆ†æ”¯çš„ç›®çš„ï¼Œæ˜¯å› ä¸ºå¯èƒ½åœ¨ Release åˆ†æ”¯ä¸Šè¿˜ä¼šæµ‹åˆ°å¹¶ä¿®æ­£ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦è·Ÿ Develop åˆ†æ”¯åŒæ­¥ï¼Œå…å¾—ä¹‹åçš„ç‰ˆæœ¬åˆå†åº¦å‡ºç°åŒæ ·çš„é—®é¢˜ã€‚ å…¶å®æ­£å¸¸çš„åšæ³•åº”è¯¥æ˜¯ææµ‹ï¼Œæˆ–æµ‹è¯•åˆ°æŸä¸ªé˜¶æ®µä»¥åä½¿ç”¨ã€‚ä¸€èˆ¬ç”¨åœ¨å¤šç‰ˆæœ¬å¹¶è¡Œå¼€å‘çš„æ—¶å€™ï¼Œå……å½“ç‰¹å®šç‰ˆæœ¬çš„develop åˆ†æ”¯ä½¿ç”¨ Feature åˆ†æ”¯å½“è¦å¼€å§‹æ–°å¢åŠŸèƒ½çš„æ—¶å€™ï¼Œå°±æ˜¯ä½¿ç”¨ Feature åˆ†æ”¯çš„æ—¶å€™äº†ã€‚ Feature åˆ†æ”¯éƒ½æ˜¯ä» Develop åˆ†æ”¯æ¥çš„ï¼Œå®Œæˆä¹‹åä¼šå†å¹¶å› Develop åˆ†æ”¯ã€‚ ç›®å‰featureåˆ†æ”¯èµ·åè§„åˆ™ä»¥ dev_ å¼€å¤´ï¼Œåé¢è·Ÿå½“å‰å¼€å‘åŠŸèƒ½ åˆ†æ”¯æäº¤ä¸åˆå¹¶å¦‚æœ feature éœ€è¦ develop çš„åŠŸèƒ½ï¼Œä¸è¦å°† develop åˆ†æ”¯ merge åˆ° feature åˆ†æ”¯ï¼Œåº”è¯¥ä½¿ç”¨ feature rebase develop åˆ†æ”¯æäº¤ä½¿ç”¨ rebase æˆ– merge æ–¹å¼éƒ½å¯ä»¥ï¼Œä¸€èˆ¬æ¥è¯´commit å°‘çš„åœºæ™¯æˆ‘ä¼šæ¯”è¾ƒå–œæ¬¢ rebaseï¼Œä½†å¦‚æœcommitæ”’çš„å¤šäº†ï¼Œrebase è§£å†³å†²çªä¼šå¾ˆç´¯ã€‚ rebase æ“ä½œä¾‹å¦‚ï¼Œå¼€å§‹å¼€å‘æ—¶ï¼Œåˆ†æ”¯æ˜¯è¿™æ ·çš„ * -- * -- A (develop) \\ * (dev_xxx) å¼€å‘å®Œæˆï¼Œå‡†å¤‡æäº¤æ—¶ï¼š * -- * -- A -- B -- C -- D -- E (develop) \\ * -- X -- Y -- Z (dev_xxx) å‘½ä»¤è¡Œæ­¥éª¤å¦‚ä¸‹ï¼ˆGUIå‚è€ƒå‘½ä»¤è¡Œæ‰§è¡Œå¯¹åº”æ“ä½œï¼‰ git add .git commit -m \"xxx\"git pull //ç”¨äºæ›´æ–°è¿œç«¯åˆ†æ”¯(git fetch ä¹Ÿå¯ä»¥)git rebase origin/develop //å°†å½“å‰åˆ†æ”¯baseå˜ä¸ºdevelop çš„æœ€æ–° commit è¿™ä¸€æ­¥çš„å®é™…åŸç†æ˜¯ï¼Œgitä¼šä»developæ–°å¼€ä¸€ä¸ªåˆ†æ”¯ï¼Œå°†ä½ å½“å‰çš„dev_xxx åˆ†æ”¯çš„ commit æŒ‰ç…§æäº¤é¡ºåºæŒ¨ä¸ª cherry-pick åˆ°æ–°å¼€åˆ†æ”¯ä¸Š è¿™ä¸€æ­¥æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚æœ develop çš„ B C D Eç­‰commit ä¸ X Y Z å†²çªï¼Œåˆ™éœ€è¦ä¾æ¬¡è§£å†³å†²çª è§£å†³å†²çªä»¥åï¼Œæ‰§è¡Œ git rebase --continue æˆ–è€… git rebase --skip ç»§ç»­æ‰§è¡Œæ¥ä¸‹æ¥çš„ rebase rebase ç»“æŸåï¼Œåˆ†æ”¯ç»“æ„å°†å˜ä¸ºï¼š * -- * -- A -- B -- C -- D -- E (develop) \\ -- * -- X -- Y -- Z (dev_xxx) ç„¶åéœ€è¦æ‰§è¡Œ git push -f // å¿…é¡»åŠ  -f å¼ºåˆ¶æ¨é€ï¼Œå¦åˆ™ç”±äºæœ¬åœ°åˆ†æ”¯çš„baseä¸è¿œç«¯ä¸ä¸€è‡´ï¼Œä¼šæŠ¥éœ€è¦ git pull æ— æ³•æäº¤ æäº¤å®Œæˆåå» gitlab åˆ›å»º merge requestï¼Œèµ°æ­£å¸¸ review æµç¨‹ï¼Œåˆå¹¶ä»£ç ã€‚ æœ¬æ–‡è½¬è½½è‡ª å†èŠ Git Flow","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"git","slug":"git","permalink":"https://kaviilee.github.io/blog/tags/git/"},{"name":"è§„èŒƒ","slug":"è§„èŒƒ","permalink":"https://kaviilee.github.io/blog/tags/%E8%A7%84%E8%8C%83/"}]},{"title":"ä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆæŒ‡åŒ—","slug":"ä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆæŒ‡åŒ—","date":"2020-08-18T11:31:47.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2020/08/18/ä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆæŒ‡åŒ—/","link":"","permalink":"https://kaviilee.github.io/blog/2020/08/18/%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%88%E6%8E%92%E7%89%88%E6%8C%87%E5%8C%97/","excerpt":"ä»Šå¤©åœ¨çœ‹æ–‡æ¡£çš„æ—¶å€™ï¼Œå¶ç„¶çœ‹åˆ°è¿™ç¯‡å…³äºä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆå»ºè®®çš„æ–‡ç« ï¼Œè§‰å¾—å¯ä»¥åˆ†äº«å‡ºæ¥~","text":"ä»Šå¤©åœ¨çœ‹æ–‡æ¡£çš„æ—¶å€™ï¼Œå¶ç„¶çœ‹åˆ°è¿™ç¯‡å…³äºä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆå»ºè®®çš„æ–‡ç« ï¼Œè§‰å¾—å¯ä»¥åˆ†äº«å‡ºæ¥~ ç©ºæ ¼ã€Œæœ‰ç ”ç©¶æ˜¾ç¤ºï¼Œæ‰“å­—çš„æ—¶å€™ä¸å–œæ¬¢åœ¨ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´åŠ ç©ºæ ¼çš„äººï¼Œæ„Ÿæƒ…è·¯éƒ½èµ°å¾—å¾ˆè¾›è‹¦ï¼Œæœ‰ä¸ƒæˆçš„æ¯”ä¾‹ä¼šåœ¨ 34 å²çš„æ—¶å€™è·Ÿè‡ªå·±ä¸çˆ±çš„äººç»“å©šï¼Œè€Œå…¶ä½™ä¸‰æˆçš„äººæœ€ååªèƒ½æŠŠé—äº§ç•™ç»™è‡ªå·±çš„çŒ«ã€‚æ¯•ç«Ÿçˆ±æƒ…è·Ÿä¹¦å†™éƒ½éœ€è¦é€‚æ—¶åœ°ç•™ç™½ã€‚ ä¸å¤§å®¶å…±å‹‰ä¹‹ã€‚ã€â€”â€”vinta/paranoid-auto-spacing ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼æ­£ç¡®ï¼š åœ¨ LeanCloud ä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»• AVObject è¿›è¡Œçš„ã€‚ é”™è¯¯ï¼š åœ¨LeanCloudä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»•AVObjectè¿›è¡Œçš„ã€‚ åœ¨ LeanCloudä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»•AVObject è¿›è¡Œçš„ã€‚ å®Œæ•´çš„æ­£ç¡®ç”¨æ³•ï¼š åœ¨ LeanCloud ä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»• AVObject è¿›è¡Œçš„ã€‚æ¯ä¸ª AVObject éƒ½åŒ…å«äº†ä¸ JSON å…¼å®¹çš„ key-value å¯¹åº”çš„æ•°æ®ã€‚æ•°æ®æ˜¯ schema-free çš„ï¼Œä½ ä¸éœ€è¦åœ¨æ¯ä¸ª AVObject ä¸Šæå‰æŒ‡å®šå­˜åœ¨å“ªäº›é”®ï¼Œåªè¦ç›´æ¥è®¾å®šå¯¹åº”çš„ key-value å³å¯ã€‚ ä¾‹å¤–ï¼šã€Œè±†ç“£FMã€ç­‰äº§å“åè¯ï¼ŒæŒ‰ç…§å®˜æ–¹æ‰€å®šä¹‰çš„æ ¼å¼ä¹¦å†™ã€‚ ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼æ­£ç¡®ï¼š ä»Šå¤©å‡ºå»ä¹°èœèŠ±äº† 5000 å…ƒã€‚ é”™è¯¯ï¼š ä»Šå¤©å‡ºå»ä¹°èœèŠ±äº† 5000å…ƒã€‚ ä»Šå¤©å‡ºå»ä¹°èœèŠ±äº†5000å…ƒã€‚ æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼æ­£ç¡®ï¼š æˆ‘å®¶çš„å…‰çº¤å…¥æˆ·å®½å¸¦æœ‰ 10Gbpsï¼ŒSSD ä¸€å…±æœ‰ 10TBã€‚ é”™è¯¯ï¼š æˆ‘å®¶çš„å…‰çº¤å…¥æˆ·å®½å¸¦æœ‰ 10 Gbpsï¼ŒSSD ä¸€å…±æœ‰ 20 TBã€‚ å¦å¤–ï¼Œåº¦ï¼ç™¾åˆ†æ¯”ä¸æ•°å­—ä¹‹é—´ä¸éœ€è¦å¢åŠ ç©ºæ ¼ï¼š æ­£ç¡®ï¼š ä»Šå¤©æ˜¯ 233Â° çš„é«˜æ¸©ã€‚ æ–° MacBook Pro æœ‰ 15% çš„ CPU æ€§èƒ½æå‡ã€‚ é”™è¯¯ï¼š ä»Šå¤©æ˜¯ 233 Â° çš„é«˜æ¸©ã€‚ æ–° MacBook Pro æœ‰ 15 % çš„ CPU æ€§èƒ½æå‡ã€‚ å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼æ­£ç¡®ï¼š åˆšåˆšä¹°äº†ä¸€éƒ¨ iPhoneï¼Œå¥½å¼€å¿ƒï¼ é”™è¯¯ï¼š åˆšåˆšä¹°äº†ä¸€éƒ¨ iPhone ï¼Œå¥½å¼€å¿ƒï¼ -ms-text-autospace to the rescue?Microsoft æœ‰ä¸ª -ms-text-autospace çš„ CSS å±æ€§å¯ä»¥å®ç°è‡ªåŠ¨ä¸ºä¸­è‹±æ–‡ä¹‹é—´å¢åŠ ç©ºç™½ã€‚ä¸è¿‡ç›®å‰å¹¶æœªæ™®åŠï¼Œå¦å¤–åœ¨å…¶ä»–åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ OS Xã€iOS çš„ç”¨æˆ·ç•Œé¢ç›®å‰å¹¶ä¸å­˜åœ¨è¿™ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥è¯·ç»§ç»­ä¿æŒéšæ‰‹åŠ ç©ºæ ¼çš„ä¹ æƒ¯ã€‚ æ ‡ç‚¹ç¬¦å·ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·æ­£ç¡®ï¼š å¾·å›½é˜Ÿç«Ÿç„¶æˆ˜èƒœäº†å·´è¥¿é˜Ÿï¼ å¥¹ç«Ÿç„¶å¯¹ä½ è¯´ã€Œå–µã€ï¼Ÿï¼ é”™è¯¯ï¼š å¾·å›½é˜Ÿç«Ÿç„¶æˆ˜èƒœäº†å·´è¥¿é˜Ÿï¼ï¼ å¾·å›½é˜Ÿç«Ÿç„¶æˆ˜èƒœäº†å·´è¥¿é˜Ÿï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ å¥¹ç«Ÿç„¶å¯¹ä½ è¯´ã€Œå–µã€ï¼Ÿï¼Ÿï¼ï¼ å¥¹ç«Ÿç„¶å¯¹ä½ è¯´ã€Œå–µã€ï¼Ÿï¼ï¼Ÿï¼ï¼Ÿï¼Ÿï¼ï¼ å…¨è§’å’ŒåŠè§’ä¸æ˜ç™½ä»€ä¹ˆæ˜¯å…¨è§’ï¼ˆå…¨å½¢ï¼‰ä¸åŠè§’ï¼ˆåŠå½¢ï¼‰ç¬¦å·ï¼Ÿè¯·æŸ¥çœ‹ç»´åŸºç™¾ç§‘è¯æ¡ã€å…¨è§’å’ŒåŠè§’ã€ã€‚ ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹æ­£ç¡®ï¼š å—¨ï¼ä½ çŸ¥é“å˜›ï¼Ÿä»Šå¤©å‰å°çš„å°å¦¹è·Ÿæˆ‘è¯´ã€Œå–µã€äº†å“ï¼ æ ¸ç£å…±æŒ¯æˆåƒï¼ˆNMRIï¼‰æ˜¯ä»€ä¹ˆåŸç†éƒ½ä¸çŸ¥é“ï¼ŸJFGIï¼ é”™è¯¯ï¼š å—¨! ä½ çŸ¥é“å˜›? ä»Šå¤©å‰å°çš„å°å¦¹è·Ÿæˆ‘è¯´ â€œå–µâ€ äº†å“! å—¨!ä½ çŸ¥é“å˜›?ä»Šå¤©å‰å°çš„å°å¦¹è·Ÿæˆ‘è¯´â€å–µâ€äº†å“! æ ¸ç£å…±æŒ¯æˆåƒ (NMRI) æ˜¯ä»€ä¹ˆåŸç†éƒ½ä¸çŸ¥é“? JFGI! æ ¸ç£å…±æŒ¯æˆåƒ(NMRI)æ˜¯ä»€ä¹ˆåŸç†éƒ½ä¸çŸ¥é“?JFGI! æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦æ­£ç¡®ï¼š è¿™ä»¶è›‹ç³•åªå– 1000 å…ƒã€‚ é”™è¯¯ï¼š è¿™ä»¶è›‹ç³•åªå– ï¼‘ï¼ï¼ï¼ å…ƒã€‚ ä¾‹å¤–ï¼šåœ¨è®¾è®¡ç¨¿ã€å®£ä¼ æµ·æŠ¥ä¸­å¦‚å‡ºç°æå°‘é‡æ•°å­—çš„æƒ…å½¢æ—¶ï¼Œä¸ºæ–¹ä¾¿æ–‡å­—å¯¹é½ï¼Œæ˜¯å¯ä»¥ä½¿ç”¨å…¨è§’æ•°å­—çš„ã€‚ é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ã€ç‰¹æ®Šåè¯ï¼Œå…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹æ­£ç¡®ï¼š ä¹”å¸ƒæ–¯é‚£å¥è¯æ˜¯æ€ä¹ˆè¯´çš„ï¼Ÿã€ŒStay hungry, stay foolish.ã€ æ¨èä½ é˜…è¯»ã€ŠHackers &amp; Painters: Big Ideas from the Computer Ageã€‹ï¼Œéå¸¸çš„æœ‰è¶£ã€‚ é”™è¯¯ï¼š ä¹”å¸ƒæ–¯é‚£å¥è¯æ˜¯æ€ä¹ˆè¯´çš„ï¼Ÿã€ŒStay hungryï¼Œstay foolishã€‚ã€ æ¨èä½ é˜…è¯»ã€ŠHackersï¼†Paintersï¼šBig Ideas from the Computer Ageã€‹ï¼Œéå¸¸çš„æœ‰è¶£ã€‚ åè¯ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™å¤§å°å†™ç›¸å…³ç”¨æ³•åŸå±äºè‹±æ–‡ä¹¦å†™èŒƒç•´ï¼Œä¸å±äºæœ¬ wiki è®¨è®ºå…§å®¹ï¼Œåœ¨è¿™é‡Œåªå¯¹éƒ¨åˆ†æ˜“é”™ç”¨æ³•è¿›è¡Œç®€è¿°ã€‚ æ­£ç¡®ï¼š ä½¿ç”¨ GitHub ç™»å½• æˆ‘ä»¬çš„å®¢æˆ·æœ‰ GitHubã€Foursquareã€Microsoft Corporationã€Googleã€Facebook, Inc.ã€‚ é”™è¯¯ï¼š ä½¿ç”¨ github ç™»å½• ä½¿ç”¨ GITHUB ç™»å½• ä½¿ç”¨ Github ç™»å½• ä½¿ç”¨ gitHub ç™»å½• ä½¿ç”¨ gï½²ã‚“Ä¤Ğ¦8 ç™»å½• æˆ‘ä»¬çš„å®¢æˆ·æœ‰ githubã€foursquareã€microsoft corporationã€googleã€facebook, inc.ã€‚ æˆ‘ä»¬çš„å®¢æˆ·æœ‰ GITHUBã€FOURSQUAREã€MICROSOFT CORPORATIONã€GOOGLEã€FACEBOOK, INC.ã€‚ æˆ‘ä»¬çš„å®¢æˆ·æœ‰ Githubã€FourSquareã€MicroSoft Corporationã€Googleã€FaceBook, Inc.ã€‚ æˆ‘ä»¬çš„å®¢æˆ·æœ‰ gitHubã€fourSquareã€microSoft Corporationã€googleã€faceBook, Inc.ã€‚ æˆ‘ä»¬çš„å®¢æˆ·æœ‰ gï½²ã‚“Ä¤Ğ¦8ã€ï½·ouĞ¯Æ§quï¾‘Ğ³Ñ”ã€à¹“à¹€Ï‚Ğ³à¹à¸£à¹Å¦t Ï‚à¹Ğ³×§à¹Ğ³à¸„tà¹€à¹à¸ nã€900913ã€Æ’4á„ƒÃ«Ğ²à¹à¹Ğº, IĞŸá„ƒ.ã€‚ æ³¨æ„ï¼šå½“ç½‘é¡µä¸­éœ€è¦é…åˆæ•´ä½“è§†è§‰é£æ ¼è€Œå‡ºç°å…¨éƒ¨å¤§å†™ï¼å°å†™çš„æƒ…å½¢ï¼ŒHTML ä¸­è¯·ä½¿ç”¨æ ‡å‡†çš„å¤§å°å†™è§„èŒƒè¿›è¡Œä¹¦å†™ï¼›å¹¶é€šè¿‡ text-transform: uppercase;ï¼text-transform: lowercase; å¯¹è¡¨ç°å½¢å¼è¿›è¡Œå®šä¹‰ã€‚ ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™æ­£ç¡®ï¼š æˆ‘ä»¬éœ€è¦ä¸€ä½ç†Ÿæ‚‰ JavaScriptã€HTML5ï¼Œè‡³å°‘ç†è§£ä¸€ç§æ¡†æ¶ï¼ˆå¦‚ Backbone.jsã€AngularJSã€React ç­‰ï¼‰çš„å‰ç«¯å¼€å‘è€…ã€‚ é”™è¯¯ï¼š æˆ‘ä»¬éœ€è¦ä¸€ä½ç†Ÿæ‚‰ Jsã€h5ï¼Œè‡³å°‘ç†è§£ä¸€ç§æ¡†æ¶ï¼ˆå¦‚ backboneã€angularã€RJS ç­‰ï¼‰çš„ FEDã€‚ äº‰è®®ä»¥ä¸‹ç”¨æ³•ç•¥å¸¦æœ‰ä¸ªäººè‰²å½©ï¼Œå³ï¼šæ— è®ºæ˜¯å¦éµå¾ªä¸‹è¿°è§„åˆ™ï¼Œä»è¯­æ³•çš„è§’åº¦æ¥è®²éƒ½æ˜¯æ­£ç¡®çš„ã€‚ é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼ç”¨æ³•ï¼š è¯· æäº¤ä¸€ä¸ª issue å¹¶åˆ†é…ç»™ç›¸å…³åŒäº‹ã€‚ è®¿é—®æˆ‘ä»¬ç½‘ç«™çš„æœ€æ–°åŠ¨æ€ï¼Œè¯· ç‚¹å‡»è¿™é‡Œ è¿›è¡Œè®¢é˜…ï¼ å¯¹æ¯”ç”¨æ³•ï¼š è¯·æäº¤ä¸€ä¸ª issue å¹¶åˆ†é…ç»™ç›¸å…³åŒäº‹ã€‚ è®¿é—®æˆ‘ä»¬ç½‘ç«™çš„æœ€æ–°åŠ¨æ€ï¼Œè¯·ç‚¹å‡»è¿™é‡Œè¿›è¡Œè®¢é˜…ï¼ ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·ç”¨æ³•ï¼š ã€Œè€å¸ˆï¼Œã€æœ‰æ¡ä¸ç´Šã€çš„ã€ç´Šã€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿã€ å¯¹æ¯”ç”¨æ³•ï¼š â€œè€å¸ˆï¼Œâ€˜æœ‰æ¡ä¸ç´Šâ€™çš„â€˜ç´Šâ€™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿâ€ æœ¬æ–‡å±äºæ‘˜å½•ï¼Œæ›´å¤šå†…å®¹åœ¨ chinese-copywriting-guidelines ~","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"è§„èŒƒ","slug":"è§„èŒƒ","permalink":"https://kaviilee.github.io/blog/tags/%E8%A7%84%E8%8C%83/"}]},{"title":"Docker å­¦ä¹ ç¬”è®°","slug":"docker","date":"2020-07-21T00:03:15.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2020/07/21/docker/","link":"","permalink":"https://kaviilee.github.io/blog/2020/07/21/docker/","excerpt":"è¿™æ˜¯åœ¨çœ‹å®Œç‹‚ç¥çš„ Docker è§†é¢‘ä¹‹ååšçš„ç¬”è®°~å­˜æ¡£ç”¨","text":"è¿™æ˜¯åœ¨çœ‹å®Œç‹‚ç¥çš„ Docker è§†é¢‘ä¹‹ååšçš„ç¬”è®°~å­˜æ¡£ç”¨ Docker æ¦‚è¿°Docekr ä¸ºä»€ä¹ˆä¼šå‡ºç°ä¸€æ¬¾äº§å“æœ‰å¼€å‘å’Œç”Ÿäº§ä¸¤å¥—ç¯å¢ƒï¼Œä¹Ÿå°±å¯¹åº”ä¸¤å¥—åº”ç”¨é…ç½®ï¼Œä¸€èˆ¬å°±ä¼šå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ã€‚ å¼€å‘å’Œè¿ç»´é—®é¢˜ï¼šè¿™ä¸ªé¡¹ç›®åœ¨æˆ‘çš„ç”µè„‘ä¸Šæ˜¯å¯ä»¥è¿è¡Œçš„ï¼ä½†æ˜¯ä¼´éšç‰ˆæœ¬æ›´æ–°è¿­ä»£ï¼Œä¸åŒç‰ˆæœ¬ç¯å¢ƒçš„å…¼å®¹ï¼Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ã€‚ ç¯å¢ƒé…ç½®é—®é¢˜ï¼šç¯å¢ƒé…ç½®æ˜¯éå¸¸éº»çƒ¦çš„ï¼Œæ¯ä¸ªæœºå™¨éƒ½è¦éƒ¨ç½²ç¯å¢ƒï¼Œè´¹æ—¶è´¹åŠ›ã€‚ æ€è€ƒï¼šé¡¹ç›®æ˜¯å¦å¯ä»¥å¸¦ä¸Šç¯å¢ƒä¸€èµ·å®‰è£…æ‰“åŒ…ï¼ŸæŠŠåŸå§‹ç¯å¢ƒä¸€æ¨¡ä¸€æ ·åœ°å¤åˆ¶è¿‡æ¥ï¼Ÿ åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ååˆ†éº»çƒ¦ï¼Œä¸èƒ½è·¨å¹³å°ã€‚ ä¼ ç»Ÿå¼€å‘ï¼šå¼€å‘äººå‘˜åšé¡¹ç›®ã€‚è¿ç»´äººå‘˜åšéƒ¨ç½² ç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€èµ·åš Docker èƒ½å¹²ä»€ä¹ˆï¼Ÿ ä¹‹å‰çš„è™šæ‹ŸæœºæŠ€æœ¯ï¼Œæ‰€æœ‰çš„é¡¹ç›®éƒ½åœ¨åŒä¸€ä¸ªç¯å¢ƒä¸‹è¿è¡Œã€‚ è™šæ‹Ÿæœºçš„ç¼ºç‚¹ 1.å ç”¨èµ„æºéå¸¸å¤š2.å†—ä½™æŠ€æœ¯å¤š3.å¯åŠ¨å¾ˆæ…¢ å®¹å™¨åŒ–æŠ€æœ¯ å®¹å™¨åŒ–æŠ€æœ¯ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿ æ¯”è¾ƒ Docker å’Œè™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒ ä¼ ç»Ÿçš„è™šæ‹Ÿæœºï¼Œè™šæ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶åï¼Œåœ¨å…¶ä¸Šè¿è¡Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œåœ¨è¯¥æ“ä½œç³»ç»Ÿä¸Šå®‰è£…å’Œè¿è¡Œè½¯ä»¶ï¼› å®¹å™¨å†…çš„åº”ç”¨ç›´æ¥è¿è¡Œåœ¨å®¿ä¸»æœºçš„å†…æ ¸ï¼Œå®¹å™¨æ˜¯æ²¡æœ‰è‡ªå·±çš„å†…æ ¸çš„ï¼Œä¹Ÿæ²¡æœ‰è¿›è¡Œç¡¬ä»¶è™šæ‹Ÿï¼Œæ›´åŠ è½»ä¾¿ï¼› æ¯ä¸ªå®¹å™¨é—´éƒ½æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œæ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œäº’ä¸å½±å“ï¼Œèƒ½åŒºåˆ†è®¡ç®—èµ„æºã€‚ DevOps (å¼€å‘ï¼Œè¿ç»´) æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½² ä¼ ç»Ÿï¼šä¸€å †å¸®åŠ©æ–‡æ¡£ï¼Œå®‰è£…ç¨‹åº Dockerï¼šä¸€é”®è¿è¡Œæ‰“åŒ…é•œåƒå‘å¸ƒæµ‹è¯• æ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹ ä½¿ç”¨äº† Docker ä¹‹å,æˆ‘ä»¬éƒ¨ç½²åº”ç”¨å°±åƒæ­ç§¯æœ¨ä¸€æ ·! é¡¹ç›®æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒï¼Œæ‰©å±•ï¼Œå¯ä»¥åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šéƒ¨ç½²ã€‚ æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´ åœ¨å®¹å™¨åŒ–ä¹‹åï¼Œæˆ‘ä»¬å¼€å‘ï¼Œæµ‹è¯•ç¯å¢ƒæ˜¯é«˜åº¦ä¸€è‡´çš„ã€‚ æ›´é«˜æ•ˆçš„è®¡ç®—æœºèµ„æºåˆ©ç”¨ Docker æ˜¯å†…æ ¸çº§åˆ«çš„è™šæ‹ŸåŒ–ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªç‰©ç†æœºä¸Šè¿è¡Œå¾ˆå¤šçš„å®¹å™¨å®ä¾‹ï¼ŒæœåŠ¡å™¨æ€§èƒ½å¯ä»¥è¢«å‹æ¦¨åˆ°æè‡´ã€‚ Docker å®‰è£…Docker çš„åŸºæœ¬ç»„æˆ é•œåƒ (image) Docker é•œåƒå¥½æ¯”ä¸€ä¸ªæ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ¨¡æ¿æ¥åˆ›å»ºå®¹å™¨æœåŠ¡ nginx é•œåƒ =&gt; run =&gt; nginx01 (æä¾›æœåŠ¡å™¨)ã€‚ é€šè¿‡è¿™ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨(æœ€ç»ˆæœåŠ¡è¿è¡Œæˆ–è€…é¡¹ç›®è¿è¡Œå°±æ˜¯åœ¨å®¹å™¨ä¸­çš„)ã€‚ å®¹å™¨ (container) Docker åˆ©ç”¨å®¹å™¨æŠ€æœ¯ï¼Œç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ï¼Œé€šè¿‡é•œåƒæ¥åˆ›å»º å®¹å™¨å’Œé•œåƒå…³ç³»ç±»ä¼¼äºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å¯¹è±¡å’Œç±»ã€‚ ä»“åº“(repository) ä»“åº“å°±æ˜¯å­˜æ”¾é•œåƒçš„åœ°æ–¹ï¼Œä»“åº“åˆ†ä¸ºå…±æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ã€‚ Docker hubï¼ˆé»˜è®¤å›½å¤–é•œåƒï¼‰ï¼Œé˜¿é‡Œäº‘ï¼Œç½‘æ˜“æœ‰å›½å†…é•œåƒåŠ é€ŸæœåŠ¡ã€‚ å®‰è£… DockerCentOS Docker å®‰è£… ç¯å¢ƒå‡†å¤‡ ä¼šä¸€ç‚¹ Linux åŸºç¡€ ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿ CentOS7 ä½¿ç”¨ XShell è¿æ¥è¿œç¨‹æœåŠ¡å™¨ ç¯å¢ƒæŸ¥çœ‹ # æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸# uname -r3.10.0-1062.18.1.el7.x86_64 #ç³»ç»Ÿç‰ˆæœ¬# cat /etc/os-releaseNAME=\"CentOS Linux\"VERSION=\"7 (Core)\"ID=\"centos\"ID_LIKE=\"rhel fedora\"VERSION_ID=\"7\"PRETTY_NAME=\"CentOS Linux 7 (Core)\"ANSI_COLOR=\"0;31\"CPE_NAME=\"cpe:/o:centos:centos:7\"HOME_URL=\"https://www.centos.org/\"BUG_REPORT_URL=\"https://bugs.centos.org/\"CENTOS_MANTISBT_PROJECT=\"CentOS-7\"CENTOS_MANTISBT_PROJECT_VERSION=\"7\"REDHAT_SUPPORT_PRODUCT=\"centos\"REDHAT_SUPPORT_PRODUCT_VERSION=\"7\" å®‰è£… Docker # ä¸€, å¸è½½æ—§çš„ç‰ˆæœ¬$ sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine # 2, éœ€è¦å®‰è£…çš„åŒ…yum install -y yum-utils \\ device-mapper-persistent-data \\ lvm2#3. è®¾ç½®é•œåƒä»“åº“yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo #é»˜è®¤æ˜¯å›½å¤–çš„yum-config-manager \\ --add-repo \\ https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo #æ¨èä½¿ç”¨#æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•yum makecache fast#å®‰è£… docker sudo yum install docker-ce docker-ce-cli containerd.io #å¯åŠ¨ dockersystemctl start docker#æŸ¥çœ‹ docker ç‰ˆæœ¬docker version ä¸‹è½½é•œåƒ docker pull [è¦ä¸‹è½½çš„é•œåƒ] æŸ¥çœ‹ä¸‹è½½çš„é•œåƒ docker images (docker image ls) å¸è½½ docker yum remove docker-ce docker-ce-cli containerd.iorm -rf &#x2F;var&#x2F;lib&#x2F;docker #docker é»˜è®¤å·¥ä½œè·¯å¾„ Windows Docker å®‰è£…ï¼ˆwin10ï¼‰ä¸‹è½½å®˜æ–¹ Docker-desktop å®‰è£…ç¨‹åº https://www.docker.com/products/docker-desktop å¼€å¯ Hyper-V # å¼€å¯æœç´¢win + s# è¾“å…¥å¯ç”¨æˆ–å…³é—­windowsåŠŸèƒ½ é€‰ä¸­ Hyper-V é…ç½®é•œåƒåŠ é€Ÿ åº•å±‚åŸç†Docker æ˜¯æ€ä¹ˆå·¥ä½œçš„ Docker æ˜¯ä¸€ä¸ª C/S ç»“æ„çš„ç³»ç»Ÿï¼ŒDocker çš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šï¼Œé€šè¿‡ Socket ä»å®¢æˆ·ç«¯è®¿é—® DockerServer æ¥æ”¶åˆ° Docker-Client çš„æŒ‡ä»¤ï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ Docker ä¸ºä»€ä¹ˆæ¯” VM å¿«ï¼Ÿ Docker æœ‰ç€æ¯”è™šæ‹Ÿæœºæ›´å°‘çš„æŠ½è±¡å±‚ Dcoker åˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸ï¼ŒVM éœ€è¦çš„æ˜¯ Guest OS æ–°å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼ŒDocker ä¸éœ€è¦åƒè™šæ‹Ÿæœºä¸€æ ·é‡æ–°å®‰è£…ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè™šæ‹Ÿæœºæ˜¯åŠ è½½ Guest OSï¼Œåˆ†é’Ÿçº§åˆ«çš„ï¼Œè€Œ Docker æ˜¯åˆ©ç”¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œçœç•¥äº†è¿™ä¸ªå¤æ‚çš„è¿‡ç¨‹ Docker å‘½ä»¤å¸®åŠ©å‘½ä»¤docker version #dockerç‰ˆæœ¬docker info #æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨æ•°é‡docker [å‘½ä»¤] --help #æŸ¥çœ‹æŸä¸ªå…·ä½“çš„å‘½ä»¤ é•œåƒå‘½ä»¤docker images æŸ¥çœ‹ä¸‹è½½çš„æ‰€æœ‰é•œåƒ # docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEmysql 5.6 8de95e6026c3 20 hours ago 302MBredis latest 36304d3b4540 12 days ago 104MBmysql latest 30f937e841c8 2 weeks ago 541MBcentos/mysql-57-centos7 latest f83a2938370c 8 months ago 452MB# è§£é‡ŠREPOSITORY é•œåƒçš„ä»“åº“åTAG é•œåƒçš„æ ‡ç­¾IMAGE ID é•œåƒIDCREATED é•œåƒåˆ›å»ºæ—¶é—´SIZE é•œåƒçš„å¤§å°#å¯é€‰é¡¹Options: -a, --all #åˆ—å‡ºæ‰€æœ‰é•œåƒ -q, --quiet #åªæ˜¾ç¤ºé•œåƒID docker search æœç´¢é•œåƒ docker search mysqlNAME DESCRIPTION STARS OFFICIAL AUTOMATED mysql MySQL is a widely used, open-source relationâ€¦ 9604 [OK] #å¯é€‰é¡¹,é€šè¿‡æ”¶è—æ¥è¿‡æ»¤--filter=stars=3000 #æœç´¢å‡ºæ¥çš„é•œåƒæ”¶è—å°±æ˜¯å¤§äº3000çš„ docker pull æ‹‰å–é•œåƒ docker pull nginx [:tag]Using default tag: latest #å¦‚æœä¸å†™tag é»˜è®¤ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬latest: Pulling from library/nginx8559a31e96f4: Pull complete #åˆ†å±‚ä¸‹è½½,docker imageæ ¸å¿ƒ è”åˆæ–‡ä»¶ç³»ç»Ÿ8d69e59170f7: Pull complete 3f9f1ec1d262: Pull complete d1f5ff4f210d: Pull complete 1e22bfa8652e: Pull complete Digest: sha256:21f32f6c08406306d822a0e6e8b7dc81f53f336570e852e25fbe1e3e3d0d0133 #ç­¾åStatus: Downloaded newer image for nginx:latestdocker.io/library/nginx:latest #çœŸå®åœ°å€# docker pull nginx ç­‰ä»·äº dicker pull docker.io/library/nginx:latest docker rmi åˆ é™¤é•œåƒ # åˆ é™¤æŒ‡å®šçš„é•œåƒ$ docker rmi -f 8de95e6026c3 # åˆ é™¤å…¨éƒ¨çš„é•œåƒ$ docker rmi -f $(docker images -ap)# æ¸…ç©ºä¸´æ—¶é•œåƒ$ docker rmi $(docker images -q -f dangling=true) docker build ä½¿ç”¨dockerfileåˆ›å»ºé•œåƒ # ä½¿ç”¨å½“å‰ç›®å½•çš„ dockerfile åˆ›å»ºé•œåƒ å½“ dockerfile çš„å‘½åä¸º dockerfile å°±ä¸éœ€è¦åˆ¶å®šæ–‡ä»¶å -f$ docker build -t node:10.15-alpine .$ docker build -f /path/to/a/dockerfile . # /path/to/a å®¹å™¨å‘½ä»¤æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨ docker run [options] image# options# è‹¥imageæœ¬åœ°æ²¡æœ‰åˆ™ä¼šå» dockeré•œåƒåº“æ‹‰å–--name=\"\" å®¹å™¨åå­— ç”¨äºåŒºåˆ†å®¹å™¨-d åå°æ–¹å¼è¿è¡Œ-it ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œ,è¿›å…¥å®¹å™¨æŸ¥çœ‹å†…å®¹-p æŒ‡å®šå®¹å™¨çš„ç«¯å£ -p 80:8080 ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£-P(å¤§å†™) éšæœºæŒ‡å®šç«¯å£ åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨ # docker ps å‘½ä»¤ åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨# options-a # åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨+å†å²è¿è¡Œè¿‡çš„å®¹å™¨-n=? # æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨-q # åªæ˜¾ç¤ºå®¹å™¨çš„ç¼–å·$ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES$ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES919e58ff5521 redis \"Docker-entrypoint.sâ€¦\" 20 hours ago Exited (0) 16 hours ago redis é€€å‡ºå®¹å™¨ exit #ç›´æ¥å®¹å™¨åœæ­¢å¹¶é€€å‡º åˆ é™¤å®¹å™¨ $ docker rm å®¹å™¨id$ docker rm -f $(docker ps -aq) #åˆ é™¤æ‰€æœ‰çš„å®¹å™¨ å¯åŠ¨å’Œåœæ­¢å®¹å™¨ $ docker start å®¹å™¨id or å®¹å™¨name # å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»è¢«åœæ­¢çš„å®¹å™¨$ docker restart å®¹å™¨id or å®¹å™¨name # é‡å¯å®¹å™¨$ docker stop å®¹å™¨id or å®¹å™¨name # åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨$ docker kill å®¹å™¨id or å®¹å™¨name # æ€æ‰è¿è¡Œä¸­çš„å®¹å™¨ å…¶ä»–å¸¸ç”¨å‘½ä»¤åå°å¯åŠ¨å®¹å™¨ $ docker run -d é•œåƒå æŸ¥çœ‹å®¹å™¨ä¸­è¿›ç¨‹ä¿¡æ¯ $ docker top å®¹å™¨id æŸ¥çœ‹é•œåƒå…ƒæ•°æ® $ docker inspect å®¹å™¨id or å®¹å™¨name è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ #æˆ‘ä»¬é€šå¸¸å®¹å™¨éƒ½æ˜¯ä½¿ç”¨åå°æ–¹å¼è¿è¡Œçš„,éœ€è¦è¿›å…¥å®¹å™¨,ä¿®æ”¹ä¸€äº›é…ç½®#å‘½ä»¤# è¿›å…¥å®¹å™¨åå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯,å¯ä»¥åœ¨é‡Œé¢æ“ä½œ(å¸¸ç”¨) é€€å‡º shell ä¸ä¼šå¯¼è‡´å®¹å™¨åœæ­¢è¿è¡Œ$ docker exec -it å®¹å™¨id or name bashshell é»˜è®¤å‘½ä»¤è¡Œ# è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯,ä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹ å¦‚æœé€€å‡º shellï¼Œå®¹å™¨ä¼šåœæ­¢è¿è¡Œ$ docker attach å®¹å™¨id or å®¹å™¨name ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š $ docker cp å®¹å™¨id: å®¹å™¨å†…è·¯å¾„ ç›®çš„ä¸»æœºè·¯å¾„ docker systemå‘½ä»¤ # æŸ¥çœ‹dockerç£ç›˜å ç”¨æƒ…å†µ$ docker system df# å‘½ä»¤å¯ä»¥ç”¨äºæ¸…ç†ç£ç›˜ï¼Œåˆ é™¤å…³é—­çš„å®¹å™¨ã€æ— ç”¨çš„æ•°æ®å·å’Œç½‘ç»œ$ docker system prune-a # æ²¡æœ‰å®¹å™¨ä½¿ç”¨çš„ docker å®¹å™¨éƒ½åˆ é™¤ æ‰‹åŠ¨æ¸…é™¤ docker é•œåƒ/å®¹å™¨/æ•°æ®å· # åˆ é™¤æ‰€æœ‰ dangling é•œåƒ(å³æ—  tag çš„é•œåƒ)$ docker rmi $(docker images | grep \"^&lt;none&gt;\" | awk \"&#123;print $3&#125;\")# åˆ é™¤æ‰€æœ‰ dangling æ•°æ®å·(å³æ— ç”¨çš„ volume)$ docker volume rm $(docker volume ls -qf dangling=true) Docker é•œåƒé•œåƒæ˜¯ä»€ä¹ˆé•œåƒå°±æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ï¼Œå¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ï¼Œç”¨æ¥æ‰“åŒ…è½¯ä»¶è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒå¼€å‘çš„è½¯ä»¶ï¼Œå®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ï¼Œè¿è¡Œæ—¶ï¼Œåº“ï¼Œç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ã€‚ å¦‚ä½•å¾—åˆ°é•œåƒ ä»è¿œå¤„ä»“åº“ä¸‹è½½ æ‹·è´ è‡ªå·±åˆ¶ä½œä¸€ä¸ªé•œåƒ dockerfile docker é•œåƒåŠ è½½åŸç† UnionFs (è”åˆæ–‡ä»¶ç³»ç»ŸæŸ¥è¯¢) æˆ‘ä»¬ä¸‹è½½çš„æ—¶å€™çœ‹åˆ°çš„ä¸€å±‚ä¸€å±‚å°±æ˜¯è¿™ä¸ª UnionFs (è”åˆæ–‡ä»¶ç³»ç»Ÿ): Union æ–‡ä»¶ç³»ç»Ÿ(UnionFS)æ˜¯ä¸€ç§åˆ†å±‚,è½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿ,å®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä½œä¸ºä¸€æ¬¡æäº¤æ¥ä¸€å±‚å±‚çš„å åŠ ,åŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹, Union æ–‡ä»¶ç³»ç»Ÿæ˜¯ Docker é•œåƒçš„åŸºç¡€,é•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿,åŸºäºåŸºç¡€é•œåƒ(æ²¡æœ‰çˆ¶é•œåƒ),å¯ä»¥åˆ¶ä½œå„ç§å…·ä½“çš„åº”ç”¨é•œåƒ ç‰¹æ€§: ä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿ,ä½†ä»å¤–é¢çœ‹èµ·æ¥,åªèƒ½çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ,è”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥,è¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•ç»“æ„ Docker é•œåƒåŠ è½½åŸç† Docker çš„é•œåƒå®é™…ä¸Šç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆ,è¿™ç§å±‚çº§çš„æ–‡ä»¶ç³»ç»ŸUnionFS bootfs(boot file system)ä¸»è¦åŒ…å« bootlloader å’Œ kernel, bootfs ä¸»è¦æ˜¯å¼•å¯¼åŠ è½½ kernel, Linux åˆšå¯åŠ¨æ—¶ä¼šåŠ è½½ bootfs æ–‡ä»¶ç³»ç»Ÿ,åœ¨ Docker é•œåƒçš„æœ€åº•å±‚æ˜¯ bootfs, è¿™ä¸€å±‚ä¸æˆ‘ä»¬å…¸å‹çš„ Linux/Unix ç³»ç»Ÿæ˜¯ä¸€æ ·çš„,åŒ…å« boot åŠ è½½å™¨å’Œå†…æ ¸,å½“ boot åŠ è½½å®Œæˆä¹‹åæ•´ä¸ªå†…æ ¸å°±åœ¨å†…å­˜ä¸­äº†,æ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²ç”± bootfa è½¬äº¤ç»™å†…æ ¸,æ­¤æ—¶ç³»ç»Ÿä¹Ÿä¼šå¸è½½ bootfs rootfs(root file system)ï¼Œåœ¨ bootfs ä¹‹ä¸Šï¼ŒåŒ…å«çš„å°±æ˜¯å…¸å‹ Linux ç³»ç»Ÿä¸­çš„ /dev, /proc,/bin, /etc ç­‰æ ‡å‡†ç›®å½•å’Œæ–‡ä»¶, rootfs å°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆ,æ¯”å¦‚ Ubuntu, CentOS ç­‰ç­‰ åˆ†å±‚ç†è§£é•œåƒä¸‹è½½çš„æ—¶å€™æ˜¯ä¸€å±‚ä¸€å±‚çš„åœ¨ä¸‹è½½ æ€è€ƒ: ä¸ºä»€ä¹ˆ Docker é•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚çš„ç»“æ„å‘¢? æœ€å¤§å¥½å¤„,æˆ‘è§‰å¾—è«è¿‡äºèµ„æºå…±äº«äº†!æ¯”å¦‚æœ‰å¤šä¸ªé•œåƒéƒ½ä»ç›¸åŒçš„ Base é•œåƒæ„å»ºè€Œæ¥,é‚£ä¹ˆå®¿ä¸»æœº åªéœ€åœ¨ç£ç›˜ä¸Šä¿ç•™ä¸€ä»½ Base é•œåƒ,åŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€è¦åŠ è½½ä¸€ä»½ Base é•œåƒ,è¿™æ ·å°±å¯ä»¥ä¸ºæ‰€æœ‰çš„å®¹å™¨æœåŠ¡äº†,è€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº« æŸ¥çœ‹é•œåƒåˆ†å±‚çš„æ–¹å¼å¯ä»¥é€šè¿‡ Docker image inspect å‘½ä»¤! commit é•œåƒ$ docker commit æäº¤å®¹å™¨æˆä¸ºä¸€ä¸ªæ–°çš„é•œåƒ#å‘½ä»¤å’ŒgitåŸç†ç±»ä¼¼$ docker commit -m=\"æäº¤çš„æè¿°ä¿¡æ¯\" -a=\"ä½œè€…\" å®¹å™¨ID ç›®æ ‡é•œåƒå:[tag] å®¹å™¨æ•°æ®å·ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·Docker çš„ç†å¿µå›é¡¾ å°†åº”ç”¨å’Œç¯å¢ƒéƒ½æ‰“åŒ…æˆä¸€ä¸ªé•œåƒï¼ å¦‚æœæ•°æ®éƒ½åœ¨å®¹å™¨ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å®¹å™¨åˆ é™¤ï¼Œæ•°æ®å°±ä¼šä¸¢å¤±ï¼ éœ€æ±‚: æ•°æ®å¯ä»¥æŒä¹…åŒ– MySQLï¼Œå®¹å™¨åˆ äº†ï¼Œæ•°æ®ä¸¢å¤±. éœ€æ±‚ï¼šMySQL æ•°æ®å¯ä»¥å­˜å‚¨åˆ°æœ¬åœ° å®¹å™¨ä¹‹é—´å¯ä»¥æœ‰ä¸€ä¸ªæ•°æ®å…±äº«çš„æŠ€æœ¯ï¼Docker å®¹å™¨ä¸­äº§ç”Ÿçš„æ•°æ®ï¼ŒåŒæ­¥åˆ°æœ¬åœ° ç›®å½•çš„æŒ‚è½½ï¼Œå°†å®¹å™¨å†…çš„ç›®å½•æŒ‚è½½åˆ° Linux ä¸Šé¢ æ€»ç»“ä¸€å¥è¯: å®¹å™¨çš„æŒä¹…åŒ–å’ŒåŒæ­¥æ“ä½œ! å®¹å™¨é—´ä¹Ÿå¯ä»¥æ•°æ®å…±äº«çš„! ä½¿ç”¨æ•°æ®å· æ–¹æ³•ä¸€ï¼šç›´æ¥ä½¿ç”¨å‘½ä»¤æ¥æŒ‚è½½ -v $ docker run -it -v ä¸»æœºç›®å½•:å®¹å™¨å†…ç›®å½• -p ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£# å¯åŠ¨èµ·æ¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ docker inspect å®¹å™¨id å®æˆ˜:å®‰è£… MySQL# è·å–é•œåƒ$ docker pull mysql:5.7# è¿è¡Œå®¹å™¨,éœ€è¦åšæ•°æ®æŒ‚è½½! # å®‰è£…å¯åŠ¨mysql,éœ€è¦é…ç½®å¯†ç ,è¿™æ˜¯å®˜æ–¹çš„# å®˜æ–¹æµ‹è¯•: docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=å¯†ç  -d mysql:tag#å¯mysql-d åå°è¿è¡Œ-p ç«¯å£æ˜ å°„-v ç«¯å£æ˜ å°„-e ç¯å¢ƒé…ç½®--name å®¹å™¨å$ docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=root --name mysql01 mysql:5.7# å¯åŠ¨æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°ä½¿ç”¨navicatæ¥æµ‹è¯•è¿æ¥#navicat-è¿æ¥åˆ°æœåŠ¡å™¨çš„3310 --- 3310å’Œå®¹å™¨å†…çš„3306æ˜ å°„ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¿æ¥ä¸Šäº† å‡è®¾æˆ‘ä»¬å°†å®¹å™¨åˆ é™¤ï¼ŒæŒ‚è½½åˆ°æœ¬åœ° çš„æ•°æ®å·ä¾æ—§æ²¡æœ‰ä¸¢å¤±ï¼Œè¿™å°±å®ç°äº†å®¹å™¨æ•°æ®æŒä¹…åŒ–åŠŸèƒ½ å…·åå’ŒåŒ¿åæŒ‚è½½# åŒ¿åæŒ‚è½½-v å®¹å™¨å†…è·¯å¾„$ docker run -d -p 8080:80 --name nginx01 -v /etc/nginx nginx:alpine# æŸ¥çœ‹æ‰€æœ‰çš„volumeæƒ…å†µ$ docker volume lsDRIVER VOLUME NAMElocal b448950f96ca2daed2a90cd21e687431653dc9a2f40ccf51e0ce38432f6564a4# è¿™ä¸ªå°±æ˜¯åŒ¿åæŒ‚è½½ï¼Œ-væ—¶åªå†™äº†å®¹å™¨å†…è·¯å¾„ï¼Œæ²¡æœ‰å†™# é€šè¿‡ -v å·å:å®¹å™¨å†…è·¯å¾„ æ‰€æœ‰çš„ Docker å®¹å™¨å†…çš„å·,æ²¡æœ‰æŒ‡å®šç›®å½•çš„æƒ…å†µä¸‹éƒ½æ˜¯åœ¨ /var/lib/Docker/volumes/ å·å /_data æˆ‘ä»¬é€šè¿‡å…·åæŒ‚è½½å¯ä»¥æ–¹ä¾¿çš„æ‰¾åˆ°ä¸€ä¸ªå·ï¼Œå¤§å¤šæ•°æƒ…å†µåœ¨ä½¿ç”¨çš„å…·åæŒ‚è½½ # å¦‚ä½•ç¡®å®šæ˜¯å…·åæŒ‚è½½è¿˜æ˜¯åŒ¿åæŒ‚è½½è¿˜æ˜¯æŒ‡å®šè·¯å¾„æŒ‚è½½-v å®¹å™¨å†…è·¯å¾„ # åŒ¿åæŒ‚è½½-v å·å:å®¹å™¨å†…è·¯å¾„ # å…·åæŒ‚è½½ æ‹“å±•ï¼š #é€šè¿‡ -v å®¹å™¨å†…è·¯å¾„: ro rw æ”¹å˜è¯»å†™æƒé™# ro read only# read and write#ä¸€æ—¦è®¾ç½®äº†å®¹å™¨æƒé™,å®¹å™¨å¯¹æŒ‚è½½å‡ºæ¥çš„å†…å®¹å°±æœ‰é™å®šäº†!docker -run -P -name nginx01 -v /etc/nginx:ro nginxdocker -run -P -name nginx01 -v /etc/nginx:rw nginxro : åªè¦çœ‹åˆ°roå°±è¯´æ˜è¿™ä¸ªè·¯å¾„åªèƒ½é€šè¿‡å®¿ä¸»æœºæ¥æ”¹å˜,å®¹å™¨å†…éƒ¨æ— æ³•æ“ä½œ dockerfiledockerfile æ˜¯ç”¨æ¥æ„å»º docker é•œåƒçš„æ–‡ä»¶ï¼Œå‘½ä»¤å‚æ•°è„šæœ¬ã€‚ æ„å»ºæ­¥éª¤ï¼š ç¼–å†™ä¸€ä¸ª dockerfile æ–‡ä»¶ docker build æ„å»ºæˆä¸ºä¸€ä¸ªé•œåƒ docker run é•œåƒ docker push å‘å¸ƒé•œåƒï¼ˆdockerHubï¼Œé˜¿é‡Œäº‘é•œåƒä»“åº“ï¼‰ å¾ˆå¤šå®˜æ–¹é•œåƒéƒ½æ˜¯åŸºç¡€åŒ…ï¼Œå¾ˆå¤šåŠŸèƒ½éƒ½æ˜¯æ²¡æœ‰çš„ï¼Œæˆ‘ä»¬é€šå¸¸è‡ªå·±åˆ›å»ºè‡ªå·±çš„é•œåƒã€‚ Dockerfileçš„æ„å»ºè¿‡ç¨‹åŸºç¡€çŸ¥è¯†ï¼š æ¯ä¸ªä¿ç•™å…³é”®å­—(æŒ‡ä»¤)éƒ½å¿…é¡»æ˜¯å¤§å†™å­—æ¯ æ‰§è¡Œä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œ #è¡¨ç¤ºæ³¨é‡Š æ¯ä¸€æ¡å‘½ä»¤éƒ½ä¼šåˆ›å»ºæäº¤ä¸€ä¸ªé•œåƒå±‚ï¼Œå¹¶æäº¤ Dockerfile æ˜¯é¢å‘å¼€å‘çš„ï¼Œæˆ‘ä»¬ä»¥åè¦å‘å¸ƒé¡¹ç›®ï¼Œåšé•œåƒï¼Œå°±éœ€è¦ç¼–å†™ Dockerfile æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ååˆ†ç®€å•ã€‚ Docker é•œåƒé€æ¸æˆä¸ºä¼ä¸šäº¤ä»˜çš„æ ‡å‡†ï¼Œå¿…é¡»è¦æŒæ¡ æ­¥éª¤ï¼š å¼€å‘ï¼Œéƒ¨ç½²ï¼Œè¿ç»´ Dockerfileï¼šæ„å»ºæ–‡ä»¶ï¼Œå®šä¹‰äº†ä¸€åˆ‡æ­¥éª¤ï¼Œæºä»£ç  DockerImagesï¼šé€šè¿‡ Dockerfile æ„å»ºç”Ÿæˆçš„é•œåƒï¼Œæœ€ç»ˆå‘å¸ƒå’Œè¿è¡Œçš„äº§å“ Dockerå®¹å™¨ï¼šå®¹å™¨å°±æ˜¯é•œåƒè¿è¡Œèµ·æ¥æä¾›æœåŠ¡å™¨ Dockerfileçš„æŒ‡ä»¤FROM # åŸºç¡€é•œåƒ, ä¸€åˆ‡ä»è¿™é‡Œå¼€å§‹æ„å»ºMANTAINER # é•œåƒæ˜¯è°å†™çš„, å§“å+é‚®ç®±RUN # é•œåƒæ„å»ºçš„æ—¶å€™éœ€è¦è¿è¡Œçš„å‘½ä»¤ADD # æ­¥éª¤, tomcaté•œåƒ,å‹ç¼©åŒ…! æ·»åŠ å†…å®¹WORKDIR # é•œåƒçš„å·¥ä½œç›®å½•VOLUME # æŒ‚è½½çš„ç›®å½•EXPOSE # æš´éœ²ç«¯å£é…ç½®CMD # æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤,åªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆ,å¯è¢«æ›¿ä»£ENTRYPOINT # æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤,å¯ä»¥è¿½åŠ å‘½ä»¤ONBUILD # å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿ DockerFile è¿™ä¸ªæ—¶å€™å°±ä¼šè¿è¡ŒONBUILDçš„æŒ‡ä»¤,è§¦å‘æŒ‡ä»¤COPY # ç±»ä¼¼ADD,å°†æˆ‘ä»¬æ–‡ä»¶æ‹·è´åˆ°é•œåƒä¸­ENV # æ„å»ºçš„æ—¶å€™è®¾ç½®ç¯å¢ƒå˜é‡ å®æˆ˜æµ‹è¯•docker Hub ä¸­99%é•œåƒéƒ½æ˜¯ä» CentOS åŸºç¡€é•œåƒè¿‡æ¥çš„,ç„¶åé…ç½®éœ€è¦çš„è½¯ä»¶ åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ CentOS # 1. ç¼–å†™ dockerfile æ–‡ä»¶FROM centosMAINTAINER jiawei&lt;jiaweilee95@126.com&gt;ENV MYPATH /usr/localWORKDIR $&#123;MYPATH&#125;RUN yum -y install vim &amp;&amp; yum -y install net-toolsEXPOSE 80CMD echo $&#123;MYPATH&#125; &amp;&amp; echo \"--end--\" &amp;&amp; /bin/sh# 2. é€šè¿‡è¿™ä¸ªæ–‡ä»¶æ„å»ºé•œåƒdocker build -f &lt;dockerfileæ–‡ä»¶ç›®å½•&gt; -t &lt;é•œåƒå:[tag]&gt; .# 3. æµ‹è¯• CMD å’Œ ENTRYPOINT çš„åŒºåˆ« CMD # æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤,åªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆ,å¯è¢«æ›¿ä»£ENTRYPOINT # æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤,å¯ä»¥è¿½åŠ å‘½ä»¤ æµ‹è¯• CMD # ç¼–å†™ dockerfile æ–‡ä»¶$ vim dockerfile-cmd-testFROM centosCMD [\"ls\", \"-a\"]# æ„å»ºé•œåƒ$ docker build -f dockerfile-cmd-test -t centos .# run è¿è¡Œï¼Œå‘ç°ls -aç”Ÿæ•ˆ$ docker run 963149b1ac5d....dockerenvbindevetchomeliblib64lost+foundmediamntoptprocrootrunsbinsrvsystmpusrvar# æƒ³è¦è¿½åŠ ä¸€ä¸ªå‘½ä»¤ -l ls -al$ docker run 963149b1ac5d -ldocker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused \"exec: \\\"-l\\\": executable file not found in $PATH\": unknown.ERRO[0000] error waiting for container: context canceled # cmdçš„æƒ…å†µä¸‹ æ›¿æ¢äº†CMD[\"ls\",\"-a\"]å‘½ä»¤,-ä¸æ˜¯å‘½ä»¤è¿½åŠ  ENTRYPOINT æ˜¯å¾€å‘½ä»¤ä¹‹åè¿½åŠ  # ç¼–å†™dockerfileæ–‡ä»¶$ vim dockerfile-cmd-testFROM centosENTRYPOINT [\"ls\", \"-a\"]# æ„å»ºé•œåƒ$ docker build -f dockerfile-cmd-test -t centos .# run è¿è¡Œï¼Œå‘ç°ls -aç”Ÿæ•ˆ$ docker run 963149b1ac5d....dockerenvbindevetchomeliblib64lost+foundmediamntoptprocrootrunsbinsrvsystmpusrvar# æƒ³è¦è¿½åŠ ä¸€ä¸ªå‘½ä»¤ -l ls -al$ docker run 963149b1ac5d -l# è¿™é‡Œæ˜¯ç”Ÿæ•ˆçš„ å®æˆ˜ï¼šTomcaté•œåƒ å‡†å¤‡é•œåƒæ–‡ä»¶ tomcat å‹ç¼©åŒ…ï¼Œjdk å‹ç¼©åŒ… ç¼–å†™ Dockerfile æ–‡ä»¶ï¼Œå®˜æ–¹å‘½å Dockerfileï¼Œbuild ä¼šè‡ªåŠ¨å¯»æ‰¾è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¸éœ€è¦ -f æŒ‡å®šæ–‡ä»¶äº† FROM centosMAINTAINER czp&lt;2432688105@qq.com&gt;COPY readme.txt /usr/local/readme.txtADD apache-tomcat-9.0.33.tar.gz /usr/local/ADD jdk-8u221-linux-x64.rpm /usr/local/RUN yum -y install vim ENV MYPATH /usr/local WORKDIR $MYPATH ENV JAVA_HOME /usr/local/jdk1.8.0_11ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jarENV CATALINA_HOME /usr/local/apache-tomcat-9.0.33ENV CATALINA_BASH /usr/local/apache-tomcat-9.0.33# é…ç½®ç¯å¢ƒå˜é‡ENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:/CATALINA_HOME/binEXPOSE 8080CMD /usr/local/apache-tomcat-9.0.33/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-9.0.33/bin/logs/catalina.out æ„å»ºé•œåƒ # docker build -t diytomcat . æœ¬åœ°æµ‹è¯• curl localhost:9090 å‘å¸ƒé•œåƒ Dockerhub åœ°å€ hub.docker.com æ³¨å†Œè‡ªå·±çš„è´¦å·! ç¡®å®šè¿™ä¸ªè´¦å·å¯ä»¥ç™»å½• åœ¨æœåŠ¡å™¨ä¸Šæäº¤è‡ªå·±çš„é•œåƒ $ docker login --helpUsage: docker login [OPTIONS] [SERVER]Log in to a docker registry.If no server is specified, the default is defined by the daemon.Options: -p, --password string Password --password-stdin Take the password from stdin -u, --username string Username ç™»å½•å®Œæ¯•å°±å¯ä»¥æäº¤é•œåƒäº†,å°±æ˜¯ä¸€æ­¥ docker push æäº¤åˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“ ç™»å½•é˜¿é‡Œäº‘ æ‰¾åˆ°å®¹å™¨é•œåƒæœåŠ¡ åˆ›å»ºå‘½åç©ºé—´ åˆ›å»ºå®¹å™¨é•œåƒ æµè§ˆé˜¿é‡Œäº‘ å°ç»“ Docker ç½‘ç»œåŸç†ç†è§£ Docker0æ¸…ç©ºæ‰€æœ‰ç¯å¢ƒ æµ‹è¯• ä¸‰ä¸ªç½‘ç»œ # docker æ˜¯å¦‚ä½•å¤„ç†å®¹å™¨ç½‘ç»œè®¿é—®çš„ï¼Ÿ$ docker run -d -P --name tomcat01 tomcat# æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç½‘ç»œåœ°å€ ip addr å‘ç°å®¹å™¨å¯åŠ¨çš„æ—¶å€™ä¼šå¾—åˆ°ä¸€ä¸ªeth0@if8 ipåœ°å€ï¼Œdockeråˆ†é…çš„$ docker exec -it tomcat01 ip addr1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever2: sit0@NONE: &lt;NOARP&gt; mtu 1480 qdisc noop state DOWN group default qlen 1000 link/sit 0.0.0.0 brd 0.0.0.07: eth0@if8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default link/ether 02:42:ac:11:00:03 brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet 172.17.0.3/16 brd 172.17.255.255 scope global eth0 valid_lft forever preferred_lft forever# linuxèƒ½pingé€šå®¹å™¨å†…éƒ¨ åŸç† æˆ‘ä»¬æ¯å¯åŠ¨ä¸€ä¸ª docker å®¹å™¨ï¼Œdocker å°±ä¼šç»™ docker å®¹å™¨åˆ†é…ä¸€ä¸ª ipï¼Œæˆ‘ä»¬åªè¦å®‰è£…äº† dockerï¼Œå°±ä¼šæœ‰ä¸€ä¸ªç½‘å¡ Docker0 æ¡¥æ¥æ¨¡å¼ï¼Œä½¿ç”¨çš„æ˜¯ veth-pair æŠ€æœ¯ å†æ¬¡æµ‹è¯• ip addr å†å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œå‘ç°åˆå¤šäº†ä¸€å¯¹ç½‘å¡ # æˆ‘ä»¬å‘ç°è¿™ä¸ªå®¹å™¨å¸¦æ¥ç½‘å¡, éƒ½æ˜¯ä¸€å¯¹å¯¹çš„# veth-pair å°±æ˜¯ä¸€å¯¹è™šæ‹Ÿæœºè®¾å¤‡æ¥å£,ä»–ä»¬éƒ½æ˜¯æˆå¯¹å‡ºç°çš„,ä¸€ç«¯è¿ç€åè®®,ä¸€ç«¯å½¼æ­¤ç›¸è¿# æ­£å› ä¸ºæœ‰è¿™ä¸ªç‰¹æ€§,veth-pair å……å½“æ¡¥æ¢,è¿æ¥å„ç§è™šæ‹Ÿç½‘ç»œè®¾å¤‡çš„# openStac,Dockerå®¹å™¨ä¹‹é—´çš„è¿æ¥,OVSçš„è¿æ¥,éƒ½æ˜¯ä½¿ç”¨ veth-pair æŠ€æœ¯ æµ‹è¯• tomcat01 å’Œ tomcat02 æ˜¯å¦èƒ½ ping é€š # ç»“è®ºï¼šå®¹å™¨å’Œå®¹å™¨ä¹‹é—´æ˜¯å¯ä»¥äº’ç›¸pingé€šçš„ ç»“è®º: tomcat01 å’Œ tomcat02 æ˜¯å…±ç”¨çš„ä¸€ä¸ªè·¯ç”±å™¨, Docker0 æ‰€æœ‰çš„å®¹å™¨ä¸æŒ‡å®šç½‘ç»œçš„æƒ…å†µä¸‹,éƒ½æ˜¯ Docker0 è·¯ç”±çš„, Docker ä¼šç»™æˆ‘ä»¬çš„å®¹å™¨åˆ†é…ä¸€ä¸ªé»˜è®¤çš„å¯ç”¨IP å°ç»“ Docker ä½¿ç”¨çš„æ˜¯ Linux çš„æ¡¥æ¥ï¼Œå®¿ä¸»æœºæ˜¯ä¸€ä¸ª Docker å®¹å™¨çš„ç½‘æ¡¥ Docker0 Docker ä¸­æ‰€æœ‰çš„ç½‘ç»œæ¥å£éƒ½æ˜¯è™šæ‹Ÿçš„,è™šæ‹Ÿçš„è½¬å‘æ•ˆç‡é«˜ï¼ˆå†…ç½‘ä¼ é€’æ–‡ä»¶ï¼‰ åªè¦å®¹å™¨åˆ é™¤,å¯¹åº”ç½‘æ¡¥çš„ä¸€å¯¹å°±æ²¡äº† â€“link æ€è€ƒä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå¾®æœåŠ¡ï¼Œdatabase url = ipï¼›é¡¹ç›®ä¸é‡å¯ï¼Œæ•°æ®åº“ ip æ”¹å˜äº†ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡åå­—æ¥è®¿é—®å®¹å™¨å—ï¼Ÿ $ docker exec -it tomcat02 ping tomcat01ping: tomcat01: Name or service not known# é€šè¿‡--linkå¯ä»¥è§£å†³ç½‘ç»œè¿æ¥é—®é¢˜$ docker run -d -P --name tomcat03 --link tomcat02 tomcat6aedb0ba2e798b184f42f98e4a38ce2a54cb97d47b985d17065b064a7f73d404$ docker exec -it tomcat03 ping tomcat02PING tomcat02 (172.17.0.3) 56(84) bytes of data.64 bytes from tomcat02 (172.17.0.3): icmp_seq=1 ttl=64 time=0.061 ms64 bytes from tomcat02 (172.17.0.3): icmp_seq=2 ttl=64 time=0.040 ms64 bytes from tomcat02 (172.17.0.3): icmp_seq=3 ttl=64 time=0.040 ms64 bytes from tomcat02 (172.17.0.3): icmp_seq=4 ttl=64 time=0.082 ms64 bytes from tomcat02 (172.17.0.3): icmp_seq=5 ttl=64 time=0.039 ms^C--- tomcat02 ping statistics ---5 packets transmitted, 5 received, 0% packet loss, time 134msrtt min/avg/max/mdev = 0.039/0.052/0.082/0.018 ms# åå‘æ˜¯å¦å¯ä»¥pingé€šå—[root@CZP ~]# docker exec -it tomcat02 ping tomcat03 -link æœ¬è´¨å°±æ˜¯åœ¨ hosts ä¸­æ·»åŠ æ˜ å°„ æˆ‘ä»¬ç°åœ¨ç© docker å·²ç»ä¸å»ºè®®ä½¿ç”¨ â€“link äº†! è‡ªå®šä¹‰ç½‘ç»œ,ä¸ä½¿ç”¨ Docker0! Docker0 é—®é¢˜: å®ƒä¸æ”¯æŒå®¹å™¨åè¿æ¥è®¿é—®! è‡ªå®šä¹‰ç½‘ç»œ æŸ¥çœ‹æ‰€æœ‰çš„ Docker ç½‘ç»œ $ docker network lsNETWORK ID NAME DRIVER SCOPE86c70406cec4 bridge bridge locale2cd35c81ffb host host localc6fe6b78ab62 none null local ç½‘ç»œæ¨¡å¼ bridge: æ¡¥æ¥æ¨¡å¼ docker æ­æ¡¥ï¼ˆé»˜è®¤ï¼‰ noneï¼š ä¸é…ç½®ç½‘ç»œ hostï¼šå’Œå®¿ä¸»æœºå…±äº«ç½‘ç»œ container: å®¹å™¨å†…ç½‘ç»œè¿é€šï¼ˆç”¨å¾—å°‘ï¼Œå±€é™å¾ˆå¤§ï¼‰ # ç›´æ¥å¯åŠ¨çš„å‘½ä»¤ --net brodge,é»˜è®¤docker0docker run -d -P --name tomcat01 --net bridge tomcat# docker0çš„ç‰¹ç‚¹: é»˜è®¤çš„,åŸŸåæ˜¯ä¸èƒ½è®¿é—®çš„, --linkå¯ä»¥æ‰“é€šè¿æ¥# è‡ªå®šä¹‰ç½‘ç»œ# --driver bridgedocker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet87d0f163b3a0c857d281bf4e97675d03555486c530969d1cb04950f203133b55$ docker network lsNETWORK ID NAME DRIVER SCOPE86c70406cec4 bridge bridge locale2cd35c81ffb host host local87d0f163b3a0 mynet bridge localc6fe6b78ab62 none null local è‡ªå·±çš„ç½‘ç»œåˆ›å»ºå¥½äº† $ Docker network inspect mynet[ &#123; \"Name\": \"mynet\", \"Id\": \"87d0f163b3a0c857d281bf4e97675d03555486c530969d1cb04950f203133b55\", \"Created\": \"2020-07-08T01:56:39.0611734Z\", \"Scope\": \"local\", \"Driver\": \"bridge\", \"EnableIPv6\": false, \"IPAM\": &#123; \"Driver\": \"default\", \"Options\": &#123;&#125;, \"Config\": [ &#123; \"Subnet\": \"192.168.0.0/16\", \"Gateway\": \"192.168.0.1\" &#125; ] &#125;, \"Internal\": false, \"Attachable\": false, \"Ingress\": false, \"ConfigFrom\": &#123; \"Network\": \"\" &#125;, \"ConfigOnly\": false, \"Containers\": &#123;&#125;, \"Options\": &#123;&#125;, \"Labels\": &#123;&#125; &#125;]$ docker run -d -P --name tomcat-net-01 --net mynet tomcatf8acd6bd8a21c27ca293d4c2d150448299192bd1f58b41d273d61d24cfe7d9a8$ docker run -d -P --name tomcat-net-02 --net mynet tomcat84b8b3a4a45c579eb479dfa036bc6e88f2c4ea5a0e8edd0c8f225bddebb2747c$ docker network inspect mynet[ &#123; \"Name\": \"mynet\", \"Id\": \"87d0f163b3a0c857d281bf4e97675d03555486c530969d1cb04950f203133b55\", \"Created\": \"2020-07-08T01:56:39.0611734Z\", \"Scope\": \"local\", \"Driver\": \"bridge\", \"EnableIPv6\": false, \"IPAM\": &#123; \"Driver\": \"default\", \"Options\": &#123;&#125;, \"Config\": [ &#123; \"Subnet\": \"192.168.0.0/16\", \"Gateway\": \"192.168.0.1\" &#125; ] &#125;, \"Internal\": false, \"Attachable\": false, \"Ingress\": false, \"ConfigFrom\": &#123; \"Network\": \"\" &#125;, \"ConfigOnly\": false, \"Containers\": &#123; \"84b8b3a4a45c579eb479dfa036bc6e88f2c4ea5a0e8edd0c8f225bddebb2747c\": &#123; \"Name\": \"tomcat-net-02\", \"EndpointID\": \"889a15d10cf311193a18033af3a75eefa6a074291e84aab65e9d88f4b9889bf2\", \"MacAddress\": \"02:42:c0:a8:00:03\", \"IPv4Address\": \"192.168.0.3/16\", \"IPv6Address\": \"\" &#125;, \"f8acd6bd8a21c27ca293d4c2d150448299192bd1f58b41d273d61d24cfe7d9a8\": &#123; \"Name\": \"tomcat-net-01\", \"EndpointID\": \"810c98a4ee532167410f1bc28acbc1d3aac11390e7c5a0c0864c20832bf06fb6\", \"MacAddress\": \"02:42:c0:a8:00:02\", \"IPv4Address\": \"192.168.0.2/16\", \"IPv6Address\": \"\" &#125; &#125;, \"Options\": &#123;&#125;, \"Labels\": &#123;&#125; &#125;]# å†æ¬¡æµ‹è¯•pingè¿æ¥$ docker exec -it tomcat-net-01 ping 192.168.0.3PING 192.168.0.3 (192.168.0.3) 56(84) bytes of data.64 bytes from 192.168.0.3: icmp_seq=1 ttl=64 time=0.056 ms64 bytes from 192.168.0.3: icmp_seq=2 ttl=64 time=0.156 ms64 bytes from 192.168.0.3: icmp_seq=3 ttl=64 time=0.086 ms64 bytes from 192.168.0.3: icmp_seq=4 ttl=64 time=0.037 ms^C--- 192.168.0.3 ping statistics ---4 packets transmitted, 4 received, 0% packet loss, time 162msrtt min/avg/max/mdev = 0.037/0.083/0.156/0.046 ms# ç°åœ¨ä¸ä½¿ç”¨--linkä¹Ÿå¯ä»¥pingå®¹å™¨åå­—$ docker exec -it tomcat-net-02 ping 192.168.0.2PING 192.168.0.2 (192.168.0.2) 56(84) bytes of data.64 bytes from 192.168.0.2: icmp_seq=1 ttl=64 time=0.039 ms64 bytes from 192.168.0.2: icmp_seq=2 ttl=64 time=0.066 ms^C--- 192.168.0.2 ping statistics ---2 packets transmitted, 2 received, 0% packet loss, time 47msrtt min/avg/max/mdev = 0.039/0.052/0.066/0.015 ms è‡ªå®šä¹‰ç½‘ç»œ docker éƒ½å¸®æˆ‘ä»¬ç»´æŠ¤å¥½äº†å¯¹åº”å…³ç³»ï¼Œæ¨èå¹³æ—¶è¿™æ ·ä½¿ç”¨ç½‘ç»œï¼ å¥½å¤„: ä¸åŒçš„é›†ç¾¤ä½¿ç”¨ä¸åŒçš„é›†ç¾¤ï¼Œä¿è¯é›†ç¾¤ä¹‹é—´æ˜¯å®‰å…¨å’Œå¥åº·çš„ ç½‘ç»œè¿é€š #æµ‹è¯•æ‰“é€š tomcat01åˆ°tomcat-net-01$ docker network connect mynet tomcat01# è¿é€šä¹‹åå°±æ˜¯å°† tomcat01 æ”¾åˆ°äº†mynetç½‘ç»œä¸‹# ä¸€ä¸ªå®¹å™¨ä¸¤ä¸ªip é˜¿é‡Œäº‘: å…¬ç½‘ip ç§ç½‘ip # 01 è¿é€šok$ docker exec -it tomcat01 ping tomcat-net-01PING tomcat-net-01 (192.168.0.2) 56(84) bytes of data.64 bytes from tomcat-net-01.mynet (192.168.0.2): icmp_seq=1 ttl=64 time=0.087 ms64 bytes from tomcat-net-01.mynet (192.168.0.2): icmp_seq=2 ttl=64 time=0.065 ms^C--- tomcat-net-01 ping statistics ---2 packets transmitted, 2 received, 0% packet loss, time 71msrtt min/avg/max/mdev = 0.065/0.076/0.087/0.011 ms# 02 ä¾æ—§æ˜¯è¿ä¸é€šçš„$ docker exec -it tomcat02 ping tomcat-net-01ping: tomcat-net-01: Name or service not known ç»“è®ºï¼šè¦è·¨ç½‘ç»œæ“ä½œåˆ«äººï¼Œå°±éœ€è¦ä½¿ç”¨ docker network connect è¿é€š","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"Docker","slug":"docker","permalink":"https://kaviilee.github.io/blog/tags/docker/"}],"author":{"name":"Kaviilee","avatar":"https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/custom/papalymo.jpg"}},{"title":"jsè·å–è§†å£å’Œæ–‡æ¡£é«˜åº¦","slug":"jsè·å–è§†å£å’Œæ–‡æ¡£é«˜åº¦","date":"2019-09-07T17:25:18.000Z","updated":"2022-04-23T06:02:38.005Z","comments":true,"path":"2019/09/07/jsè·å–è§†å£å’Œæ–‡æ¡£é«˜åº¦/","link":"","permalink":"https://kaviilee.github.io/blog/2019/09/07/js%E8%8E%B7%E5%8F%96%E8%A7%86%E5%8F%A3%E5%92%8C%E6%96%87%E6%A1%A3%E9%AB%98%E5%BA%A6/","excerpt":"jsè·å–è§†å£å’Œæ–‡æ¡£é«˜åº¦","text":"jsè·å–è§†å£å’Œæ–‡æ¡£é«˜åº¦ é¡¹ç›® å†…å®¹ clientHeight content area + padding offsetHeight border + content area + padding scrollHeight æ²¡æœ‰æ»šåŠ¨æ¡ï¼ˆå†…å®¹å±•å¼€æ—¶ï¼‰çš„é«˜åº¦ body å’Œ html åˆ†åˆ«è¡¨ç¤º document.body å’Œ document.documentElement html.clientHeight è¿”å›è§†å£é«˜åº¦html.offsetHeight è¿”å› &lt;html&gt; å…ƒç´ çš„é«˜åº¦ï¼Œåœ¨æ²¡æœ‰ç»™ &lt;html&gt; å…ƒç´ è®¾ç½®heightæ—¶ï¼Œå¯ä»¥ç†è§£ä¸ºæ–‡æ¡£é«˜åº¦ã€‚ie6-8è¿”å›è§†å£é«˜åº¦html.scrollHeight æ€»æ˜¯è¿”å›æ–‡æ¡£é«˜åº¦ã€‚åœ¨ firefoxï¼Œoperaï¼Œie8 ä¸­ï¼Œè¿”å›æ–‡æ¡£é«˜åº¦å’Œè§†å£é«˜åº¦ä¸­è¾ƒå¤§çš„é‚£ä¸ªã€‚body.clientHeight å’Œ body.offsetHeight è¿”å› &lt;body&gt; å…ƒç´ çš„é«˜åº¦ï¼ˆè¿‘ä¼¼äºæ–‡æ¡£é«˜åº¦ï¼‰ï¼Œå¦‚æœ &lt;body&gt; è®¾ç½® heightï¼Œåˆ™è¿”å›è®¾å®šçš„å€¼ï¼ˆie6 ä»ç„¶è¿”å› &lt;body&gt; å†…å…ƒç´ çš„æ€»é«˜åº¦ï¼‰ã€‚body.scrollHeight æ€»æ˜¯è¿”å›æ–‡æ¡£é«˜åº¦ã€‚åœ¨ webkit ä¸­ï¼Œè¿”å›æ–‡æ¡£é«˜åº¦å’Œè§†å£é«˜åº¦ä¸­è¾ƒå¤§çš„é‚£ä¸ªã€‚ æ€»ä¹‹ï¼Œè·å–è§†å£é«˜åº¦ç”¨ html.clientHeight ,IE6-8 è¿˜å¯ä»¥ç”¨ html.offsetHeightã€‚è·å–æ–‡æ¡£é«˜åº¦å¯ä»¥ç”¨ html.scrollHeight æˆ– body.scrollHeightã€‚ å¦å¤–ï¼Œâ€‹â€‹ç°ä»£æµè§ˆå™¨ä¸­è¿˜æœ‰ä¸€ä¸ªå±æ€§ window.innerHeight å¯ä»¥ç”¨æ¥è·å–è§†å£é«˜åº¦ï¼ŒIE9+ æ‰å¼€å§‹æ”¯æŒã€‚å¾—åˆ°çš„é«˜åº¦æœ‰æ—¶å€™ä¼šå¤šåå‡ ä¸ªåƒç´ ï¼ŒinnerHeight æŠŠæ»šåŠ¨æ¡çš„é«˜åº¦ä¹Ÿè®¡ç®—åœ¨å†…ã€‚ // è·å–è§†å£é«˜åº¦const viewportH = window.innerHeight || document.documentElement.clientHeight;// è·å–æ–‡æ¡£é«˜åº¦const docH = document.body.scrollHeight;// æˆ–è€…const docH = document.documentElement.scrollHeight","categories":[{"name":"JavaScript","slug":"javascript","permalink":"https://kaviilee.github.io/blog/categories/javascript/"}],"tags":[],"author":{"name":"Kaviilee","avatar":"https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/custom/papalymo.jpg"}}],"categories":[{"name":"å‰ç«¯å·¥ç¨‹åŒ–","slug":"å‰ç«¯å·¥ç¨‹åŒ–","permalink":"https://kaviilee.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"},{"name":"JavaScript","slug":"javascript","permalink":"https://kaviilee.github.io/blog/categories/javascript/"},{"name":"CSS","slug":"css","permalink":"https://kaviilee.github.io/blog/categories/css/"},{"name":"æ¡†æ¶","slug":"æ¡†æ¶","permalink":"https://kaviilee.github.io/blog/categories/%E6%A1%86%E6%9E%B6/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://kaviilee.github.io/blog/tags/javascript/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://kaviilee.github.io/blog/tags/%E7%AE%97%E6%B3%95/"},{"name":"é¢ç»","slug":"é¢ç»","permalink":"https://kaviilee.github.io/blog/tags/%E9%9D%A2%E7%BB%8F/"},{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://kaviilee.github.io/blog/tags/%E5%85%B6%E4%BB%96/"},{"name":"webpack","slug":"webpack","permalink":"https://kaviilee.github.io/blog/tags/webpack/"},{"name":"TypeScript","slug":"typescript","permalink":"https://kaviilee.github.io/blog/tags/typescript/"},{"name":"Antd v4","slug":"antd-v4","permalink":"https://kaviilee.github.io/blog/tags/antd-v4/"},{"name":"CSS","slug":"css","permalink":"https://kaviilee.github.io/blog/tags/css/"},{"name":"react","slug":"react","permalink":"https://kaviilee.github.io/blog/tags/react/"},{"name":"è§„èŒƒ","slug":"è§„èŒƒ","permalink":"https://kaviilee.github.io/blog/tags/%E8%A7%84%E8%8C%83/"},{"name":"git","slug":"git","permalink":"https://kaviilee.github.io/blog/tags/git/"},{"name":"Docker","slug":"docker","permalink":"https://kaviilee.github.io/blog/tags/docker/"}]}