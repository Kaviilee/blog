<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Kaviilee&#39;s blog</title>
  
  
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="https://kaviilee.github.io/blog/"/>
  <updated>2022-04-23T06:32:29.148Z</updated>
  <id>https://kaviilee.github.io/blog/</id>
  
  <author>
    <name>kaviilee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä¸€äº›jså°æŠ€å·§</title>
    <link href="https://kaviilee.github.io/blog/2022/04/23/%E4%B8%80%E4%BA%9Bjs%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    <id>https://kaviilee.github.io/blog/2022/04/23/%E4%B8%80%E4%BA%9Bjs%E5%B0%8F%E6%8A%80%E5%B7%A7/</id>
    <published>2022-04-23T11:42:07.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€äº›jsçš„å°æŠ€å·§ã€‚</p><a id="more"></a><h2 id="ä¸€äº›jså°æŠ€å·§"><a href="#ä¸€äº›jså°æŠ€å·§" class="headerlink" title="ä¸€äº›jså°æŠ€å·§"></a>ä¸€äº›jså°æŠ€å·§</h2><h3 id="æ“ä½œURLæŸ¥è¯¢å‚æ•°"><a href="#æ“ä½œURLæŸ¥è¯¢å‚æ•°" class="headerlink" title="æ“ä½œURLæŸ¥è¯¢å‚æ•°"></a>æ“ä½œURLæŸ¥è¯¢å‚æ•°</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> params = <span class="keyword">new</span> URLSearchParams(location.search); <span class="comment">// location.search = '?key=dd&amp;value=kk'</span></span><br><span class="line">params.has(<span class="string">'key'</span>); <span class="comment">// true</span></span><br><span class="line">params.get(<span class="string">'value'</span>); <span class="comment">// kk</span></span><br></pre></td></tr></table></figure><h3 id="å–æ•´"><a href="#å–æ•´" class="headerlink" title="å–æ•´"></a>å–æ•´</h3><blockquote><p>ä»£æ›¿æ­£æ•°çš„ Math.floor()ï¼Œä»£æ›¿è´Ÿæ•°çš„ Math.ceil()</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> num1 = ~~<span class="number">2.3</span>;</span><br><span class="line"><span class="keyword">const</span> num2 = <span class="number">2.3</span> | <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> num3 = <span class="number">2.3</span> &gt;&gt; <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h3 id="çŸ­è·¯è¿ç®—"><a href="#çŸ­è·¯è¿ç®—" class="headerlink" title="çŸ­è·¯è¿ç®—"></a>çŸ­è·¯è¿ç®—</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = d &amp;&amp; <span class="number">1</span>; <span class="comment">// æ»¡è¶³æ¡ä»¶èµ‹å€¼ï¼šå–å‡è¿ç®—ï¼Œä»å·¦åˆ°å³ä¾æ¬¡åˆ¤æ–­ï¼Œé‡åˆ°å‡å€¼è¿”å›å‡å€¼ï¼Œåé¢ä¸å†æ‰§è¡Œï¼Œå¦åˆ™è¿”å›æœ€åä¸€ä¸ªçœŸå€¼</span></span><br><span class="line"><span class="keyword">const</span> b = d || <span class="number">1</span>; <span class="comment">// é»˜è®¤èµ‹å€¼ï¼šå–çœŸè¿ç®—ï¼Œä»å·¦åˆ°å³ä¾æ¬¡åˆ¤æ–­ï¼Œé‡åˆ°çœŸå€¼è¿”å›çœŸå€¼ï¼Œåé¢ä¸å†æ‰§è¡Œï¼Œå¦åˆ™è¿”å›æœ€åä¸€ä¸ªå‡å€¼</span></span><br><span class="line"><span class="keyword">const</span> c = !d; <span class="comment">// å–å‡èµ‹å€¼ï¼šå•ä¸ªè¡¨è¾¾å¼è½¬æ¢ä¸ºtrueåˆ™è¿”å›falseï¼Œå¦åˆ™è¿”å›true</span></span><br></pre></td></tr></table></figure><h3 id="åˆ¤æ–­ç©ºå¯¹è±¡"><a href="#åˆ¤æ–­ç©ºå¯¹è±¡" class="headerlink" title="åˆ¤æ–­ç©ºå¯¹è±¡"></a>åˆ¤æ–­ç©ºå¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> flag = !<span class="built_in">Object</span>.keys(obj).length; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="æ»¡è¶³æ¡ä»¶æ—¶æ‰§è¡Œ"><a href="#æ»¡è¶³æ¡ä»¶æ—¶æ‰§è¡Œ" class="headerlink" title="æ»¡è¶³æ¡ä»¶æ—¶æ‰§è¡Œ"></a>æ»¡è¶³æ¡ä»¶æ—¶æ‰§è¡Œ</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> flagA = <span class="literal">true</span>; <span class="comment">// æ¡ä»¶A</span></span><br><span class="line"><span class="keyword">const</span> flagB = <span class="literal">false</span>; <span class="comment">// æ¡ä»¶B</span></span><br><span class="line">(flagA || flagB) &amp;&amp; Func(); <span class="comment">// æ»¡è¶³Aæˆ–Bæ—¶æ‰§è¡Œ</span></span><br><span class="line">(flagA || !flagB) &amp;&amp; Func(); <span class="comment">// æ»¡è¶³Aæˆ–ä¸æ»¡è¶³Bæ—¶æ‰§è¡Œ</span></span><br><span class="line">flagA &amp;&amp; flagB &amp;&amp; Func(); <span class="comment">// åŒæ—¶æ»¡è¶³Aå’ŒBæ—¶æ‰§è¡Œ</span></span><br><span class="line">flagA &amp;&amp; !flagB &amp;&amp; Func(); <span class="comment">// æ»¡è¶³Aä¸”ä¸æ»¡è¶³Bæ—¶æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure><h3 id="å…‹éš†æ•°ç»„"><a href="#å…‹éš†æ•°ç»„" class="headerlink" title="å…‹éš†æ•°ç»„"></a>å…‹éš†æ•°ç»„</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> _arr = [...arr]; <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure><h3 id="åˆå¹¶æ•°ç»„"><a href="#åˆå¹¶æ•°ç»„" class="headerlink" title="åˆå¹¶æ•°ç»„"></a>åˆå¹¶æ•°ç»„</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">const</span> arr = [...arr1, ...arr2]; <span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [...new <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="literal">null</span>, <span class="literal">null</span>])]; <span class="comment">// [1, 2 ,4, 6, null]</span></span><br></pre></td></tr></table></figure><h3 id="è¿‡æ»¤ç©ºå€¼"><a href="#è¿‡æ»¤ç©ºå€¼" class="headerlink" title="è¿‡æ»¤ç©ºå€¼"></a>è¿‡æ»¤ç©ºå€¼</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="literal">undefined</span>, <span class="literal">null</span>, <span class="string">""</span>, <span class="number">0</span>, <span class="literal">false</span>, <span class="literal">NaN</span>, <span class="number">1</span>, <span class="number">2</span>].filter(<span class="built_in">Boolean</span>); <span class="comment">// [1, 2]</span></span><br></pre></td></tr></table></figure><h3 id="ç»Ÿè®¡æˆå‘˜ä¸ªæ•°"><a href="#ç»Ÿè®¡æˆå‘˜ä¸ªæ•°" class="headerlink" title="ç»Ÿè®¡æˆå‘˜ä¸ªæ•°"></a>ç»Ÿè®¡æˆå‘˜ä¸ªæ•°</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">const</span> count = arr.reduce(<span class="function">(<span class="params">t, v</span>) =&gt;</span> &#123;</span><br><span class="line">    t[v] = t[v] ? ++t[v] : <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line"><span class="comment">// count =&gt; &#123; 0: 1, 1: 2, 2: 3 &#125;</span></span><br></pre></td></tr></table></figure><h3 id="æŒ‰å±æ€§å¯¹Objectåˆ†ç±»"><a href="#æŒ‰å±æ€§å¯¹Objectåˆ†ç±»" class="headerlink" title="æŒ‰å±æ€§å¯¹Objectåˆ†ç±»"></a>æŒ‰å±æ€§å¯¹Objectåˆ†ç±»</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> people = [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Alice'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Max'</span>, <span class="attr">age</span>: <span class="number">21</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Tom'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> groupBy = <span class="function">(<span class="params">objectArr, property</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> objectArr.reduce(<span class="function">(<span class="params">acc, obj</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> key = obj[property];</span><br><span class="line">        <span class="keyword">if</span> (!acc[key]) &#123;</span><br><span class="line">            acc[key] = []</span><br><span class="line">        &#125;</span><br><span class="line">        acc[key].push(obj);</span><br><span class="line">        <span class="keyword">return</span> acc;</span><br><span class="line">    &#125;, &#123;&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> groupedPeople = groupBy(people, <span class="string">'age'</span>);</span><br><span class="line"><span class="comment">/* &#123;</span></span><br><span class="line"><span class="comment">    20: [</span></span><br><span class="line"><span class="comment">        &#123; name: 'Max', age: 20 &#125;,</span></span><br><span class="line"><span class="comment">        &#123; name: 'Jane', age: 20 &#125;</span></span><br><span class="line"><span class="comment">    ],</span></span><br><span class="line"><span class="comment">    21: [&#123; name: 'Alice', age: 21 &#125;]</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤å¯¹è±¡æ— ç”¨å±æ€§"><a href="#åˆ é™¤å¯¹è±¡æ— ç”¨å±æ€§" class="headerlink" title="åˆ é™¤å¯¹è±¡æ— ç”¨å±æ€§"></a>åˆ é™¤å¯¹è±¡æ— ç”¨å±æ€§</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">0</span>, <span class="attr">b</span>: <span class="number">1</span>, <span class="attr">c</span>: <span class="number">2</span> &#125;; <span class="comment">// åªæƒ³æ‹¿bå’Œc</span></span><br><span class="line"><span class="keyword">const</span> &#123; a, ...rest &#125; = obj; <span class="comment">// &#123; b: 1, c: 2 &#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®°å½•ä¸€äº›jsçš„å°æŠ€å·§ã€‚&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="javascript" scheme="https://kaviilee.github.io/blog/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>åˆ·åˆ·ç®—æ³•</title>
    <link href="https://kaviilee.github.io/blog/2021/03/30/%E5%88%B7%E5%88%B7%E7%AE%97%E6%B3%95/"/>
    <id>https://kaviilee.github.io/blog/2021/03/30/%E5%88%B7%E5%88%B7%E7%AE%97%E6%B3%95/</id>
    <published>2021-03-30T01:52:01.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜¯ç®—æ³•è€¶ï¼</p><a id="more"></a><ol><li>å®ç° Trie ï¼ˆå‰ç¼€æ ‘ï¼‰<br>Trieï¼ˆå‘éŸ³ç±»ä¼¼ â€œtryâ€ï¼‰æˆ–è€…è¯´ å‰ç¼€æ ‘ æ˜¯ä¸€ç§æ ‘å½¢æ•°æ®ç»“æ„ï¼Œç”¨äºé«˜æ•ˆåœ°å­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²æ•°æ®é›†ä¸­çš„é”®ã€‚è¿™ä¸€æ•°æ®ç»“æ„æœ‰ç›¸å½“å¤šçš„åº”ç”¨æƒ…æ™¯ï¼Œä¾‹å¦‚è‡ªåŠ¨è¡¥å®Œå’Œæ‹¼å†™æ£€æŸ¥ã€‚</li></ol><p>è¯·ä½ å®ç° Trie ç±»ï¼š</p><ul><li>Trie() åˆå§‹åŒ–å‰ç¼€æ ‘å¯¹è±¡ã€‚</li><li>void insert(String word) å‘å‰ç¼€æ ‘ä¸­æ’å…¥å­—ç¬¦ä¸² word ã€‚</li><li>boolean search(String word) å¦‚æœå­—ç¬¦ä¸² word åœ¨å‰ç¼€æ ‘ä¸­ï¼Œè¿”å› trueï¼ˆå³ï¼Œåœ¨æ£€ç´¢ä¹‹å‰å·²ç»æ’å…¥ï¼‰ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</li><li>boolean startsWith(String prefix) å¦‚æœä¹‹å‰å·²ç»æ’å…¥çš„å­—ç¬¦ä¸² word çš„å‰ç¼€ä¹‹ä¸€ä¸º prefix ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</li></ul><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> Trie &#123;</span><br><span class="line">  root: &#123; [key: <span class="built_in">string</span>]: <span class="built_in">any</span> &#125;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.root = <span class="built_in">Object</span>.create(<span class="literal">null</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  insert(word: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="keyword">this</span>.root;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> w of word) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!node[w]) &#123;</span><br><span class="line">        node[w] = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      node = node[w]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    node.isEnd = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  searchPrefix(word: <span class="built_in">string</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="keyword">this</span>.root;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> w of word) &#123;</span><br><span class="line">      node = node[w];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!node) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  search(word: <span class="built_in">string</span>): <span class="built_in">boolean</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="keyword">this</span>.searchPrefix(word)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> !!node &amp;&amp; !!node.isEnd;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  startWith(prefix: <span class="built_in">string</span>): <span class="built_in">boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> !!<span class="keyword">this</span>.searchPrefix(prefix)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>å®ç° LRU ç®—æ³•</li></ol><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> LRUCache &#123;</span><br><span class="line">  cache: Map&lt;<span class="built_in">number</span>, <span class="built_in">number</span>&gt;;</span><br><span class="line">  capacity: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">capacity: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.cache = <span class="keyword">new</span> Map&lt;<span class="built_in">number</span>, <span class="built_in">number</span>&gt;()</span><br><span class="line">    <span class="keyword">this</span>.capacity = capcity;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  put(key: <span class="built_in">number</span>, value: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.cache.has(key)) &#123;</span><br><span class="line">      <span class="keyword">this</span>.cache.delete(key);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.cache.size &gt;= <span class="keyword">this</span>.capacity) &#123;</span><br><span class="line">      <span class="keyword">this</span>.cache.delete(<span class="keyword">this</span>.cache.keys().next().value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.cache.set(key, value)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span>(key: <span class="built_in">number</span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.cache.has(key)) &#123;</span><br><span class="line">      <span class="keyword">const</span> val = <span class="keyword">this</span>.cache.get(key);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">this</span>.cache.delete(key);</span><br><span class="line">      <span class="keyword">this</span>.cache.set(key, val);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> val</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ˜¯ç®—æ³•è€¶ï¼&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="https://kaviilee.github.io/blog/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>å‡‰ç»</title>
    <link href="https://kaviilee.github.io/blog/2021/03/24/%E5%87%89%E7%BB%8F/"/>
    <id>https://kaviilee.github.io/blog/2021/03/24/%E5%87%89%E7%BB%8F/</id>
    <published>2021-03-24T15:31:09.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹è‡ªå·± â€œè¢«æ‰“â€ çš„è¿‡ç¨‹ğŸ˜‚</p><a id="more"></a><h2 id="é¢è¯•è®°å½•"><a href="#é¢è¯•è®°å½•" class="headerlink" title="é¢è¯•è®°å½•"></a>é¢è¯•è®°å½•</h2><p>2021.2.28 ä»å‰å…¬å¸ç¦»èŒï¼Œå¼€å§‹äº†å¤ä¹ çŸ¥è¯†å’Œé¢è¯•çš„æ—¥å­ã€‚è®°å½•ä¸€ä¸‹è‡ªå·±é¢è¯•çš„ç»å†ä»¥åŠé¢˜ç›®ï¼Œå¸¸çœ‹å¸¸æ–°ï¼Œè¡¥å…¨çŸ¥è¯†ã€‚</p><h2 id="å¯Œé€”ä¸€é¢"><a href="#å¯Œé€”ä¸€é¢" class="headerlink" title="å¯Œé€”ä¸€é¢"></a>å¯Œé€”ä¸€é¢</h2><ol><li><p>Vue ç»„ä»¶é—´é€šä¿¡</p><ul><li><p>å¦‚æœæ˜¯çˆ¶å­ç»„ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥é€šè¿‡ <code>props</code> è¿›è¡Œé€šä¿¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>provide/inject</code></p></li><li><p>Event Bus é€šè¿‡æ–°å»ºä¸€ä¸ª <code>Vue</code> å®ä¾‹ä½¿ä¸¤ä¸ªç»„ä»¶èƒ½å¤Ÿè¿›è¡Œé€šä¿¡</p></li><li><p>Vuex</p><blockquote><p>æ‹“å±•ï¼šVuex å’Œ Vue Router åœ¨ install çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ(å…¶å®æ˜¯ Vue æ’ä»¶æœºåˆ¶)<br>å…¶å® Vue é€šè¿‡ use() å®‰è£…æ’ä»¶ï¼Œå°±æ˜¯é€šè¿‡ mixin æ··å…¥äº†æ–¹æ³•ã€‚Vuex å’Œ Router éƒ½æ˜¯é€šè¿‡åœ¨ beforeCreate è¿™ä¸ªç”Ÿå‘½å‘¨æœŸé‡ŒæŠŠ <code>$router</code> å’Œ <code>store</code> æŒ‚è½½åˆ°äº† Vue çš„å®ä¾‹ä¸Šã€‚</p></blockquote></li></ul></li><li><p>Vue2 å’Œ Vue3 çš„ç”Ÿå‘½å‘¨æœŸå’ŒåŒºåˆ«</p><table><thead><tr><th align="center">Vue 2.x</th><th align="center">Vue 3.x</th><th align="left">Details</th></tr></thead><tbody><tr><td align="center">beforeCreate</td><td align="center">beforeCreate</td><td align="left">åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹å’Œ event/watcher äº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨</td></tr><tr><td align="center">created</td><td align="center">created</td><td align="left">åœ¨å®ä¾‹åˆ›å»ºå®Œæˆä¹‹åç«‹å³è¢«è°ƒç”¨ã€‚<code>$el</code> property ä¸å¯ç”¨</td></tr><tr><td align="center">beforeMount</td><td align="center">beforeMount</td><td align="left">åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ <code>render</code> å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨</td></tr><tr><td align="center">mounted</td><td align="center">mounted</td><td align="left">å®ä¾‹è¢«æŒ‚è½½åè°ƒç”¨ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ <code>nextTick</code> å’Œè¿›è¡Œ DOM æ“ä½œ</td></tr><tr><td align="center">beforeUpdate</td><td align="center">beforeUpdate</td><td align="left">æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰ã€‚è¿™é‡Œé€‚åˆåœ¨æ›´æ–°å‰è®¿é—®ç°æœ‰ DOMï¼Œæ‰‹åŠ¨ç§»é™¤äº‹ä»¶ç›‘å¬å™¨</td></tr><tr><td align="center">updated</td><td align="center">updated</td><td align="left">ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚</td></tr><tr><td align="center">activated</td><td align="center">activated</td><td align="left">è¢« <code>keep-alive</code> ç¼“å­˜çš„ç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨</td></tr><tr><td align="center">deactivated</td><td align="center">deactivated</td><td align="left">è¢« <code>keep-alive</code> ç¼“å­˜çš„ç»„ä»¶åœç”¨æ—¶åœç”¨</td></tr><tr><td align="center">beforeDestroy</td><td align="center"><strong>beforeUmount</strong></td><td align="left">åœ¨é”€æ¯ï¼ˆå¸è½½ï¼‰ç»„ä»¶å®ä¾‹ä¹‹å‰è°ƒç”¨ã€‚æ­¤æ—¶å®ä¾‹è¿˜æ˜¯å®Œå…¨æ­£å¸¸çš„</td></tr><tr><td align="center">destroyed</td><td align="center"><strong>unmounted</strong></td><td align="left">å®ä¾‹é”€æ¯ï¼ˆå¸è½½ï¼‰åè°ƒç”¨ã€‚è¯¥é’©å­è¢«è°ƒç”¨åï¼Œå¯¹åº” Vue å®ä¾‹çš„æ‰€æœ‰æŒ‡ä»¤éƒ½è¢«è§£ç»‘ï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨è¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿéƒ½è¢«é”€æ¯ã€‚</td></tr><tr><td align="center">errorCaptured</td><td align="center">errorCaptured</td><td align="left">å½“æ•è·ä¸€ä¸ªæ¥è‡ªå­å­™ç»„ä»¶çš„é”™è¯¯æ—¶è¢«è°ƒç”¨ã€‚</td></tr><tr><td align="center">-</td><td align="center">renderTracked</td><td align="left">è·Ÿè¸ªè™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“æ—¶è°ƒç”¨ã€‚é’©å­æ¥æ”¶ <code>debugger event</code> ä½œä¸ºå‚æ•°ã€‚æ­¤äº‹ä»¶å‘Šè¯‰ä½ å“ªä¸ªæ“ä½œè·Ÿè¸ªäº†ç»„ä»¶ä»¥åŠè¯¥æ“ä½œçš„ç›®æ ‡å¯¹è±¡å’Œé”®ã€‚</td></tr><tr><td align="center">-</td><td align="center">renderTriggered</td><td align="left">å½“è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“ä¸º triggered.Similarly ä¸º <code>renderTracked</code>ï¼Œæ¥æ”¶ <code>debugger event</code> ä½œä¸ºå‚æ•°ã€‚æ­¤äº‹ä»¶å‘Šè¯‰ä½ æ˜¯ä»€ä¹ˆæ“ä½œè§¦å‘äº†é‡æ–°æ¸²æŸ“ï¼Œä»¥åŠè¯¥æ“ä½œçš„ç›®æ ‡å¯¹è±¡å’Œé”®ã€‚</td></tr></tbody></table><blockquote><p>æ‹“å±•1: Vue çˆ¶å­ç»„ä»¶çš„æ¸²æŸ“é¡ºåº</p><p>çˆ¶beforeCreate =&gt; çˆ¶created =&gt; çˆ¶beforeMount =&gt; å­beforeCreate =&gt; å­created =&gt; å­beforeMount =&gt; å­mounted =&gt; çˆ¶mounted</p><p>æ‹“å±•2: å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹</p><p>çˆ¶beforeUpdate =&gt; å­beforeUpdate =&gt; å­updated =&gt; çˆ¶updated</p><p>æ‹“å±•3: é”€æ¯è¿‡ç¨‹</p><p>çˆ¶beforeDestroy =&gt; å­beforeDestroy =&gt; å­destroyed =&gt; çˆ¶destroyed</p></blockquote></li><li><p>æµè§ˆå™¨æ¸²æŸ“</p><p>  æµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹ä¸»è¦æœ‰ GUI æ¸²æŸ“çº¿ç¨‹ï¼ŒJS å¼•æ“çº¿ç¨‹ï¼Œäº‹ä»¶è§¦å‘çº¿ç¨‹ï¼Œå®šæ—¶è§¦å‘å™¨çº¿ç¨‹ï¼Œå¼‚æ­¥ HTTP è¯·æ±‚çº¿ç¨‹ã€‚</p><p>  å…¶ä¸­ GUI æ¸²æŸ“çº¿ç¨‹å’Œ JS å¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„ã€‚GUI æ¸²æŸ“çº¿ç¨‹è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨ç•Œé¢ï¼Œè§£æ HTML å’Œ CSSï¼Œåœ¨è´Ÿè´£å¤„ç† JavaScript è„šæœ¬ç¨‹åºçš„ JS å¼•æ“çº¿ç¨‹æ‰§è¡Œæ—¶ï¼ŒGUI æ¸²æŸ“çº¿ç¨‹ä¼šæš‚æ—¶æŒ‚èµ·ï¼Œç›´åˆ° JS å¼•æ“ç©ºé—²ã€‚</p><blockquote><p>å»¶ä¼¸1ï¼š</p><ul><li>æµè§ˆå™¨å·¥ä½œæµç¨‹: æ„å»º DOM =&gt; æ„å»º CSSOM =&gt; æ„å»ºæ¸²æŸ“æ ‘ =&gt; å¸ƒå±€ =&gt; ç»˜åˆ¶ã€‚</li><li>CSSOM ä¼šé˜»å¡æ¸²æŸ“ï¼Œåªæœ‰å½“ CSSOM æ„å»ºå®Œæ¯•ä¹‹åæ‰ä¼šè¿›å…¥ä¸‹ä¸€é˜¶æ®µçš„æ„å»ºæ ‘ã€‚</li><li>é€šå¸¸æƒ…å†µä¸‹ DOM å’Œ CSSOM æ˜¯å¹¶è¡Œæ„å»ºçš„ï¼Œä½†æ˜¯å½“æµè§ˆå™¨é‡åˆ° script æ ‡ç­¾æ—¶ï¼ŒDOM æ„å»ºå°†æš‚åœï¼Œç›´åˆ°è„šæœ¬æ‰§è¡Œå®Œæˆã€‚ä½†ç”±äº JavaScript å¯ä»¥ä¿®æ”¹ CSSOMï¼Œæ‰€ä»¥éœ€è¦ç­‰ CSSOM æ„å»ºå®Œæ¯•åå†æ‰§è¡Œ JSã€‚</li><li>æ‰€ä»¥å¦‚æœæƒ³è¦é¦–å±æ¸²æŸ“æ—¶é—´ç¼©çŸ­ï¼Œå°±éœ€è¦æŠŠ script æ ‡ç­¾æ”¾åœ¨ body æ ‡ç­¾åº•éƒ¨ï¼Œæˆ–è€…ç›´æ¥ä¸è¦åœ¨é¦–å±åŠ è½½ JS æ–‡ä»¶ã€‚</li></ul></blockquote></li><li><p>æµè§ˆå™¨ç¼“å­˜</p><p>  åŸºæœ¬çš„ç½‘ç»œè¯·æ±‚å°±æ˜¯ä¸‰ä¸ªæ­¥éª¤ï¼šè¯·æ±‚ï¼Œå¤„ç†ï¼Œå“åº”ã€‚åç«¯ä¸»è¦å°±æ˜¯â€å¤„ç†â€è¿™ä¸ªæ­¥éª¤ï¼Œæ‰€ä»¥å…¶å®å‰ç«¯ç¼“å­˜å°±åœ¨â€œè¯·æ±‚â€å’Œâ€œå“åº”â€ä¸­è¿›è¡Œã€‚</p><p>  å½“æµè§ˆå™¨è¦è¯·æ±‚èµ„æºæ—¶ï¼š</p><ol><li>è°ƒç”¨ Service Worker çš„ fetch äº‹ä»¶</li><li>æŸ¥çœ‹ memory cache</li><li>æŸ¥çœ‹ disk cacheï¼š<ul><li>å¦‚æœæœ‰å¼ºåˆ¶ç¼“å­˜ä¸”æœªå¤±æ•ˆï¼Œåˆ™ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜ï¼Œä¸è¯·æ±‚æœåŠ¡å™¨ã€‚çŠ¶æ€ç å…¨éƒ¨æ˜¯200</li><li>å¦‚æœæœ‰å¼ºåˆ¶ç¼“å­˜ä½†å·²å¤±æ•ˆï¼Œä½¿ç”¨å¯¹æ¯”ç¼“å­˜ï¼Œæ¯”è¾ƒåç¡®å®šæ˜¯304è¿˜æ˜¯200</li></ul></li><li>å‘é€ç½‘ç»œè¯·æ±‚ï¼Œç­‰å¾…å“åº”</li><li>æŠŠå“åº”å†…å®¹å­˜å…¥ disk cacheï¼ˆå¦‚æœ HTTP å¤´ä¿¡æ¯é…ç½®å¯ä»¥ç¼“å­˜ï¼‰</li><li>æŠŠå“åº”å†…å®¹çš„<code>å¼•ç”¨</code>å­˜å…¥ memory cacheï¼ˆæ— è§† HTTP å¤´ä¿¡æ¯çš„é…ç½®ï¼‰</li><li>æŠŠå“åº”å†…å®¹å­˜å…¥ Service Worker çš„ Cache Storage</li></ol></li></ol><ol start="5"><li><p>this æŒ‡å‘é—®é¢˜</p><p> å¯ä»¥ä» Reference ç±»å‹æ¥åˆ¤æ–­ this çš„æŒ‡å‘ã€‚</p><p> é¦–å…ˆåˆ¤æ–­å‡º MemberExpression èµ‹å€¼ç»™ refï¼Œç„¶ååˆ¤æ–­ ref æ˜¯ä¸æ˜¯ä¸€ä¸ª Reference ç±»å‹ã€‚</p> <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Reference &#x3D; &#123;</span><br><span class="line">&#x2F;&#x2F; å±æ€§æ‰€åœ¨çš„å¯¹è±¡æˆ– EnvironmentRecordï¼Œå®ƒçš„å€¼åªå¯èƒ½æ˜¯ undefined, Object, Boolean, String, Number, environment record</span><br><span class="line">base,</span><br><span class="line">&#x2F;&#x2F; å±æ€§å</span><br><span class="line">name,</span><br><span class="line">&#x2F;&#x2F; æ˜¯å¦ä¸º strict æ¨¡å¼</span><br><span class="line">strict</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä¸¾ä¸ªæ —å­</span><br><span class="line">var value &#x3D; 1;</span><br><span class="line">var foo &#x3D; &#123;</span><br><span class="line">  value: 2,</span><br><span class="line">  bar: function () &#123;</span><br><span class="line">    return this.value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(foo.bar()); &#x2F;&#x2F; 2</span><br><span class="line">&#x2F;*</span><br><span class="line">  MemberExpression ä¸º foo.bar</span><br><span class="line"></span><br><span class="line">  Renference &#x3D; &#123;</span><br><span class="line">    base: foo,</span><br><span class="line">    name: &#39;bar&#39;,</span><br><span class="line">    strict: false</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  æ‰€ä»¥ this &#x3D; fooï¼Œè¯¥è¡¨è¾¾å¼è¾“å‡º 2.</span><br><span class="line">*&#x2F;</span><br><span class="line">&#x2F;&#x2F; æœ‰æ“ä½œç¬¦ï¼Œé€»è¾‘è¿ç®—ç¬¦æˆ–é€—å·è¿ç®—ç¬¦ï¼Œref çš„å°±ä¸æ˜¯ Referenceç±»å‹ï¼Œthis å°±æ˜¯ undefinedï¼Œæœ€ç»ˆçš„ this ä¼šéšå¼è½¬æ¢ä¸ºå…¨å±€å¯¹è±¡ï¼Œæ‰€ä»¥è¯¥è¡¨è¾¾å¼è¾“å‡º 1.</span><br><span class="line">console.log((foo.bar &#x3D; foo.bar)()); &#x2F;&#x2F; 1</span><br><span class="line">console.log((foo.bar || foo.bar)()); &#x2F;&#x2F; 1</span><br><span class="line">console.log((foo.bar, foo.bar)()); &#x2F;&#x2F; 1</span><br></pre></td></tr></table></figure><blockquote><p>æ‹“å±•1: å°† foo.bar æ”¹æˆ ç®­å¤´å‡½æ•°ä¼šæ€æ ·?</p><p>æ‹“å±•2: å°† var æ¢æˆ let æˆ– const åˆä¼šæ€æ ·?</p></blockquote></li><li><p>ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«</p></li></ol><blockquote><p>ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„ thisï¼Œå®ƒåªä¼šä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿ thisã€‚</p></blockquote><ul><li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ thisï¼Œå®ƒä¼šæ•è·å®šä¹‰æ—¶è‡ªå·±æ‰€å¤„çš„å¤–å±‚æ‰§è¡Œç¯å¢ƒçš„ thisï¼Œå¹¶ç»§æ‰¿è¿™ä¸ª thisã€‚</li><li>ç®­å¤´å‡½æ•°ç»§æ‰¿æ¥çš„ this æŒ‡å‘æ°¸è¿œä¸å˜</li><li>callï¼Œapplyï¼Œbind æ— æ³•æ”¹å˜ç®­å¤´å‡½æ•°ä¸­ this çš„æŒ‡å‘</li><li>ç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨</li><li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ arguments å¯¹è±¡</li><li>ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹ prototype</li><li>ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨ yeild å…³é”®å­—</li></ul><ol start="7"><li>æ–æ³¢é‚£å¥‘å‡½æ•°ï¼Œä»¥åŠç¼“å­˜ä¼˜åŒ–</li></ol><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åŠ¨æ€è§„åˆ’</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fib1</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">0</span>, b = <span class="number">1</span>, sum;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    sum = (a + b) % <span class="number">1000000007</span>;</span><br><span class="line">    a = b;</span><br><span class="line">    b = sum;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// èŠ±é‡Œèƒ¡å“¨</span></span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">0</span>, b= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(n--) &#123;</span><br><span class="line">    [a, b] = [b, (a + b) % <span class="number">1000000007</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¼“å­˜ é—­åŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fib2</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> map = <span class="keyword">new</span> Map&lt;<span class="built_in">number</span>, <span class="built_in">number</span>&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sub</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> n</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (map.get(n)) &#123;</span><br><span class="line">      <span class="keyword">return</span> map.get(n)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> sum = sub(n - <span class="number">1</span>) + sub(n - <span class="number">2</span>);</span><br><span class="line">    map.set(n, sum);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sum % <span class="number">1000000007</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sub(n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="8"><li><p>Vue æ•°æ®é‡å¤§çš„æ—¶å€™ï¼Œå¦‚ä½•ä¼˜åŒ–</p><ul><li>æŒ‰éœ€åŠ è½½å±€éƒ¨æ•°æ®ï¼Œè™šæ‹Ÿåˆ—è¡¨ï¼Œæ— é™ä¸‹æ‹‰åˆ·æ–°ï¼ˆå¯è§†åŒºåŸŸï¼‰</li><li>å¤§é‡çº¯å±•ç¤ºçš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ <code>Object.freeze</code> å†»ç»“</li><li>è¿˜å¯ä»¥è¿›è¡Œåˆ†é¡µ</li></ul></li><li><p>å›¾ç‰‡ç½‘ç«™ ä¼˜åŒ–</p><p>é¦–å…ˆæˆ‘ä»¬åˆ†æä¸€ä¸‹å›¾ç‰‡åŠ è½½å­˜åœ¨çš„é—®é¢˜å’ŒåŸå› ï¼š</p><ol><li><p>å¯åŠ¨é¡µé¢æ—¶åŠ è½½è¿‡å¤šå›¾ç‰‡</p><p>é¦–å±å›¾ç‰‡ä¼˜å…ˆåŠ è½½ï¼Œç­‰é¦–å±å›¾ç‰‡åŠ è½½å®Œæˆå†å»åŠ è½½éé¦–å±å›¾ç‰‡</p><p>å¯ä»¥è¿›è¡ŒåŸŸååˆ‡åˆ†ï¼Œæ¥æå‡å¹¶å‘çš„è¯·æ±‚æ•°é‡ï¼Œæˆ–è€…ä½¿ç”¨ HTTP/2 åè®®</p></li><li><p>éƒ¨åˆ†å›¾ç‰‡ä½“ç§¯è¿‡å¤§</p><p>å•ä½åƒç´ ä¼˜åŒ– - æ”¹å˜å›¾ç‰‡æ ¼å¼ï¼Œä½¿ç”¨ <code>webp</code> æ ¼å¼</p><p>å›¾ç‰‡åƒç´ æ€»æ•°ä¼˜åŒ– - è£å‰ªå¤§å›¾ç‰‡ï¼Œå‡å°‘å›¾ç‰‡ä½“ç§¯ï¼Œå‡å°‘ç½‘ç»œå¼€é”€ï¼ŒåŠ å¿«ä¸‹è½½é€Ÿç‡</p></li></ol></li><li><p>é˜²æŠ–èŠ‚æµ</p></li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é˜²æŠ– è§¦å‘é«˜é¢‘äº‹ä»¶ n ç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡å‡½æ•°ï¼Œn ç§’å†…äº‹ä»¶å†æ¬¡è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´ å¦‚æœä½ åœ¨æœŸé—´ä¸€ç›´è§¦å‘ï¼Œåˆ™ä¸ä¼šè§¦å‘</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, ms</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timeout = <span class="literal">null</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        clearTimeout(timeout);</span><br><span class="line">        timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">        &#125;, ms)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// èŠ‚æµ è§¦å‘é«˜é¢‘äº‹ä»¶ï¼Œä½†åœ¨ n ç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œæ•ˆç‡ ä¸€å®šä¼šè§¦å‘</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, ms</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timeout;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (!timeout) &#123;</span><br><span class="line">        timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          timeout = <span class="literal">null</span></span><br><span class="line">          fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">        &#125;, ms)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="11"><li><p>[äº‹ä»¶å¾ªç¯æœºåˆ¶](<a href="https://zhuanlan.zhihu.com/p/33058983" target="_blank" rel="noopener">è¯¦è§£JavaScriptä¸­çš„Event Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰æœºåˆ¶ - çŸ¥ä¹ (zhihu.com)</a></p></li><li><p>varï¼Œletï¼Œconst çš„åŒºåˆ«</p></li></ol><p>let/const æ˜¯ä½¿ç”¨å—çº§ä½œç”¨åŸŸï¼›var ä½¿ç”¨çš„æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œä¸”å­˜åœ¨å˜é‡æå‡ã€‚</p><p>åœ¨å‡½æ•°å¤–éƒ¨ä½¿ç”¨ var è¿›è¡Œå£°æ˜éƒ½ä¼šè‡ªåŠ¨æˆä¸º window å¯¹è±¡ä¸Šçš„ä¸€ä¸ªå±æ€§ã€‚</p><ol start="13"><li>æš‚æ—¶æ€§æ­»åŒºï¼ˆTDZï¼‰</li></ol><p>åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨ <code>let</code> å‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±â€ç»‘å®šâ€è¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“ã€‚</p><p>ES6 ä¸­è§„å®šï¼Œå¦‚æœåŒºå—ä¸­å­˜åœ¨ <code>let</code> å’Œ <code>const</code> å‘½ä»¤ï¼Œè¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸã€‚å‡¡æ˜¯åœ¨å£°æ˜å‰ä½¿ç”¨è¿™äº›å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><ol start="14"><li>é—­åŒ…</li></ol><p>èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°è¢«ç§°ä¸ºé—­åŒ…ã€‚</p><p>è‡ªç”±å˜é‡ï¼šåœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„æ—¢ä¸æ˜¯å‡½æ•°å‚æ•°ä¹Ÿä¸æ˜¯å±€éƒ¨å˜é‡çš„å˜é‡ã€‚</p><ol start="15"><li>HTTPS å’Œ HTTP çš„åŒºåˆ«</li></ol><ul><li>HTTPS æ˜¯ HTTP åè®®çš„å®‰å…¨ç‰ˆæœ¬ï¼ŒHTTP åè®®çš„æ•°æ®ä¼ è¾“æ˜¯æ˜æ–‡çš„ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼ŒHTTPS ä½¿ç”¨äº† SSL/TLS åè®®è¿›è¡ŒåŠ å¯†å¤„ç†ã€‚</li><li>HTTP å’Œ HTTPS ä½¿ç”¨çš„é“¾æ¥æ–¹å¼ä¸åŒï¼Œé»˜è®¤ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯80ï¼Œåè€…æ˜¯443.</li></ul><blockquote><p>å¼•ç”³: å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯† ä½¿ç”¨ä¸åŒå¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†å°±æ˜¯éå¯¹ç§°åŠ å¯†ï¼Œç›¸å¯¹çš„åŠ å¯†è§£å¯†ä½¿ç”¨åŒä¸€å¯†é’¥çš„å°±æ˜¯å¯¹ç§°åŠ å¯†ã€‚</p></blockquote><ol start="16"><li>HTTP2.0 å’Œ HTTP1.1 çš„åŒºåˆ«ï¼Ÿå¤šä¸ªè¯·æ±‚åœ¨è¿™ä¸¤ä¸ªåè®®ä¹‹é—´çš„åŒºåˆ«ï¼Ÿå¦‚æœè¯·æ±‚çš„æ˜¯ä¸åŒä¸»åŸŸï¼Œé‚£ä¹ˆåŒºåˆ«åœ¨å“ªï¼Ÿ</li></ol><p>HTTP2.0</p><ul><li>å¤šè·¯å¤ç”¨</li><li>header å‹ç¼©</li><li>æœåŠ¡ç«¯æ¨é€</li></ul><p>HTTP1.1</p><ul><li><code>keepalive</code> å¯ä»¥è®© HTTP é‡ç”¨ TCP é“¾æ¥ï¼Œå°±æ˜¯æ‰€è°“çš„é•¿é“¾æ¥ã€‚</li></ul><p>HTTP2.0 ä¼šé‡‡ç”¨å¤šè·¯å¤ç”¨ï¼Œä¸€æ¬¡ TCP è¿æ¥å³å¯ï¼Œé‡‡ç”¨ HTTP çš„è¯ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½® <code>keepalive</code> é‚£ä¹ˆä¸€æ¬¡è¯·æ±‚å°±è¦å»ºç«‹ä¸€ä¸ª TCP è¿æ¥ã€‚</p><h2 id="æ¢è¿¹ä¸€é¢"><a href="#æ¢è¿¹ä¸€é¢" class="headerlink" title="æ¢è¿¹ä¸€é¢"></a>æ¢è¿¹ä¸€é¢</h2><ol><li>äº‹ä»¶æœºåˆ¶</li><li>äº‹ä»¶å¾ªç¯</li><li>Vue å“åº”å¼åŸç†</li><li>react ä¼˜åŒ–</li><li>setState</li><li>æ•°ç»„å»é‡</li><li>æ·±æµ…æ‹·è´</li><li>get post åŒºåˆ«</li><li>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</li><li>callçš„å®ç°</li><li>node require</li><li>node æ€ä¹ˆè¯»æ–‡ä»¶</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®°å½•ä¸€ä¸‹è‡ªå·± â€œè¢«æ‰“â€ çš„è¿‡ç¨‹ğŸ˜‚&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="é¢ç»" scheme="https://kaviilee.github.io/blog/tags/%E9%9D%A2%E7%BB%8F/"/>
    
  </entry>
  
  <entry>
    <title>ä¿®æ”¹ console.log çš„é¢œè‰²</title>
    <link href="https://kaviilee.github.io/blog/2021/03/22/%E4%BF%AE%E6%94%B9console%E7%9A%84%E9%A2%9C%E8%89%B2/"/>
    <id>https://kaviilee.github.io/blog/2021/03/22/%E4%BF%AE%E6%94%B9console%E7%9A%84%E9%A2%9C%E8%89%B2/</id>
    <published>2021-03-22T16:49:05.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šæ—¥ç”¨ node å†™ä¸€ä¸ªå°å·¥å…·çš„æ—¶å€™ï¼Œæƒ³è¦ <code>console</code> è¾“å‡ºä¸ä¸€æ ·çš„é¢œè‰²ï¼Œåˆä¸æƒ³è€Œå¤–å¼•å…¥å·¥å…·åº“ï¼Œé‚æŸ¥æ‰¾èµ„æ–™ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p><a id="more"></a><h2 id="ä¸ä½¿ç”¨åº“"><a href="#ä¸ä½¿ç”¨åº“" class="headerlink" title="ä¸ä½¿ç”¨åº“"></a>ä¸ä½¿ç”¨åº“</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">console.log(fg, bg, content, "\x1b[0m");</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ <code>fg</code> å…¶å®å°±æ˜¯å­—ä½“é¢œè‰²ï¼Œ<code>bg</code> å¯¹åº”èƒŒæ™¯é¢œè‰²ï¼Œ<code>content</code> å°±æ˜¯è¦è¾“å‡ºçš„å†…å®¹</p><p>ä»¥ä¸‹åˆ—å‡ºå…¶ä»–çš„é¢œè‰²</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Reset &#x3D; &quot;\x1b[0m&quot;</span><br><span class="line">Bright &#x3D; &quot;\x1b[1m&quot;</span><br><span class="line">Dim &#x3D; &quot;\x1b[2m&quot;</span><br><span class="line">Underscore &#x3D; &quot;\x1b[4m&quot;</span><br><span class="line">Blink &#x3D; &quot;\x1b[5m&quot;</span><br><span class="line">Reverse &#x3D; &quot;\x1b[7m&quot;</span><br><span class="line">Hidden &#x3D; &quot;\x1b[8m&quot;</span><br><span class="line"></span><br><span class="line">FgBlack &#x3D; &quot;\x1b[30m&quot;</span><br><span class="line">FgRed &#x3D; &quot;\x1b[31m&quot;</span><br><span class="line">FgGreen &#x3D; &quot;\x1b[32m&quot;</span><br><span class="line">FgYellow &#x3D; &quot;\x1b[33m&quot;</span><br><span class="line">FgBlue &#x3D; &quot;\x1b[34m&quot;</span><br><span class="line">FgMagenta &#x3D; &quot;\x1b[35m&quot;</span><br><span class="line">FgCyan &#x3D; &quot;\x1b[36m&quot;</span><br><span class="line">FgWhite &#x3D; &quot;\x1b[37m&quot;</span><br><span class="line"></span><br><span class="line">BgBlack &#x3D; &quot;\x1b[40m&quot;</span><br><span class="line">BgRed &#x3D; &quot;\x1b[41m&quot;</span><br><span class="line">BgGreen &#x3D; &quot;\x1b[42m&quot;</span><br><span class="line">BgYellow &#x3D; &quot;\x1b[43m&quot;</span><br><span class="line">BgBlue &#x3D; &quot;\x1b[44m&quot;</span><br><span class="line">BgMagenta &#x3D; &quot;\x1b[45m&quot;</span><br><span class="line">BgCyan &#x3D; &quot;\x1b[46m&quot;</span><br><span class="line">BgWhite &#x3D; &quot;\x1b[47m&quot;</span><br></pre></td></tr></table></figure><p><code>Fgxx</code> å¯¹åº”çš„æ˜¯å­—ä½“é¢œè‰²ï¼Œ<code>Bgxx</code> å¯¹åº”çš„æ˜¯èƒŒæ™¯é¢œè‰²ã€‚</p><p>å½“ç„¶æˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸‹ï¼Œä½¿è°ƒç”¨æ›´åŠ ä¾¿æ·ä¸€ç‚¹</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> colors = &#123;</span><br><span class="line">  reset: <span class="string">"\x1b[0m"</span>,</span><br><span class="line">  bright: <span class="string">"\x1b[1m"</span>,</span><br><span class="line">  dim: <span class="string">"\x1b[2m"</span>,</span><br><span class="line">  underscore: <span class="string">"\x1b[4m"</span>,</span><br><span class="line">  blink: <span class="string">"\x1b[5m"</span>,</span><br><span class="line">  reverse: <span class="string">"\x1b[7m"</span>,</span><br><span class="line">  hidden: <span class="string">"\x1b[8m"</span>,</span><br><span class="line">    </span><br><span class="line">  fg: &#123;</span><br><span class="line">    black: <span class="string">"\x1b[30m"</span>,</span><br><span class="line">    red: <span class="string">"\x1b[31m"</span>,</span><br><span class="line">    green: <span class="string">"\x1b[32m"</span>,</span><br><span class="line">    yellow: <span class="string">"\x1b[33m"</span>,</span><br><span class="line">    blue: <span class="string">"\x1b[34m"</span>,</span><br><span class="line">    magenta: <span class="string">"\x1b[35m"</span>,</span><br><span class="line">    cyan: <span class="string">"\x1b[36m"</span>,</span><br><span class="line">    white: <span class="string">"\x1b[37m"</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  bg: &#123;</span><br><span class="line">    black: <span class="string">"\x1b[40m"</span>,</span><br><span class="line">    red: <span class="string">"\x1b[41m"</span>,</span><br><span class="line">    green: <span class="string">"\x1b[42m"</span>,</span><br><span class="line">    yellow: <span class="string">"\x1b[43m"</span>,</span><br><span class="line">    blue: <span class="string">"\x1b[44m"</span>,</span><br><span class="line">    magenta: <span class="string">"\x1b[45m"</span>,</span><br><span class="line">    cyan: <span class="string">"\x1b[46m"</span>,</span><br><span class="line">    white: <span class="string">"\x1b[47m"</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨åº“"><a href="#ä½¿ç”¨åº“" class="headerlink" title="ä½¿ç”¨åº“"></a>ä½¿ç”¨åº“</h2><p>ä¿®æ”¹ console é¢œè‰²çš„åº“æœ‰</p><ul><li><a href="https://github.com/chalk/chalk" target="_blank" rel="noopener">chalk</a></li><li><a href="https://github.com/Marak/colors.js" target="_blank" rel="noopener">colors</a></li><li><a href="https://github.com/medikoo/cli-color" target="_blank" rel="noopener">cli-color</a></li></ul><h2 id="ç¢ç¢å¿µ"><a href="#ç¢ç¢å¿µ" class="headerlink" title="ç¢ç¢å¿µ"></a>ç¢ç¢å¿µ</h2><p>å¥½çœ‹çš„ <code>console.log</code> å¯ä»¥è®©å†™ä»£ç çš„æˆ‘å¿«ä¹(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šæ—¥ç”¨ node å†™ä¸€ä¸ªå°å·¥å…·çš„æ—¶å€™ï¼Œæƒ³è¦ &lt;code&gt;console&lt;/code&gt; è¾“å‡ºä¸ä¸€æ ·çš„é¢œè‰²ï¼Œåˆä¸æƒ³è€Œå¤–å¼•å…¥å·¥å…·åº“ï¼Œé‚æŸ¥æ‰¾èµ„æ–™ï¼Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="å…¶ä»–" scheme="https://kaviilee.github.io/blog/tags/%E5%85%B6%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title>webpack å¸¸ç”¨ loaders å’Œ plugins</title>
    <link href="https://kaviilee.github.io/blog/2021/03/20/webpack%E5%B8%B8%E7%94%A8loaders%E5%92%8Cplugins/"/>
    <id>https://kaviilee.github.io/blog/2021/03/20/webpack%E5%B8%B8%E7%94%A8loaders%E5%92%8Cplugins/</id>
    <published>2021-03-20T21:27:36.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹ <code>webpack</code> å¸¸ç”¨ <code>loaders</code> å’Œ <code>plugins</code></p><a id="more"></a><h2 id="å¸¸ç”¨-Loaders"><a href="#å¸¸ç”¨-Loaders" class="headerlink" title="å¸¸ç”¨ Loaders"></a>å¸¸ç”¨ Loaders</h2><h3 id="åŠ è½½æ–‡ä»¶"><a href="#åŠ è½½æ–‡ä»¶" class="headerlink" title="åŠ è½½æ–‡ä»¶"></a>åŠ è½½æ–‡ä»¶</h3><ul><li><strong><a href="https://github.com/webpack-contrib/raw-loader" target="_blank" rel="noopener">raw-loader</a></strong>ï¼šæŠŠæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹åŠ è½½åˆ°ä»£ç ä¸­å»ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/file-loader" target="_blank" rel="noopener">file-loader</a></strong>ï¼šæŠŠæ–‡æœ¬è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨ä»£ç ä¸­é€šè¿‡ç›¸å¯¹ URL å»å¼•ç”¨è¾“å‡ºçš„æ–‡ä»¶ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/url-loader" target="_blank" rel="noopener">url-loader</a></strong>ï¼šå’Œ file-loader ç±»ä¼¼ï¼Œä½†æ˜¯èƒ½åœ¨æ–‡ä»¶å¾ˆå°çš„æƒ…å†µä¸‹ä»¥ base64 çš„æ–¹å¼æŠŠæ–‡ä»¶å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­å»ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/source-map-loader" target="_blank" rel="noopener">source-map-loader</a></strong>ï¼šåŠ è½½é¢å¤–çš„ Source Map æ–‡ä»¶ï¼Œä»¥æ–¹ä¾¿æ–­ç‚¹è°ƒè¯•ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/svg-inline-loader" target="_blank" rel="noopener">svg-inline-loader</a></strong>ï¼šæŠŠå‹ç¼©åçš„ SVG å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/node-loader" target="_blank" rel="noopener">node-loader</a></strong>ï¼šåŠ è½½ Node.js åŸç”Ÿæ¨¡å— .node æ–‡ä»¶ã€‚</li><li><strong><a href="https://github.com/tcoopman/image-webpack-loader" target="_blank" rel="noopener">image-loader</a></strong>ï¼šåŠ è½½å¹¶ä¸”å‹ç¼©å›¾ç‰‡æ–‡ä»¶ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/json-loader" target="_blank" rel="noopener">json-loader</a></strong>ï¼šåŠ è½½ JSON æ–‡ä»¶ã€‚</li><li><strong><a href="https://github.com/eemeli/yaml-loader" target="_blank" rel="noopener">yaml-loader</a></strong>ï¼šåŠ è½½ YAML æ–‡ä»¶ã€‚</li></ul><h3 id="ç¼–è¯‘æ¨¡æ¿"><a href="#ç¼–è¯‘æ¨¡æ¿" class="headerlink" title="ç¼–è¯‘æ¨¡æ¿"></a>ç¼–è¯‘æ¨¡æ¿</h3><ul><li><strong><a href="https://github.com/pugjs/pug-loader" target="_blank" rel="noopener">pug-loader</a></strong>ï¼šæŠŠ Pug æ¨¡ç‰ˆè½¬æ¢æˆ JavaScript å‡½æ•°è¿”å›ã€‚</li><li><strong><a href="https://github.com/difelice/ejs-loader" target="_blank" rel="noopener">ejs-loader</a></strong>ï¼šæŠŠ EJS æ¨¡ç‰ˆç¼–è¯‘æˆå‡½æ•°è¿”å›ã€‚</li><li><strong><a href="https://github.com/peerigon/markdown-loader" target="_blank" rel="noopener">markdown-loader</a></strong>ï¼šæŠŠ Markdown æ–‡ä»¶è½¬æ¢æˆ HTMLã€‚</li></ul><h3 id="è½¬æ¢è„šæœ¬è¯­è¨€"><a href="#è½¬æ¢è„šæœ¬è¯­è¨€" class="headerlink" title="è½¬æ¢è„šæœ¬è¯­è¨€"></a>è½¬æ¢è„šæœ¬è¯­è¨€</h3><ul><li><strong><a href="https://github.com/babel/babel-loader" target="_blank" rel="noopener">babel-loader</a></strong>ï¼šæŠŠ ES6 è½¬æ¢æˆ ES5ã€‚</li><li><strong><a href="https://github.com/s-panferov/awesome-typescript-loader" target="_blank" rel="noopener">awesome-typescript-loader</a></strong>ï¼šæŠŠ TypeScript è½¬æ¢æˆ JavaScriptï¼Œæ€§èƒ½è¦æ¯” ts-loader å¥½ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/coffee-loader" target="_blank" rel="noopener">coffee-loader</a></strong>ï¼šæŠŠ CoffeeScript è½¬æ¢æˆ JavaScriptã€‚</li></ul><h3 id="è½¬æ¢æ ·å¼æ–‡ä»¶"><a href="#è½¬æ¢æ ·å¼æ–‡ä»¶" class="headerlink" title="è½¬æ¢æ ·å¼æ–‡ä»¶"></a>è½¬æ¢æ ·å¼æ–‡ä»¶</h3><ul><li><strong><a href="https://github.com/webpack-contrib/css-loader" target="_blank" rel="noopener">css-loader</a></strong>ï¼šåŠ è½½ CSSï¼Œæ”¯æŒæ¨¡å—åŒ–ã€å‹ç¼©ã€æ–‡ä»¶å¯¼å…¥ç­‰ç‰¹æ€§ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/style-loader" target="_blank" rel="noopener">style-loader</a></strong>ï¼šæŠŠ CSS ä»£ç æ³¨å…¥åˆ° JavaScript ä¸­ï¼Œé€šè¿‡ DOM æ“ä½œå»åŠ è½½ CSSã€‚</li><li><strong><a href="https://github.com/webpack-contrib/sass-loader" target="_blank" rel="noopener">sass-loader</a></strong>ï¼šæŠŠ SCSS/SASS ä»£ç è½¬æ¢æˆ CSSã€‚</li><li><strong><a href="https://github.com/webpack-contrib/postcss-loader" target="_blank" rel="noopener">postcss-loader</a></strong>ï¼šæ‰©å±• CSS è¯­æ³•ï¼Œä½¿ç”¨ä¸‹ä¸€ä»£ CSSã€‚</li><li><strong><a href="https://github.com/webpack-contrib/less-loader" target="_blank" rel="noopener">less-loader</a></strong>ï¼šæŠŠ Less ä»£ç è½¬æ¢æˆ CSS ä»£ç ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/stylus-loader" target="_blank" rel="noopener">stylus-loader</a></strong>ï¼šæŠŠ Stylus ä»£ç è½¬æ¢æˆ CSS ä»£ç ã€‚</li></ul><h3 id="æ£€æŸ¥ä»£ç "><a href="#æ£€æŸ¥ä»£ç " class="headerlink" title="æ£€æŸ¥ä»£ç "></a>æ£€æŸ¥ä»£ç </h3><ul><li><strong><a href="https://github.com/webpack-contrib/eslint-loader" target="_blank" rel="noopener">eslint-loader</a></strong>ï¼šé€šè¿‡ ESLint æ£€æŸ¥ JavaScript ä»£ç ã€‚</li><li><strong><a href="https://github.com/wbuchwalter/tslint-loader" target="_blank" rel="noopener">tslint-loader</a></strong>ï¼šé€šè¿‡ TSLint æ£€æŸ¥ TypeScript ä»£ç ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/mocha-loader" target="_blank" rel="noopener">mocha-loader</a></strong>ï¼šåŠ è½½ Mocha æµ‹è¯•ç”¨ä¾‹ä»£ç ã€‚</li></ul><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><ul><li><strong><a href="https://github.com/vuejs/vue-loader" target="_blank" rel="noopener">vue-loader</a></strong>ï¼šåŠ è½½ Vue.js å•æ–‡ä»¶ç»„ä»¶ã€‚</li></ul><h2 id="å¸¸ç”¨-Plugins"><a href="#å¸¸ç”¨-Plugins" class="headerlink" title="å¸¸ç”¨ Plugins"></a>å¸¸ç”¨ Plugins</h2><ul><li><strong><a href="https://webpack.js.org/plugins/commons-chunk-plugin" target="_blank" rel="noopener">commons-chunk-plugin</a></strong>ï¼šæå–å…¬å…±ä»£ç ï¼Œåœ¨4-11æå–å…¬å…±ä»£ç ä¸­æœ‰ä»‹ç»ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/extract-text-webpack-plugin" target="_blank" rel="noopener">extract-text-webpack-plugin</a></strong>ï¼šæå– JavaScript ä¸­çš„ CSS ä»£ç åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</li><li><strong><a href="https://github.com/gajus/prepack-webpack-plugin" target="_blank" rel="noopener">prepack-webpack-plugin</a></strong>ï¼šé€šè¿‡ Facebook çš„ Prepack ä¼˜åŒ–è¾“å‡ºçš„ JavaScript ä»£ç æ€§èƒ½ã€‚</li><li><strong><a href="https://github.com/webpack-contrib/uglifyjs-webpack-plugin" target="_blank" rel="noopener">uglifyjs-webpack-plugin</a></strong>ï¼šé€šè¿‡ UglifyES å‹ç¼© ES6 ä»£ç ã€‚</li><li><strong><a href="https://github.com/gdborton/webpack-parallel-uglify-plugin" target="_blank" rel="noopener">webpack-parallel-uglify-plugin</a></strong>ï¼šå¤šè¿›ç¨‹æ‰§è¡Œ UglifyJS ä»£ç å‹ç¼©ï¼Œæå‡æ„å»ºé€Ÿåº¦ã€‚</li><li><strong><a href="https://github.com/amireh/happypack" target="_blank" rel="noopener">happypack</a></strong>ï¼šå¤šè¿›ç¨‹å¤„ç†ä»»åŠ¡ã€‚</li><li><strong><a href="https://webpack.js.org/plugins/module-concatenation-plugin/" target="_blank" rel="noopener">ModuleConcatenationPlugin</a></strong>ï¼šå¼€å¯ Webpack Scope Hoisting åŠŸèƒ½ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®°å½•ä¸€ä¸‹ &lt;code&gt;webpack&lt;/code&gt; å¸¸ç”¨ &lt;code&gt;loaders&lt;/code&gt; å’Œ &lt;code&gt;plugins&lt;/code&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="å‰ç«¯å·¥ç¨‹åŒ–" scheme="https://kaviilee.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"/>
    
    
      <category term="webpack" scheme="https://kaviilee.github.io/blog/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>webpack.config æ•´ä½“ç»“æ„</title>
    <link href="https://kaviilee.github.io/blog/2021/03/20/webpack-config%E6%95%B4%E4%BD%93%E7%BB%93%E6%9E%84/"/>
    <id>https://kaviilee.github.io/blog/2021/03/20/webpack-config%E6%95%B4%E4%BD%93%E7%BB%93%E6%9E%84/</id>
    <published>2021-03-20T17:26:19.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹ <code>webpack</code> é…ç½®å¯¹åº”çš„æ„ä¹‰ï¼Œä¾¿äºè‡ªå·±æŸ¥é˜…~</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// entry è¡¨ç¤ºå…¥å£ï¼Œwebpack æ‰§è¡Œæ„å»ºçš„ç¬¬ä¸€æ­¥ä» entry å¼€å§‹</span></span><br><span class="line">  <span class="comment">// ç±»å‹å¯ä»¥æ˜¯ String | Object | Array</span></span><br><span class="line">  entry: <span class="string">'index.js'</span>, <span class="comment">// åªæœ‰ä¸€ä¸ªå…¥å£, å…¥å£åªæœ‰ä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">  entry: [<span class="string">'index1.js'</span>, <span class="string">'index2.js'</span>], <span class="comment">// åªæœ‰ä¸€ä¸ªå…¥å£ï¼Œå…¥å£æœ‰2ä¸ªæ–‡ä»¶</span></span><br><span class="line">  entry: &#123; <span class="comment">// æœ‰ä¸¤ä¸ªå…¥å£</span></span><br><span class="line">    a: <span class="string">'indexA.js'</span>,</span><br><span class="line">    b: [<span class="string">'indexB1.js'</span>, <span class="string">'indexB2.js'</span>]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¦‚ä½•è¾“å‡ºç»“æœï¼šåœ¨ webpack çš„ä¸€ç³»åˆ—å¤„ç†ä¹‹åï¼Œå¦‚ä½•è¾“å‡ºæœ€ç»ˆçš„ä»£ç </span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºæ–‡ä»¶çš„å­˜æ”¾ç›®å½•ï¼Œå¿…é¡»æ˜¯ String ç±»å‹çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¾“å‡ºæ–‡ä»¶çš„åç§°</span></span><br><span class="line">    filename: <span class="string">'bundle.js'</span>, <span class="comment">// å®Œæ•´çš„åç§°</span></span><br><span class="line">    <span class="comment">// å½“é…ç½®äº†å¤šä¸ª entry æ—¶ï¼Œé€šè¿‡åç§°æ¨¡æ¿ä¸ºä¸åŒçš„ entry ç”Ÿæˆä¸åŒçš„æ–‡ä»¶åç§°</span></span><br><span class="line">    filename: <span class="string">'[name].js'</span>,</span><br><span class="line">    <span class="comment">// æ ¹æ®æ–‡ä»¶å†…å®¹ hash å€¼ç”Ÿæˆæ–‡ä»¶åç§°ï¼Œç”¨äºæµè§ˆå™¨é•¿æ—¶é—´ç¼“å­˜æ–‡ä»¶</span></span><br><span class="line">    filename: <span class="string">'[chunkhash].js'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘å¸ƒåˆ°çº¿ä¸Šçš„æ‰€æœ‰èµ„æºçš„ URL å‰ç¼€ï¼ŒString ç±»å‹</span></span><br><span class="line">    publicPath: <span class="string">'/public'</span>, <span class="comment">// æ”¾åˆ°æŒ‡å®šç›®å½•ä¸‹</span></span><br><span class="line">    publicPath: <span class="string">''</span>, <span class="comment">// æ”¾åˆ°å½“å‰ç›®å½•ä¸‹</span></span><br><span class="line">    publicPath: <span class="string">'https://cdn.jsdelivr.net/'</span>, <span class="comment">// æ”¾åˆ° CDN ä¸Š</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¼å‡ºåº“çš„åç§° String ç±»å‹</span></span><br><span class="line">    <span class="comment">// ç¼ºçœæ—¶ï¼Œé»˜è®¤è¾“å‡ºæ ¼å¼æ˜¯åŒ¿åçš„ç«‹å³æ‰§è¡Œå‡½æ•°</span></span><br><span class="line">    library: <span class="string">'MyLibrary'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¼å‡ºåº“çš„ç±»å‹ï¼Œæšä¸¾ç±»å‹ é»˜è®¤æ˜¯ var</span></span><br><span class="line">    <span class="comment">// å¯ä»¥æ˜¯ umd | umd2 | commonjs2 | commonjs | amd | this | var | assign</span></span><br><span class="line">    <span class="comment">// | global | jsonp</span></span><br><span class="line">    libraryTarget: <span class="string">'umd'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ˜¯å¦åŒ…å«æœ‰ç”¨çš„æ–‡ä»¶è·¯å¾„ä¿¡æ¯åˆ°ç”Ÿæˆçš„ä»£ç ä¸­ Boolean ç±»å‹</span></span><br><span class="line">    pathinfo: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™„åŠ  Chunk çš„æ–‡ä»¶åç§°</span></span><br><span class="line">    chunkFilename: <span class="string">'[id].js'</span>,</span><br><span class="line">    chunkFilename: <span class="string">'[chunkhash].js'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// JSONP å¼‚æ­¥åŠ è½½èµ„æºæ—¶çš„å›è°ƒå‡½æ•°åç§°ï¼Œéœ€è¦å’ŒæœåŠ¡ç«¯é…åˆä½¿ç”¨</span></span><br><span class="line">    jsonpFunction: <span class="string">'webpackJsonp'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”Ÿæˆçš„ Source Map æ–‡ä»¶åç§°</span></span><br><span class="line">    sourceMapFilename: <span class="string">'[file].map'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æµè§ˆå™¨å¼€å‘è€…å·¥å…·é‡Œæ˜¾ç¤ºçš„æºç æ¨¡å—åç§°</span></span><br><span class="line">    devtoolModuleFilenameTemplate: <span class="string">'webpack:///[resource-path]'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¼‚æ­¥åŠ è½½è·¨åŸŸçš„èµ„æºæ—¶ä½¿ç”¨çš„æ–¹å¼</span></span><br><span class="line">    crossOriginLoading: <span class="string">'use-credentials'</span>,</span><br><span class="line">    crossOriginLoading: <span class="string">'anonymous'</span>,</span><br><span class="line">    crossOriginLoading: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é…ç½®æ¨¡å—ç›¸å…³</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [ <span class="comment">// loader é…ç½®</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.jsx?$/</span>, <span class="comment">// æ­£åˆ™åŒ¹é…å‘½ä¸­è¦ä½¿ç”¨ loader çš„æ–‡ä»¶</span></span><br><span class="line">        include: [ <span class="comment">// åªä¼šåå­—è¿™é‡Œçš„æ–‡ä»¶</span></span><br><span class="line">          path.resolve(__dirname, <span class="string">'src'</span>),</span><br><span class="line">        ],</span><br><span class="line">        exclude: [ <span class="comment">// å¿½ç•¥è¿™é‡Œçš„æ–‡ä»¶</span></span><br><span class="line">          /node_modules/</span><br><span class="line">        ],</span><br><span class="line">        use: [ <span class="comment">// ä½¿ç”¨å“ªäº› loaderï¼Œä»å³åˆ°å·¦ï¼Œä»ååˆ°å‰æ‰§è¡Œ</span></span><br><span class="line">          <span class="string">'style-loader'</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'css-loader'</span>,</span><br><span class="line">            options: &#123;&#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    noParse: [ <span class="comment">// ä¸ç”¨è§£æå’Œå¤„ç†çš„æ¨¡å—</span></span><br><span class="line">      /special-library\.js$/ <span class="comment">// æ­£åˆ™åŒ¹é…</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">  plugins: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é…ç½®å¯»æ‰¾æ¨¡å—çš„è§„åˆ™</span></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    modules: [ <span class="comment">// å¯»æ‰¾æ¨¡å—çš„æ ¹ç›®å½•ï¼ŒArray ç±»å‹ï¼Œé»˜è®¤æ ¹ç›®å½•ä¸º node_modules</span></span><br><span class="line">      <span class="string">'node_modules'</span>,</span><br><span class="line">      path.resolve(__dirname, <span class="string">'src'</span>)</span><br><span class="line">    ],</span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'json'</span>, <span class="string">'jsx'</span>, <span class="string">'.css'</span>], <span class="comment">// æ¨¡å—çš„åç¼€å</span></span><br><span class="line">    alias: &#123; <span class="comment">// æ¨¡å—åˆ«åé…ç½®ï¼Œç”¨äºæ˜ å°„æ¨¡å—</span></span><br><span class="line">      <span class="comment">// æŠŠ '@' æ˜ å°„ä¸º 'src'ï¼Œ'@/index'ä¼šè¢«æ˜ å°„ä¸º 'src/index'</span></span><br><span class="line">      <span class="string">'@'</span>: path.resolve(__dirname, <span class="string">'src'</span>),</span><br><span class="line">      <span class="comment">// ä½¿ç”¨ç»“å°¾ç¬¦å· $ åï¼ŒæŠŠ 'only-module' æ˜ å°„ä¸º 'new-module'</span></span><br><span class="line">      <span class="comment">// ä½†ä¸ä¼šæŠŠ 'only-module/index' æ˜ å°„ä¸º 'new-module/index'</span></span><br><span class="line">      <span class="string">'only-module$'</span>: <span class="string">'new-module'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    alias: [ <span class="comment">// æ”¯æŒæ•°ç»„æ¥é…ç½®</span></span><br><span class="line">      &#123;</span><br><span class="line">        name: <span class="string">'module'</span>, <span class="comment">// è€çš„æ¨¡å—</span></span><br><span class="line">        alias: <span class="string">'new-module'</span>, <span class="comment">// æ–°çš„æ¨¡å—</span></span><br><span class="line">        <span class="comment">// æ˜¯å¦åªæ˜ å°„æ¨¡å—ï¼Œå¯¹åº”ä¸Šé¢æ˜¯å¦æœ‰ $</span></span><br><span class="line">        onlyModule: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    symlinks: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦è·Ÿéšæ–‡ä»¶è½¯é“¾æ¥å»æœå¯»æ¨¡å—çš„è·¯å¾„</span></span><br><span class="line">    descriptionFiles: [<span class="string">'package.json'</span>], <span class="comment">// æ¨¡å—çš„æè¿°æ–‡ä»¶</span></span><br><span class="line">    mainFields: [<span class="string">'main'</span>], <span class="comment">// æ¨¡å—çš„æè¿°æ–‡ä»¶é‡Œçš„æè¿°å…¥å£çš„æ–‡ä»¶çš„å­—æ®µ</span></span><br><span class="line">    enforceExtension: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦å¼ºåˆ¶å¯¼å…¥è¯­å¥å¿…é¡»è¦å†™æ˜æ–‡ä»¶åç¼€</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¾“å‡ºæ–‡ä»¶æ€§èƒ½æ£€æŸ¥é…ç½®</span></span><br><span class="line">  performance: &#123;</span><br><span class="line">    hints: <span class="string">'warning'</span>, <span class="comment">// æœ‰æ€§èƒ½é—®é¢˜æ—¶è¾“å‡º 'warning' è­¦å‘Š 'error' é”™è¯¯ false å…³é—­</span></span><br><span class="line">    maxAssetSize: <span class="number">200000</span>, <span class="comment">// æœ€å¤§æ–‡ä»¶å¤§å° bytes</span></span><br><span class="line">    maxEntrypointSize: <span class="number">400000</span>, <span class="comment">// æœ€å¤§å…¥å£æ–‡ä»¶å¤§å° bytes</span></span><br><span class="line">    assetFilter: <span class="function"><span class="keyword">function</span> (<span class="params">assetFilename</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> assetFilename.endWith(<span class="string">'.css'</span>) || assetFilename.endWith(<span class="string">'.js'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  devtool: <span class="string">'source-map'</span>, <span class="comment">// é…ç½® source-map ç±»å‹</span></span><br><span class="line"></span><br><span class="line">  context: __dirname, <span class="comment">// webpack ä½¿ç”¨çš„æ ¹ç›®å½•ï¼ŒString ç±»å‹ å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// é…ç½®è¾“å‡ºä»£ç çš„è¿è¡Œç¯å¢ƒ</span></span><br><span class="line"></span><br><span class="line">  target: <span class="string">'web'</span>, <span class="comment">// æµè§ˆå™¨ï¼Œé»˜è®¤</span></span><br><span class="line">  target: <span class="string">'webworker'</span>, <span class="comment">// WebWorker</span></span><br><span class="line">  target: <span class="string">'node'</span>, <span class="comment">// Node.jsï¼Œä½¿ç”¨ `require` è¯­å¥åŠ è½½ Chunk ä»£ç </span></span><br><span class="line">  target: <span class="string">'async-node'</span>, <span class="comment">// Node.jsï¼Œå¼‚æ­¥åŠ è½½ Chunk ä»£ç </span></span><br><span class="line">  target: <span class="string">'node-webkit'</span>, <span class="comment">// nw.js</span></span><br><span class="line">  target: <span class="string">'electron-main'</span>, <span class="comment">// electron, ä¸»çº¿ç¨‹</span></span><br><span class="line">  target: <span class="string">'electron-renderer'</span>, <span class="comment">// electron, æ¸²æŸ“çº¿ç¨‹</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä½¿ç”¨æ¥è‡ª JavaScript è¿è¡Œç¯å¢ƒæä¾›çš„å…¨å±€ç¼–å†™</span></span><br><span class="line">  externals: &#123;</span><br><span class="line">    jquery: <span class="string">'jQuery'</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ§åˆ¶å°è¾“å‡ºæ—¥å¿—æ§åˆ¶</span></span><br><span class="line">  stats: &#123;</span><br><span class="line">    assets: <span class="literal">true</span>,</span><br><span class="line">    colors: <span class="literal">true</span>,</span><br><span class="line">    errors: <span class="literal">true</span>,</span><br><span class="line">    errorDetails: <span class="literal">true</span>,</span><br><span class="line">    hash: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// DevServer ç›¸å…³é…ç½®</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    proxy: &#123; <span class="comment">// ä»£ç†åˆ°åç«¯æœåŠ¡æ¥å£</span></span><br><span class="line">      <span class="string">'/api'</span>: <span class="string">'http://localhost:3000'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// é…ç½® DevServer HTTP æœåŠ¡å™¨çš„æ–‡ä»¶ç›®å½•</span></span><br><span class="line">    contentBase: path.join(__dirname, <span class="string">'public'</span>),</span><br><span class="line">    compress: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¼€å¯ gzip å‹ç¼©</span></span><br><span class="line">    historyApiFallback: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¼€å‘ HTML5 History API ç½‘é¡µ</span></span><br><span class="line">    hot: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¼€å¯æ¨¡å—çƒ­æ›¿æ¢åŠŸèƒ½</span></span><br><span class="line">    https: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦å¼€å¯ HTTPS æ¨¡å¼</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  profile: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦æ•æ‰ Webpack æ„å»ºçš„æ€§èƒ½ä¿¡æ¯ï¼Œç”¨äºåˆ†æä»€ä¹ˆåŸå› å¯¼è‡´æ„å»ºæ€§èƒ½ä¸ä½³</span></span><br><span class="line">  cache: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦å¼€å¯ç¼“å­˜æå‡æ„å»ºé€Ÿåº¦</span></span><br><span class="line"></span><br><span class="line">  watch: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¼€å¯ç›‘å¬æ¨¡å¼</span></span><br><span class="line">  watchOptions: &#123; <span class="comment">// ç›‘å¬æ¨¡å¼é€‰é¡¹</span></span><br><span class="line">    <span class="comment">// ä¸ç›‘å¬çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œæ”¯æŒæ­£åˆ™ï¼Œé»˜è®¤ä¸ºç©º</span></span><br><span class="line">    ignored: <span class="regexp">/node_modules/</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘å¬åˆ°å˜åŒ–å‘ç”Ÿåä¼šç­‰300mså†å»æ‰§è¡ŒåŠ¨ä½œï¼Œé˜²æ­¢æ–‡ä»¶æ›´æ–°å¤ªå¿«å¯¼è‡´é‡æ–°ç¼–è¯‘é¢‘ç‡å¤ªé«˜</span></span><br><span class="line">    <span class="comment">// é»˜è®¤ä¸º300ms </span></span><br><span class="line">    aggregateTimeout: <span class="number">300</span>,</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å‘ç”Ÿå˜åŒ–æ˜¯ä¸åœçš„å»è¯¢é—®ç³»ç»ŸæŒ‡å®šæ–‡ä»¶æœ‰æ²¡æœ‰å˜åŒ–ï¼Œé»˜è®¤æ¯éš”1000æ¯«ç§’è¯¢é—®ä¸€æ¬¡</span></span><br><span class="line">    poll: <span class="number">1000</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®°å½•ä¸€ä¸‹ &lt;code&gt;webpack&lt;/code&gt; é…ç½®å¯¹åº”çš„æ„ä¹‰ï¼Œä¾¿äºè‡ªå·±æŸ¥é˜…~&lt;/p&gt;
    
    </summary>
    
    
      <category term="å‰ç«¯å·¥ç¨‹åŒ–" scheme="https://kaviilee.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"/>
    
    
      <category term="webpack" scheme="https://kaviilee.github.io/blog/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€äº›TSä¸­çš„è¿ç®—ç¬¦</title>
    <link href="https://kaviilee.github.io/blog/2021/01/28/%E4%B8%80%E4%BA%9Bts%E4%B8%AD%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <id>https://kaviilee.github.io/blog/2021/01/28/%E4%B8%80%E4%BA%9Bts%E4%B8%AD%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6/</id>
    <published>2021-01-28T17:59:30.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‘æ¥ç”¨åˆ°äº†ä¸å°‘çš„ TypeScript çš„è¿ç®—ç¬¦ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¾ˆå¤šæ˜¯æ²¡ç”¨è¿‡çš„ï¼Œæœ¬ç€å­¦åˆ°å°±æ˜¯èµšåˆ°çš„æƒ³æ³•ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p><a id="more"></a><h3 id="éç©ºæ–­è¨€æ“ä½œç¬¦"><a href="#éç©ºæ–­è¨€æ“ä½œç¬¦" class="headerlink" title="éç©ºæ–­è¨€æ“ä½œç¬¦ !"></a>éç©ºæ–­è¨€æ“ä½œç¬¦ !</h3><p><code>!</code> æ˜¯ä¸€ä¸ªåç¼€è¡¨è¾¾å¼æ“ä½œç¬¦ï¼Œå¯ä»¥ç”¨äºæ–­è¨€æ“ä½œå¯¹è±¡æ˜¯é null å’Œé undefined ç±»å‹ã€‚</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> func = <span class="function">(<span class="params">str: <span class="built_in">string</span> | <span class="literal">null</span> | <span class="literal">undefined</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// Type 'string | null | undefined' is not assignable to type 'string'.</span></span><br><span class="line">  <span class="comment">// Type 'undefined' is not assignable to type 'string'.(2322)</span></span><br><span class="line">  <span class="keyword">let</span> onlyStr: <span class="built_in">string</span> = str; <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ignoredNullOrUndefined: <span class="built_in">string</span> = str!; <span class="comment">// ok</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="?. è¿ç®—ç¬¦"></a>?. è¿ç®—ç¬¦</h3><p><code>?.</code> å¯é€‰é“¾ï¼Œåœ¨æˆ‘ä»¬é‡åˆ°å¯èƒ½æ˜¯ null æˆ– undefined æ—¶å°±å¯ä»¥åœæ­¢è¡¨è¾¾å¼çš„è¿è¡Œã€‚</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = b?.c</span><br></pre></td></tr></table></figure><p>ä¸Šè¿° TypeScript ä»£ç åœ¨ç¼–è¯‘ä¹‹å</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = b === <span class="literal">null</span> || b === <span class="keyword">void</span> <span class="number">0</span> ? <span class="keyword">void</span> <span class="number">0</span> : b.c;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ä½¿ç”¨ <code>?.</code> è¿ç®—ç¬¦å°±å¯ä»¥è‡ªåŠ¨æ£€æŸ¥å¯¹è±¡ b æ˜¯å¦ä¸º null æˆ– undefinedï¼Œå¦‚æœæ˜¯å°±è¿”å› undefinedã€‚<br>ä½¿ç”¨ <code>?.</code> å¯ä»¥ä»£æ›¿ <code>&amp;&amp;</code> æ‰§è¡Œç©ºæ£€æŸ¥ã€‚</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = b &amp;&amp; b.c</span><br><span class="line"></span><br><span class="line"><span class="comment">// equal to</span></span><br><span class="line"><span class="keyword">const</span> a = b?.c</span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>?.</code> åªæ£€æŸ¥ null å’Œ undefinedï¼Œå¯¹äºç©ºå­—ä¸²å’Œ 0ï¼Œå®ƒæ˜¯ä¸ä¼šæ£€æŸ¥çš„ã€‚</p><blockquote><p>å¯é€‰é“¾è¿˜å¯ä»¥å’Œå‡½æ•°è°ƒç”¨ä¸€èµ·ä½¿ç”¨</p></blockquote><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> res = obj.func?.()</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¹‹å</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> res = (_a = obj.func) === <span class="literal">null</span> || _a === <span class="keyword">void</span> <span class="number">0</span> ? <span class="keyword">void</span> <span class="number">0</span> : _a.call(obj);</span><br></pre></td></tr></table></figure><p>å¦‚æœ obj ä¸å­˜åœ¨ func è¿™ä¸ªæ–¹æ³•ï¼Œå°±å›è¿”å› undefined.</p><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>å¦‚æœ func ä¸å­˜åœ¨äº objï¼Œä¸Šé¢ä»£ç ä¼šäº§ç”Ÿä¸€ä¸ª <code>TypeError</code> å¼‚å¸¸</li><li>å¯é€‰é“¾çš„è¿ç®—è¡Œä¸ºè¢«å±€é™åœ¨å±æ€§çš„è®¿é—®ï¼Œè°ƒç”¨å’Œå…ƒç´ çš„è®¿é—®ï¼Œä¸ä¼šå»¶ä¼¸åˆ°åç»­çš„è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯è¯´å¯é€‰è°ƒç”¨ä¸ä¼šé˜»æ­¢ a?.b / someMethod() è¡¨è¾¾å¼ä¸­çš„é™¤æ³•è¿ç®—æˆ– someMethod çš„æ–¹æ³•è°ƒç”¨</li></ul><h3 id="ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"><a href="#ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦" class="headerlink" title="?? ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"></a>?? ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</h3><blockquote><p>å½“å·¦ä¾§æ“ä½œæ•°ä¸º null æˆ– undefinedæ—¶ï¼Œè¿”å›å³ä¾§çš„æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦è¾¹çš„æ“ä½œç¬¦</p></blockquote><p>ä¸ || è¿ç®—ç¬¦ä¸åŒï¼Œ<code>??</code> ä¹Ÿæ˜¯åªåˆ¤æ–­ null å’Œ undefinedï¼Œå…¶ä»–çš„ falsy å®ƒæ˜¯ä¸ä¼šè¿”å›å³ä¾§çš„ã€‚</p><h3 id="å¯é€‰å±æ€§"><a href="#å¯é€‰å±æ€§" class="headerlink" title="?: å¯é€‰å±æ€§"></a>?: å¯é€‰å±æ€§</h3><p>è¿™ä¸ªè¿ç®—ç¬¦ä¸€èˆ¬ç”¨åœ¨å®šä¹‰ç±»å‹çš„æ—¶å€™</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  age?: <span class="built_in">number</span>;</span><br><span class="line">  <span class="comment">// equal to</span></span><br><span class="line">  <span class="comment">// age: number | undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Partial"><a href="#Partial" class="headerlink" title="Partial"></a>Partial<T></h4><p>æŠŠæŸä¸ªæ¥å£çš„å±æ€§å˜æˆå¯é€‰å±æ€§</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* type CopyPerson = &#123;</span></span><br><span class="line"><span class="comment">  name?: string;</span></span><br><span class="line"><span class="comment">  age?: number;</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> CopyPerson = Partial&lt;Person&gt;</span><br></pre></td></tr></table></figure><h4 id="Required"><a href="#Required" class="headerlink" title="Required"></a>Required<T></h4><p>ä½¿ç”¨ <code>Required</code> å¯ä»¥æŠŠå¯é€‰å±æ€§è½¬ä¸ºå¿…é€‰å±æ€§ã€‚</p><h3 id="amp-è¿ç®—ç¬¦"><a href="#amp-è¿ç®—ç¬¦" class="headerlink" title="&amp; è¿ç®—ç¬¦"></a>&amp; è¿ç®—ç¬¦</h3><p>åœ¨ TypeScript ä¸­ä½¿ç”¨ <code>&amp;</code> è¿ç®—ç¬¦å¯ä»¥å°†å¤šä¸ªç±»å‹å åŠ æˆä¸ºä¸€ç§ç±»å‹ã€‚</p><blockquote><ul><li>åŒååŸºç¡€ç±»å‹åˆå¹¶ï¼Œå¦‚æœå­˜åœ¨ç›¸åŒçš„æˆå‘˜ï¼Œé‚£ä¹ˆè¯¥æˆå‘˜çš„ç±»å‹ä¼šå˜æˆ never</li><li>åŒåéåŸºç¡€ç±»å‹åˆå¹¶ï¼Œæ˜¯å¯ä»¥åˆå¹¶çš„</li></ul></blockquote><h3 id="åˆ†éš”ç¬¦"><a href="#åˆ†éš”ç¬¦" class="headerlink" title="| åˆ†éš”ç¬¦"></a>| åˆ†éš”ç¬¦</h3><blockquote><p>åœ¨ TypeScript ä¸­è”åˆç±»å‹ï¼ˆUnion Typesï¼‰è¡¨ç¤ºå–å€¼å¯ä»¥ä¸ºå¤šç§ç±»å‹ä¸­çš„ä¸€ç§ï¼Œè”åˆç±»å‹ä½¿ç”¨ | åˆ†éš”æ¯ä¸ªç±»å‹.</p></blockquote><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> test: <span class="built_in">string</span> | <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure><p>è¡¨ç¤º <code>test</code> å¯ä»¥æ˜¯ string æˆ– undefined.</p><h3 id="Record"><a href="#Record" class="headerlink" title="Record"></a>Record</h3><p><code>Record&lt;K extends keyof any, T&gt;</code> å°† <code>K</code> ä¸­æ‰€æœ‰çš„å±æ€§çš„å€¼è½¬åŒ–ä¸º <code>T</code> ç±»å‹ã€‚</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Record&lt;K <span class="keyword">extends</span> keyof <span class="built_in">any</span>, T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> K]: T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// example</span></span><br><span class="line"><span class="keyword">type</span> Route = <span class="string">'home'</span> | <span class="string">'demo'</span> | <span class="string">'help'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> route: Record&lt;Route, <span class="built_in">string</span>&gt; = &#123;</span><br><span class="line">  home: <span class="built_in">string</span>;</span><br><span class="line">  demo: <span class="built_in">string</span>;</span><br><span class="line">  gelp: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Pick"><a href="#Pick" class="headerlink" title="Pick"></a>Pick</h3><p><code>Pick&lt;T, K extends keyof T&gt;</code> å°†æŸä¸ªç±»å‹ä¸­çš„å­å±æ€§æŒ‘å‡ºæ¥ï¼Œå˜æˆåŒ…å«è¿™ä¸ªç±»å‹éƒ¨åˆ†å±æ€§çš„å­ç±»å‹ã€‚</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Pick&lt;T, K <span class="keyword">extends</span> keyof T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> K]: T[P]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// example</span></span><br><span class="line"><span class="keyword">interface</span> Todo &#123;</span><br><span class="line">  title: <span class="built_in">string</span>;</span><br><span class="line">  description: <span class="built_in">string</span>;</span><br><span class="line">  status: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> TodoPreview = Pick&lt;Todo, <span class="string">'title'</span> | <span class="string">'status'</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todo: TodoPreview = &#123;</span><br><span class="line">  title: <span class="string">'todo1'</span>,</span><br><span class="line">  status: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="EXclude"><a href="#EXclude" class="headerlink" title="EXclude"></a>EXclude</h3><p><code>Exclude&lt;T, U&gt;</code> å°†æŸä¸ªç±»å‹ä¸­çš„å¦ä¸€ä¸ªç±»å‹ç§»é™¤ã€‚</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœ T èƒ½å¤Ÿèµ‹å€¼ç»™ Uï¼Œé‚£ä¹ˆå°±è¿”å› never ç±»å‹ï¼Œå¦åˆ™è¿”å› T ç±»å‹ï¼Œå…¶å®å°±æ˜¯å°† T ä¸­å±äº U çš„ç±»å‹ç§»é™¤ã€‚</span></span><br><span class="line"><span class="keyword">type</span> Exclude&lt;T, U&gt; = T <span class="keyword">extends</span> U ? : never : T</span><br><span class="line"></span><br><span class="line"><span class="comment">// example</span></span><br><span class="line"><span class="keyword">type</span> Demo = Exclude&lt;<span class="string">'a'</span> | <span class="string">'b'</span> | <span class="string">'c'</span>, <span class="string">'c'</span>&gt;; <span class="comment">// 'a' | 'b'</span></span><br></pre></td></tr></table></figure><h3 id="ReturnType"><a href="#ReturnType" class="headerlink" title="ReturnType"></a>ReturnType</h3><p><code>ReturnType&lt;T&gt;</code> ç”¨äºè·å–å‡½æ•° <code>T</code> çš„è¿”å›ç±»å‹ã€‚</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> ReturnType&lt;T <span class="keyword">extends</span> (...args: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span>&gt; = T <span class="keyword">extends</span> (...args: <span class="built_in">any</span>) =&gt; infer R ? R : <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// example</span></span><br><span class="line"><span class="keyword">type</span> Demo = ReturnType&lt;<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">string</span>&gt;; <span class="comment">// string</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿‘æ¥ç”¨åˆ°äº†ä¸å°‘çš„ TypeScript çš„è¿ç®—ç¬¦ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¾ˆå¤šæ˜¯æ²¡ç”¨è¿‡çš„ï¼Œæœ¬ç€å­¦åˆ°å°±æ˜¯èµšåˆ°çš„æƒ³æ³•ï¼Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="TypeScript" scheme="https://kaviilee.github.io/blog/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>æµè§ˆå™¨åé€€äº‹ä»¶è¸©å‘</title>
    <link href="https://kaviilee.github.io/blog/2021/01/20/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%90%8E%E9%80%80%E4%BA%8B%E4%BB%B6%E8%B8%A9%E5%9D%91/"/>
    <id>https://kaviilee.github.io/blog/2021/01/20/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%90%8E%E9%80%80%E4%BA%8B%E4%BB%B6%E8%B8%A9%E5%9D%91/</id>
    <published>2021-01-20T10:43:29.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€æ¬¡å…³äºæµè§ˆå™¨åé€€äº‹ä»¶çš„è¸©å‘è®°å½•ã€‚</p><a id="more"></a><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>é¡µé¢éœ€è¦åœ¨æ‰“å¼€ä¸€ä¸ª Drawer çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨çš„åé€€æŒ‰é’®ä¹‹åï¼Œå°† Drawer å…³é—­ï¼Œè€Œä¸æ˜¯é¡µé¢å‘ç”Ÿäº†åé€€ã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>å¹¶ä¸æ˜¯è¦é˜»æ­¢æµè§ˆå™¨è§¦å‘åé€€äº‹ä»¶ï¼Œè€Œæ˜¯åœ¨æµè§ˆå™¨è§¦å‘åé€€äº‹ä»¶å‰ï¼Œå°†é¢„å®šçš„ history ä¿¡æ¯åŠ å…¥åˆ°æµè§ˆå™¨çš„è·¯ç”±ä¿¡æ¯ä¸­ï¼Œåé€€æ—¶ï¼Œæ˜¯åé€€åˆ°äº†æŒ‡å®šçš„é¡µé¢ï¼Œç„¶ååœ¨åé€€äº‹ä»¶ä¸­åŠ å…¥è‡ªå·±çš„å¤„ç†ã€‚</p><h3 id="ä¸€ç‚¹ç‚¹ä»£ç "><a href="#ä¸€ç‚¹ç‚¹ä»£ç " class="headerlink" title="ä¸€ç‚¹ç‚¹ä»£ç "></a>ä¸€ç‚¹ç‚¹ä»£ç </h3><p>åˆ©ç”¨ <code>history.pushState()</code> æ–¹æ³•åœ¨æµè§ˆå™¨çš„å†å²å †æ ˆä¸­æ·»åŠ ä¸€ä¸ª stateã€‚<br>ç„¶åå†ç›‘å¬ <code>popstate</code> äº‹ä»¶ï¼ŒåŠ å…¥è‡ªå·±çš„å¤„ç†ã€‚</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> handleOnpopState = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// your code</span></span><br><span class="line">  Drawer.close()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="string">''</span>, <span class="built_in">document</span>.URL);</span><br><span class="line"></span><br><span class="line"><span class="comment">// mounted</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'popstate'</span>, handleOnpopState, <span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// unmount</span></span><br><span class="line"><span class="built_in">window</span>.removeEventListener(<span class="string">'popstate'</span>, handleOnpopState, <span class="literal">false</span>)</span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h3><p>å½“ç½‘é¡µåŠ è½½æ—¶,å„æµè§ˆå™¨å¯¹popstateäº‹ä»¶æ˜¯å¦è§¦å‘æœ‰ä¸åŒçš„è¡¨ç°,Chrome å’Œ Safariä¼šè§¦å‘popstateäº‹ä»¶, è€ŒFirefoxä¸ä¼š.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯ä¸€æ¬¡å…³äºæµè§ˆå™¨åé€€äº‹ä»¶çš„è¸©å‘è®°å½•ã€‚&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>å…³äºAntdæ¡†æ¶ä¸‹CascaderåŠ¨æ€åŠ è½½é€‰é¡¹çš„é—®é¢˜</title>
    <link href="https://kaviilee.github.io/blog/2021/01/13/%E5%85%B3%E4%BA%8Eantd%E6%A1%86%E6%9E%B6%E4%B8%8Bcascader%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E9%80%89%E9%A1%B9%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>https://kaviilee.github.io/blog/2021/01/13/%E5%85%B3%E4%BA%8Eantd%E6%A1%86%E6%9E%B6%E4%B8%8Bcascader%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E9%80%89%E9%A1%B9%E7%9A%84%E9%97%AE%E9%A2%98/</id>
    <published>2021-01-13T18:07:43.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‘æ—¥åœ¨ä½¿ç”¨ Ant Design çš„ Cascader åˆå§‹åŒ–ä¼ å€¼é‡åˆ°çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p><a id="more"></a><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨ä½¿ç”¨ Cascader ç»„ä»¶çš„åŠ¨æ€åŠ è½½æ•°æ®æ—¶ï¼Œç”±äºéœ€è¦ä¼ å…¥åˆå§‹å€¼æ¥åˆå§‹åŒ–å½“å‰çš„é€‰æ‹©ï¼Œä½†æ˜¯æ­¤æ—¶ç»„ä»¶å†…å¹¶ä¸å­˜åœ¨å¯¹åº”çš„æ•°æ®ã€‚<br>å‡è®¾æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª <code>Number</code> ç±»å‹çš„å­—æ®µæ¥ä½œä¸º Cascader çš„ value å€¼ï¼Œé‚£ä¹ˆå¦‚æœè´¸ç„¶ä¼ å…¥æ•°å­—ç±»å‹çš„æ•°ç»„ï¼Œå°±ä¼šå‡ºç°åˆå§‹åŒ–ä¸æ­£å¸¸çš„é—®é¢˜ã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>æ—¢ç„¶ä¸èƒ½ç®€å•çš„ä¼ å…¥æ•°å­—ç±»å‹çš„æ•°ç»„æ¥åˆå§‹åŒ–ç»„ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¼ å…¥å¯¹è±¡æ•°ç»„æˆ–è€…æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼Œåˆ©ç”¨ Cascader çš„ displayRender å±æ€§æ¥æ¸²æŸ“ã€‚</p><p>å¹¶åˆ©ç”¨ <code>fetched</code> æ¥æ§åˆ¶æ˜¯å¦å·²ç»è¿›è¡Œå¼‚æ­¥åŠ è½½ï¼Œå½“è¿›è¡Œå¼‚æ­¥åŠ è½½ä¹‹åï¼Œæ¸²æŸ“å°±å˜ä¸ºé€‰æ‹©çš„å€¼ã€‚</p><p>å…·ä½“å¯ä»¥æŸ¥çœ‹ <a href="https://codesandbox.io/s/dongtaijiazaixuanxiang-antd4102-forked-whwnc" target="_blank" rel="noopener">åŠ¨æ€åŠ è½½é€‰é¡¹åˆå§‹åŒ–ç»„ä»¶</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿‘æ—¥åœ¨ä½¿ç”¨ Ant Design çš„ Cascader åˆå§‹åŒ–ä¼ å€¼é‡åˆ°çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Antd v4" scheme="https://kaviilee.github.io/blog/tags/antd-v4/"/>
    
  </entry>
  
  <entry>
    <title>æµ…å° deno</title>
    <link href="https://kaviilee.github.io/blog/2021/01/05/%E6%B5%85%E5%B0%9Ddeno/"/>
    <id>https://kaviilee.github.io/blog/2021/01/05/%E6%B5%85%E5%B0%9Ddeno/</id>
    <published>2021-01-05T00:01:36.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>æ–°çš„ä¸€å¹´æ–°çš„å¼€å§‹ï¼æ–°çš„ä¸œè¥¿ï¼Œå­¦èµ·ï¼(æ‰¶æœ•èµ·æ¥ï¼Œæœ•è¿˜å¯ä»¥å†å­¦</p><a id="more"></a><blockquote><p>å®ƒæ˜¯ Node.js çš„æ›¿ä»£å“ã€‚æœ‰äº†å®ƒï¼Œå°†æ¥å¯èƒ½å°±ä¸éœ€è¦ Node.js äº†ã€‚  â€”â€”â€”â€” é˜®ä¸€å³°ã€ŠDeno è¿è¡Œæ—¶å…¥é—¨æ•™ç¨‹ï¼šNode.js çš„æ›¿ä»£å“ã€‹</p></blockquote><h2 id="Deno-ç®€ä»‹"><a href="#Deno-ç®€ä»‹" class="headerlink" title="Deno ç®€ä»‹"></a>Deno ç®€ä»‹</h2><p>Deno æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„è¿è¡Œæ—¶ï¼Œå³åŸºäº Google V8 å¼•æ“çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œè¯¥è¿è¡Œæ—¶ç¯å¢ƒæ˜¯ä½¿ç”¨ Rust è¯­è¨€å¼€å‘çš„ï¼Œå¹¶ä½¿ç”¨ Tokio åº“æ¥æ„å»ºäº‹ä»¶å¾ªç¯ç³»ç»Ÿã€‚Deno æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li>é»˜è®¤å®‰å…¨ã€‚é™¤éæ˜¾å¼å¯ç”¨ï¼Œå¦åˆ™ä¸èƒ½è®¿é—®æ–‡ä»¶ï¼Œç½‘ç»œæˆ–ç¯å¢ƒ</li><li>å¼€ç®±å³ç”¨çš„ TypeScript æ”¯æŒ</li><li>åªåˆ†å‘ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶</li><li>å…·æœ‰å†…ç½®çš„å·¥å…·ç®±ï¼Œæ¯”å¦‚ä¾èµ–é¡¹æ£€æŸ¥å·¥å…·ï¼ˆdeno infoï¼‰å’Œ ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼ˆdeno fmtï¼‰</li><li>æ‹¥æœ‰ä¸€ç»„ä¿è¯èƒ½å¤Ÿä¸ Deno ä¸€èµ·ä½¿ç”¨çš„ç»è¿‡å®¡æŸ¥çš„æ ‡å‡†æ¨¡å—ï¼š<code>deno.land/std</code></li><li>è„šæœ¬å¯ä»¥æ‰“åŒ…åˆ°ä¸€ä¸ª JavaScript æ–‡ä»¶ä¸­</li></ul><h3 id="ä¸€äº›å‘½ä»¤"><a href="#ä¸€äº›å‘½ä»¤" class="headerlink" title="ä¸€äº›å‘½ä»¤"></a>ä¸€äº›å‘½ä»¤</h3><p>æ‰§è¡Œ <code>deno -h</code> æˆ– <code>deno --help</code> å°±èƒ½å¤Ÿæ˜¾ç¤º Deno æ”¯æŒçš„å­å‘½ä»¤ï¼Œä»¥ä¸‹åˆ—ä¸¾ä¸€äº›ä¸»è¦ä½¿ç”¨çš„å‘½ä»¤</p><blockquote><ul><li>deno bundleï¼šdeno bundle [options] <source_file> [out_file]  å°†è„šæœ¬å’Œä¾èµ–æ‰“åŒ…</li><li>deno fmtï¼šä»£ç æ ¼å¼åŒ–</li><li>deno infoï¼šæ˜¾ç¤ºæœ¬åœ°çš„ä¾èµ–ç¼“å­˜</li><li>deno installï¼šå°†è„šæœ¬å®‰è£…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶</li><li>deno replï¼šè¿›å…¥ REPL ç¯å¢ƒ</li><li>deno runï¼šè¿è¡Œè„šæœ¬</li></ul></blockquote><h2 id="ä¸-Node-js-çš„åŒºåˆ«"><a href="#ä¸-Node-js-çš„åŒºåˆ«" class="headerlink" title="ä¸ Node.js çš„åŒºåˆ«"></a>ä¸ Node.js çš„åŒºåˆ«</h2><p>Deno æ—¢ç„¶æ˜¯ Node.js çš„ â€æ›¿ä»£å“â€œï¼Œç©¶ç«Ÿè§£å†³äº† Node.js çš„å“ªäº›ç—›ç‚¹å‘¢ï¼Ÿ</p><h3 id="æ¨¡å—å¼•å…¥çš„æ–¹å¼"><a href="#æ¨¡å—å¼•å…¥çš„æ–¹å¼" class="headerlink" title="æ¨¡å—å¼•å…¥çš„æ–¹å¼"></a>æ¨¡å—å¼•å…¥çš„æ–¹å¼</h3><h4 id="Node-æ¨¡å—å¼•å…¥"><a href="#Node-æ¨¡å—å¼•å…¥" class="headerlink" title="Node æ¨¡å—å¼•å…¥"></a>Node æ¨¡å—å¼•å…¥</h4><p>Node å†…ç½® API é€šè¿‡æ¨¡å—å¼•å…¥çš„æ–¹å¼å¼•å…¥ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line">fs.readFileSync(<span class="string">'demo.txt'</span>)</span><br></pre></td></tr></table></figure><h4 id="Deno-å…¨å±€å¯¹è±¡"><a href="#Deno-å…¨å±€å¯¹è±¡" class="headerlink" title="Deno å…¨å±€å¯¹è±¡"></a>Deno å…¨å±€å¯¹è±¡</h4><p>åœ¨ Deno ä¸­åˆ™æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ <code>Deno</code> çš„å±æ€§å’Œæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Deno.readFileSync(<span class="string">'demo.txt'</span>)</span><br></pre></td></tr></table></figure><h3 id="æ¨¡å—ç³»ç»Ÿ"><a href="#æ¨¡å—ç³»ç»Ÿ" class="headerlink" title="æ¨¡å—ç³»ç»Ÿ"></a>æ¨¡å—ç³»ç»Ÿ</h3><p>åœ¨æ¨¡å—ç³»ç»Ÿæ–¹é¢ï¼Œè¿™æ˜¯ Deno å’Œ Node.js å·®åˆ«æœ€å¤§çš„åœ°æ–¹ã€‚</p><h4 id="Node-js-CommonJS-è§„èŒƒ"><a href="#Node-js-CommonJS-è§„èŒƒ" class="headerlink" title="Node.js CommonJS è§„èŒƒ"></a>Node.js CommonJS è§„èŒƒ</h4><p>Node.js é‡‡ç”¨çš„æ˜¯ <code>CommonJS</code> æ¨¡å—è§„èŒƒã€‚å…·ä½“è§„èŒƒè§ <a href="https://javascript.ruanyifeng.com/nodejs/module.html#" target="_blank" rel="noopener">CommonJS è§„èŒƒ</a></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'demo'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Deno-çš„æ¨¡å—è§„èŒƒ"><a href="#Deno-çš„æ¨¡å—è§„èŒƒ" class="headerlink" title="Deno çš„æ¨¡å—è§„èŒƒ"></a>Deno çš„æ¨¡å—è§„èŒƒ</h4><p>ä¸åŒäº Node.js çš„è§„èŒƒï¼ŒDeno æ‰€é‡‡ç”¨çš„æ¨¡å—è§„èŒƒæ˜¯ <a href="https://es6.ruanyifeng.com/#docs/module" target="_blank" rel="noopener">ES Module è§„èŒƒ</a></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span>  <span class="keyword">as</span> fs <span class="keyword">from</span> <span class="string">"https//deno.land/std/fs/mod.ts"</span></span><br><span class="line"><span class="keyword">import</span> &#123; Application &#125; <span class="keyword">from</span> <span class="string">"./initApp.js"</span></span><br><span class="line"><span class="keyword">import</span> creatApp <span class="keyword">from</span> <span class="string">"./creatApp.ts"</span></span><br></pre></td></tr></table></figure><p>åœ¨ Deno ä¸­ï¼Œå¯ä»¥ç›´æ¥ import url æ¥å¼•ç”¨çº¿ä¸Šçš„èµ„æºï¼Œå¹¶ä¸”èµ„æºçš„æ‰©å±•åå’Œæ–‡ä»¶åä¸å¯ä»¥çœç•¥ã€‚</p><h3 id="å®‰å…¨"><a href="#å®‰å…¨" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h3><p>è¿™ä¸ªå®‰å…¨ä¸»è¦ä½“ç°åœ¨ Deno çš„æ“ä½œå¾ˆå¤šéƒ½éœ€è¦æä¾›æƒé™ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// demo.ts</span></span><br><span class="line"><span class="keyword">const</span> file = <span class="keyword">await</span> Deno.creat(<span class="string">"./bar.txt"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`create file: bar.txt`</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ‰§è¡Œè¿™æ®µä»£ç </p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ deno run .\demo.ts</span><br><span class="line">Check file:///C:/Users/lee/Desktop/demo.ts</span><br><span class="line">error: Uncaught (<span class="keyword">in</span> promise) PermissionDenied: <span class="built_in">read</span> access to <span class="string">"bar.txt"</span>, run again with the --allow-read flag</span><br><span class="line">    at processResponse (deno:core/core.js:223:11)</span><br><span class="line">    at Object.jsonOpAsync (deno:core/core.js:240:12)</span><br><span class="line">    at async open (deno:runtime/js/30_files.js:44:17)</span><br><span class="line">    at async file:///C:/Users/lee/Desktop/demo.ts:1:14</span><br></pre></td></tr></table></figure><p>è¿™ä¼šå‘Šè¯‰æˆ‘ä»¬æ²¡æœ‰ç»™äºˆå®ƒ <code>--allow-read</code> çš„æƒé™ï¼Œå½“æˆ‘ä»¬ç»™äºˆå®ƒæƒé™åï¼Œå°±èƒ½æˆåŠŸåˆ›å»ºæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ deno run --allow-read --allow-write .\demo.ts</span><br><span class="line">create file: bar.txt</span><br></pre></td></tr></table></figure><h4 id="Deno-çš„æƒé™åˆ—è¡¨"><a href="#Deno-çš„æƒé™åˆ—è¡¨" class="headerlink" title="Deno çš„æƒé™åˆ—è¡¨"></a>Deno çš„æƒé™åˆ—è¡¨</h4><ul><li><code>-A, --allow-all</code> å…è®¸æ‰€æœ‰æƒé™ï¼Œè¿™å°†ç¦ç”¨æ‰€æœ‰å®‰å…¨é™åˆ¶ã€‚</li><li><code>--allow-env</code> å…è®¸ç¯å¢ƒè®¿é—®ï¼Œä¾‹å¦‚è¯»å–å’Œè®¾ç½®ç¯å¢ƒå˜é‡ã€‚</li><li><code>--allow-hrtime</code> å…è®¸é«˜ç²¾åº¦æ—¶é—´æµ‹é‡ï¼Œé«˜ç²¾åº¦æ—¶é—´èƒ½å¤Ÿåœ¨è®¡æ—¶æ”»å‡»å’Œç‰¹å¾è¯†åˆ«ä¸­ä½¿ç”¨ã€‚</li><li><code>--allow-net=&lt;allow-net&gt;</code> å…è®¸ç½‘ç»œè®¿é—®ã€‚æ‚¨å¯ä»¥æŒ‡å®šä¸€ç³»åˆ—ç”¨é€—å·åˆ†éš”çš„åŸŸåï¼Œæ¥æä¾›åŸŸåç™½åå•ã€‚</li><li><code>--allow-plugin</code> å…è®¸åŠ è½½æ’ä»¶ã€‚è¯·æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ªä¸ç¨³å®šåŠŸèƒ½ã€‚</li><li><code>--allow-read=&lt;allow-read&gt;</code> å…è®¸è¯»å–æ–‡ä»¶ç³»ç»Ÿã€‚æ‚¨å¯ä»¥æŒ‡å®šä¸€ç³»åˆ—ç”¨é€—å·åˆ†éš”çš„ç›®å½•æˆ–æ–‡ä»¶ï¼Œæ¥æä¾›æ–‡ä»¶ç³»ç»Ÿç™½åå•ã€‚</li><li><code>--allow-run</code> å…è®¸è¿è¡Œå­è¿›ç¨‹ã€‚è¯·æ³¨æ„ï¼Œå­è¿›ç¨‹ä¸åœ¨æ²™ç®±ä¸­è¿è¡Œï¼Œå› æ­¤æ²¡æœ‰ä¸ deno è¿›ç¨‹ç›¸åŒçš„å®‰å…¨é™åˆ¶ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚</li><li><code>--allow-write=&lt;allow-write&gt;</code> å…è®¸å†™å…¥æ–‡ä»¶ç³»ç»Ÿã€‚æ‚¨å¯ä»¥æŒ‡å®šä¸€ç³»åˆ—ç”¨é€—å·åˆ†éš”çš„ç›®å½•æˆ–æ–‡ä»¶ï¼Œæ¥æä¾›æ–‡ä»¶ç³»ç»Ÿç™½åå•ã€‚</li></ul><p>è¿™é‡Œæ’ä¸€å¥ä¸å±äºæƒé™ä½†æ˜¯å±äº <code>run</code> çš„æ—¶å€™å¯ä»¥ä¼ å…¥çš„é€‰é¡¹ <code>--unstable</code>ï¼Œä¼ é€’è¿™ä¸ªé€‰é¡¹å°†å…è®¸åœ¨è¿è¡Œæ—¶ä½¿ç”¨ä¸ç¨³å®šçš„ APIã€‚</p><h4 id="ç™½åå•"><a href="#ç™½åå•" class="headerlink" title="ç™½åå•"></a>ç™½åå•</h4><p>Deno è¿˜å¯ä»¥è®¾ç½®ç™½åå•æ¥æ§åˆ¶æƒé™çš„ç²’åº¦ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">deno run --allow-read=/etc https://deno.land/std@<span class="variable">$STD_VERSION</span>/examples/main.ts /etc/passwd</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿å¾—æ–‡ä»¶ç³»ç»Ÿèƒ½å¤Ÿè®¿é—® <code>/etc</code> ç›®å½•ã€‚</p><h3 id="æ”¯æŒ-TypeScript"><a href="#æ”¯æŒ-TypeScript" class="headerlink" title="æ”¯æŒ TypeScript"></a>æ”¯æŒ TypeScript</h3><p>Deno åŸç”Ÿæ”¯æŒ TSï¼Œè¿™ç‚¹å¯¹äºä¸€ä¸ª TS ä½¿ç”¨è€…æ¥è¯´å®åœ¨æ˜¯å¤ªèµäº†ã€‚Node.js ä¸­è¦ä½¿ç”¨ TypeScript çš„è¯è¿˜éœ€è¦ <code>ts-node</code> ä¹‹ç±»çš„å·¥å…·çš„æ”¯æŒã€‚</p><h3 id="æ— -node-modules"><a href="#æ— -node-modules" class="headerlink" title="æ—  node_modules"></a>æ—  node_modules</h3><p>ä¸åŒäº Node.jsï¼ŒDeno å¹¶æ²¡æœ‰ node_modules æ¥è¿›è¡ŒåŒ…ç®¡ç†ã€‚ä½†æ˜¯ Deno åœ¨æ¯æ¬¡åˆæ‰§è¡Œæ—¶ï¼Œä¼šè¿›è¡Œä¾èµ–çš„ä¸‹è½½å’Œç¼–è¯‘ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>deno info</code> æ¥æŸ¥çœ‹</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ deno info [file_name]</span><br><span class="line">DENO_DIR location: <span class="string">"C:\\Users\\lee\\AppData\\Local\\deno"</span></span><br><span class="line">Remote modules cache: <span class="string">"C:\\Users\\lee\\AppData\\Local\\deno\\deps"</span></span><br><span class="line">TypeScript compiler cache: <span class="string">"C:\\Users\\lee\\AppData\\Local\\deno\\gen"</span></span><br></pre></td></tr></table></figure><p>å…¶å®è¿™å°±ç›¸å½“äºæ˜¯è¿›è¡Œäº†åŒ…ç®¡ç†ï¼Œç¼–è¯‘åçš„æ–‡ä»¶ï¼Œè¿œç¨‹æ¨¡å—ç¼“å­˜éƒ½ä¼šæ”¾åœ¨ç›¸åº”çš„ä½ç½®ã€‚</p><h3 id="å¼‚æ­¥æ“ä½œ"><a href="#å¼‚æ­¥æ“ä½œ" class="headerlink" title="å¼‚æ­¥æ“ä½œ"></a>å¼‚æ­¥æ“ä½œ</h3><p>Node ç”¨å›è°ƒçš„æ–¹å¼å¤„ç†å¼‚æ­¥æ“ä½œï¼Œè€Œ Deno åˆ™ä½¿ç”¨çš„æ˜¯ Promise</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// node</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line">fs.readFile(<span class="string">'./demo.txt'</span>, (err, data) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">throw</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// deno</span></span><br><span class="line"><span class="keyword">const</span> data = <span class="keyword">await</span> Deno.readFile(<span class="string">'./demo.txt'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(data)</span><br></pre></td></tr></table></figure><h2 id="è¿™æ˜¯å®æˆ˜"><a href="#è¿™æ˜¯å®æˆ˜" class="headerlink" title="è¿™æ˜¯å®æˆ˜"></a>è¿™æ˜¯å®æˆ˜</h2><blockquote><p>é¡¹ç›®é‡‡ç”¨çš„æ¡†æ¶æ˜¯ <code>oak</code>ï¼Œåº”è¯¥æ˜¯å¯¹åº”äº† Node.js çš„ <code>Koa</code>ï¼Œå¦‚æœä¹‹å‰ä½¿ç”¨è¿‡ <code>Koa</code> çš„è¯ï¼Œä½¿ç”¨ <code>oak</code> è¿™ä¸ªæ¡†æ¶åº”è¯¥ä¼šå¾ˆç†Ÿæ‚‰ã€‚</p></blockquote><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><p>å› ä¸ºç¬”è€…æ˜¯ç”¨çš„ VSCode åœ¨å¼€å‘ï¼Œæ‰€ä»¥åœ¨å¼€å§‹å†™ Deno é¡¹ç›®å‰æˆ‘ä»¬å…ˆåšå¥½ç›¸å…³è®¾ç½®ã€‚</p><p>åœ¨ <code>.vscode/settings.json</code> ä¸­å†™å…¥è®¾ç½®</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"deno.enable"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"deno.import_intellisense_origins"</span>: &#123;</span><br><span class="line">    <span class="attr">"https://deno.land"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"deno.lint"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"[typescript]"</span>: &#123;</span><br><span class="line">    <span class="attr">"editor.defaultFormatter"</span>: <span class="string">"denoland.vscode-deno"</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"[typescriptreact]"</span>: &#123;</span><br><span class="line">    <span class="attr">"editor.defaultFormatter"</span>: <span class="string">"denoland.vscode-deno"</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿å¾—ç¼–è¾‘å™¨åœ¨å†™ deno æ—¶èƒ½å¤Ÿè¿›è¡Œä»£ç æç¤ºã€‚</p><p>è™½ç„¶ Deno è¯´è‡ªå·±æ²¡æœ‰åƒ <a href="https://npmjs.com" target="_blank" rel="noopener">npmjs</a> é‚£æ ·çš„åŒ…ç®¡ç†ä¸­å¿ƒï¼Œä½†å…¶å®ä»–è¿˜æ˜¯æœ‰å±äºè‡ªå·±çš„ <a href="https://deno.land/std@0.83.0" target="_blank" rel="noopener">Denoæ ‡å‡†åº“</a>ï¼Œç›®å‰ç‰ˆæœ¬æ˜¯ <code>0.83.0</code>ã€‚<br>å½“æˆ‘ä»¬è¦ä½¿ç”¨ä¸€äº›æ ‡å‡†æ¨¡å—ï¼Œæ¯”å¦‚ <code>path</code>ï¼Œæˆ‘ä»¬å°±è¦å»å¼•å…¥æ ‡å‡†åº“ã€‚</p><h3 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">â””â”€â”€ deno-demo</span><br><span class="line">  â”œâ”€â”€ configs.ts <span class="comment"># é…ç½®ä¿¡æ¯æ–‡ä»¶</span></span><br><span class="line">  â”œâ”€â”€ db <span class="comment"># æ•°æ®åº“ç›®å½•</span></span><br><span class="line">  â”œâ”€â”€ controllers <span class="comment"># æ§åˆ¶å™¨ç›®å½•</span></span><br><span class="line">  â”œâ”€â”€ app.ts <span class="comment"># å…¥å£æ–‡ä»¶</span></span><br><span class="line">  â”œâ”€â”€ middlewares <span class="comment"># ä¸­é—´ä»¶ç›®å½•</span></span><br><span class="line">  â”œâ”€â”€ models <span class="comment"># æ¨¡å‹å®šä¹‰ç›®å½•</span></span><br><span class="line">  â”œâ”€â”€ routes.ts <span class="comment"># è·¯ç”±æ–‡ä»¶</span></span><br><span class="line">  â””â”€â”€ services <span class="comment"># æœåŠ¡å±‚ç¨‹åºç›®å½•</span></span><br></pre></td></tr></table></figure><h3 id="å…¥å£æ–‡ä»¶"><a href="#å…¥å£æ–‡ä»¶" class="headerlink" title="å…¥å£æ–‡ä»¶"></a>å…¥å£æ–‡ä»¶</h3><p><strong>app.ts</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Application &#125; <span class="keyword">from</span> <span class="string">"https://deno.land/x/oak/mod.ts"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; HOST, PORT &#125; <span class="keyword">from</span> <span class="string">"./configs.ts"</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">"./routes.ts"</span>;</span><br><span class="line"><span class="keyword">import</span> notFound <span class="keyword">from</span> <span class="string">"./controllers/notFound.ts"</span>;</span><br><span class="line"><span class="keyword">import</span> errorMiddleware <span class="keyword">from</span> <span class="string">"./middlewares/error.ts"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Application();</span><br><span class="line"></span><br><span class="line">app.use(errorMiddleware);</span><br><span class="line">app.use(router.routes());</span><br><span class="line">app.use(router.allowedMethods());</span><br><span class="line">app.use(notFound);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`Listening on <span class="subst">$&#123;PORT&#125;</span>...`</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"> <span class="keyword">await</span> app.listen(<span class="string">`<span class="subst">$&#123;HOST&#125;</span>:<span class="subst">$&#123;PORT&#125;</span>`</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line"> <span class="built_in">console</span>.log(e)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»ä»¥ä¸Šçš„ä»£ç æ¥çœ‹ï¼Œæ•´ä¸ªæµç¨‹è·Ÿ Node.js ä½¿ç”¨ Koa å¼€å‘å‡ ä¹ä¸€æ ·ã€‚</p><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p><strong>configs.ts</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> env = Deno.env.toObject();</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> HOST = env.HOST || <span class="string">"127.0.0.1"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> PORT = env.PORT || <span class="number">3000</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> DB = env.DB || <span class="string">"./db/todos.json"</span>;</span><br></pre></td></tr></table></figure><p>åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® <code>HOST</code>ã€<code>PORT</code>ã€<code>DB</code> ç­‰å‚æ•°ã€‚</p><h3 id="è·¯ç”±é…ç½®"><a href="#è·¯ç”±é…ç½®" class="headerlink" title="è·¯ç”±é…ç½®"></a>è·¯ç”±é…ç½®</h3><p><strong>routes.ts</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Router &#125; <span class="keyword">from</span> <span class="string">"https://deno.land/x/oak/mod.ts"</span>;</span><br><span class="line"><span class="keyword">import</span> getTodos <span class="keyword">from</span> <span class="string">"./controllers/getTodos.ts"</span>;</span><br><span class="line"><span class="keyword">import</span> createTodo <span class="keyword">from</span> <span class="string">"./controllers/createTodo.ts"</span>;</span><br><span class="line"><span class="keyword">import</span> updateTodo <span class="keyword">from</span> <span class="string">"./controllers/updateTodo.ts"</span>;</span><br><span class="line"><span class="keyword">import</span> deleteTodo <span class="keyword">from</span> <span class="string">"./controllers/deleteTodo.ts"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> Router();</span><br><span class="line"></span><br><span class="line">router</span><br><span class="line"> .get(<span class="string">"/todos"</span>, getTodos)</span><br><span class="line"> .post(<span class="string">"/todos"</span>, createTodo)</span><br><span class="line"> .put(<span class="string">"/todos/:id"</span>, updateTodo)</span><br><span class="line"> .delete(<span class="string">"/todos/:id"</span>, deleteTodo);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p>è·¯ç”±æ–‡ä»¶ä¹Ÿå’Œä½¿ç”¨ <code>Koa-router</code> æ—¶çš„ä»£ç å·®ä¸å¤šã€‚</p><h3 id="å®šä¹‰æ¨¡å‹ï¼ˆmodelï¼‰"><a href="#å®šä¹‰æ¨¡å‹ï¼ˆmodelï¼‰" class="headerlink" title="å®šä¹‰æ¨¡å‹ï¼ˆmodelï¼‰"></a>å®šä¹‰æ¨¡å‹ï¼ˆmodelï¼‰</h3><p>å®šä¹‰æ¨¡å‹åœ¨æœ¬é¡¹ç›®ä¸­ä½“ç°ä¸ºå®šä¹‰äº†ä¸€ä¸ªæ¥å£</p><p><strong>model/todo.ts</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> Todo &#123;</span><br><span class="line"> id: <span class="built_in">string</span>;</span><br><span class="line"> userId: <span class="built_in">number</span>;</span><br><span class="line"> title: <span class="built_in">string</span>;</span><br><span class="line"> status: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°æ®æ“ä½œ"><a href="#æ•°æ®æ“ä½œ" class="headerlink" title="æ•°æ®æ“ä½œ"></a>æ•°æ®æ“ä½œ</h3><p><strong>service/db.ts</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; DB &#125; <span class="keyword">from</span> <span class="string">"../configs.ts"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Todo &#125; <span class="keyword">from</span> <span class="string">"../models/todo.ts"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å– Todo æ•°æ®</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fetchTodo = <span class="keyword">async</span> (): <span class="built_in">Promise</span>&lt;Todo[]&gt; =&gt; &#123;</span><br><span class="line"> <span class="keyword">const</span> data = <span class="keyword">await</span> Deno.readFile(DB);</span><br><span class="line"> <span class="keyword">const</span> decoder = <span class="keyword">new</span> TextDecoder();</span><br><span class="line"> <span class="keyword">const</span> decodedData = decoder.decode(data);</span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(decodedData);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™å…¥ Todo æ•°æ®</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> persistTodo = <span class="keyword">async</span> (data: Todo[]): <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt; =&gt; &#123;</span><br><span class="line"> <span class="keyword">const</span> encoder = <span class="keyword">new</span> TextEncoder();</span><br><span class="line"> <span class="keyword">await</span> Deno.writeFile(DB, encoder.encode(<span class="built_in">JSON</span>.stringify(data)));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ•°æ®çš„å¢åˆ æ”¹æŸ¥"><a href="#æ•°æ®çš„å¢åˆ æ”¹æŸ¥" class="headerlink" title="æ•°æ®çš„å¢åˆ æ”¹æŸ¥"></a>æ•°æ®çš„å¢åˆ æ”¹æŸ¥</h3><p>è¯¦æƒ…è§é¡¹ç›®çš„ <code>controllers</code> ä¸‹çš„æ–‡ä»¶</p><h3 id="Not-Found"><a href="#Not-Found" class="headerlink" title="Not Found"></a>Not Found</h3><p>å½“ api ä¸èƒ½åŒ¹é…åˆ°å¯¹åº”çš„è·¯ç”±æ—¶ï¼Œè¿”å› <code>Not Found</code> ä¿¡æ¯</p><p><strong>controllers/notFound.ts</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Response &#125; <span class="keyword">from</span> <span class="string">"https://deno.land/x/oak/mod.ts"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123; response &#125;: &#123; response: Response &#125;) =&gt; &#123;</span><br><span class="line"> response.status = <span class="number">404</span>;</span><br><span class="line"> response.body = &#123; message: <span class="string">"Not Found"</span> &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ä¸­é—´ä»¶-Middlewares"><a href="#ä¸­é—´ä»¶-Middlewares" class="headerlink" title="ä¸­é—´ä»¶ Middlewares"></a>ä¸­é—´ä»¶ <code>Middlewares</code></h3><p>æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªä¸­é—´ä»¶ <code>error.ts</code> æ¥å¤„ç†è¯»ä¸åˆ°æ•°æ®çš„é”™è¯¯</p><p><strong>moddlewares/error.ts</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Response &#125; <span class="keyword">from</span> <span class="string">"https://deno.land/x/oak/mod.ts"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> (</span><br><span class="line"> &#123; response &#125;: &#123; response: Response &#125;,</span><br><span class="line"> next: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt;,</span><br><span class="line">) =&gt; &#123;</span><br><span class="line"> <span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> next();</span><br><span class="line"> &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">  response.status = <span class="number">500</span>;</span><br><span class="line">  response.body = &#123; message: err.message &#125;;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>åœ¨è¿›è¡Œä»¥ä¸Šä»£ç çš„å†™å…¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œ <code>run</code> æ•´ä¸ªé¡¹ç›®äº†</p><p>æ³¨æ„ <code>run</code> çš„æ—¶å€™è¦å¸¦ä¸Š <code>-A</code> æˆ– <code>--allow-all</code>ï¼Œæ„æ€æ˜¯ç»™äºˆå…¨éƒ¨æƒé™ç»™å½“å‰é¡¹ç›®ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">deno run -A ./app.ts</span><br><span class="line"></span><br><span class="line">Check file:///D:/DenoDemo/app.ts</span><br><span class="line">Listening on 3000...</span><br></pre></td></tr></table></figure><p>okï¼æ•´ä¸ªé¡¹ç›®å°±è·‘èµ·æ¥å•¦ã€‚è¿™æ¬¡ deno çš„åˆä½“éªŒä¹Ÿå°±å®Œæˆäº†ã€‚å®Œæ•´ä»£ç çš„åœ°å€æ˜¯ <a href="https://github.com/Kaviilee/deno-demo" target="_blank" rel="noopener">deno-demo</a>ã€‚</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol><li>ä¸èƒ½å¼€ä»£ç†ã€‚å¦åˆ™æ— æ³•è¿è¡Œ</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ–°çš„ä¸€å¹´æ–°çš„å¼€å§‹ï¼æ–°çš„ä¸œè¥¿ï¼Œå­¦èµ·ï¼(æ‰¶æœ•èµ·æ¥ï¼Œæœ•è¿˜å¯ä»¥å†å­¦&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>è®°ä¸€æ¬¡æ–‡å­—æ‹·è´</title>
    <link href="https://kaviilee.github.io/blog/2020/12/29/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%96%87%E5%AD%97%E6%8B%B7%E8%B4%9D/"/>
    <id>https://kaviilee.github.io/blog/2020/12/29/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%96%87%E5%AD%97%E6%8B%B7%E8%B4%9D/</id>
    <published>2020-12-29T14:54:50.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p><code>Clipboard API</code>ï¼Œâ€œèˆ¹æ–°â€çš„æµè§ˆå™¨ä¸ç³»ç»Ÿå‰ªè´´æ¿äº¤äº’çš„å¼‚æ­¥ APIã€‚</p><a id="more"></a><h2 id="å°å°çš„ç¢ç¢å¿µ"><a href="#å°å°çš„ç¢ç¢å¿µ" class="headerlink" title="å°å°çš„ç¢ç¢å¿µ"></a>å°å°çš„ç¢ç¢å¿µ</h2><p>æ°å·§å‰æ®µæ—¶é—´è¦åš <code>å¤åˆ¶åˆ°å‰ªè´´æ¿</code> è¿™ä¸ªåŠŸèƒ½ï¼Œå°±å»æŸ¥äº†ä¸€ä¸‹å®ç°æ–¹å¼ï¼Œå¤§è‡´éƒ½æ˜¯ <code>document.execCommand</code> æ¥å®ç°ã€‚ä½¿ç”¨çš„æ—¶å€™æ²¡å¤šæ³¨æ„è¿™ä¸ª API å·²ç»åºŸå¼ƒï¼Œä¹‹åå‘ç°äº†ï¼Œè§‰å¾—æ—¢ç„¶åºŸå¼ƒå°±åº”è¯¥æœ‰æ›¿ä»£çš„ã€‚äºæ˜¯å†ç»§ç»­æŸ¥äº†æŸ¥ï¼ŒåŸæ¥ç¡®å®æ˜¯æœ‰æ›¿ä»£ï¼Œå°±æ˜¯ä»Šå¤©çš„ä¸»è§’ <code>Clipboard API</code>ã€‚</p><p>æ¥ä¸‹æ¥å°±æ˜¯é€šè¿‡æ¯”å¯¹ <code>document.execCommand</code> ä¸ <code>Clipboard API</code> çš„ä½¿ç”¨æ–¹æ³•æ¥ä»‹ç»è¿™ä¸¤ç§æ–¹å¼çš„åŒºåˆ«ï¼Œæ¥è®¤è¯† <code>Clipboard API</code>ã€‚</p><h2 id="å†™å…¥ç³»ç»Ÿå‰ªè´´æ¿"><a href="#å†™å…¥ç³»ç»Ÿå‰ªè´´æ¿" class="headerlink" title="å†™å…¥ç³»ç»Ÿå‰ªè´´æ¿"></a>å†™å…¥ç³»ç»Ÿå‰ªè´´æ¿</h2><p>æœ‰ä¸¤ç§æ–¹å¼å‘ç³»ç»Ÿå‰ªè´´æ¿å†™å…¥æ•°æ®ã€‚<code>document.execCommand</code> è§¦å‘ <code>cut</code> å’Œ <code>copy</code> æ¥å†™å…¥ï¼›å¦ä¸€ç§æ–¹å¼å°±æ˜¯ä½¿ç”¨ <code>Clipboard API</code> çš„ <code>writeText()</code> æˆ– <code>write()</code> å†™å…¥æ•°æ®ã€‚ </p><h3 id="ä½¿ç”¨-document-execCommand"><a href="#ä½¿ç”¨-document-execCommand" class="headerlink" title="ä½¿ç”¨ document.execCommand"></a>ä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/execCommand" target="_blank" rel="noopener">document.execCommand</a></h3><blockquote><p>bool = document.execCommand(aCommandName, aShowDefaultUI, aValueArgument)</p><p>è¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼Œå¦‚æœæ˜¯ <code>false</code> åˆ™è¡¨ç¤ºæ“ä½œä¸è¢«æ”¯æŒæˆ–æœªè¢«å¯ç”¨ã€‚</p><p>document.execCommand æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ APIï¼Œä½†æˆ‘ä»¬è¿™é‡Œåªç”¨åˆ°äº†å®ƒçš„ <code>cut</code>ï¼Œ<code>copy</code>ï¼Œ<code>paste</code></p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const copy &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    const copyEle &#x3D; document.querySelector(&#39;#copy&#39;) as HTMLInputElement</span><br><span class="line">    copyEle.select()</span><br><span class="line">   const success &#x3D; document.execCommand(&#39;copy&#39;)</span><br><span class="line">    if (success) &#123;</span><br><span class="line">        alert(&#39;å·²å°†æ–‡æœ¬å¤åˆ¶åˆ°å‰ªè´´æ¿&#39;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        alert(&#39;å¤åˆ¶å¤±è´¥&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;input value&#x3D;&quot;è¿™æ˜¯ä¸€ä¸ªcopyæµ‹è¯•&quot; id&#x3D;&quot;copy&quot; &#x2F;&gt;</span><br><span class="line">&lt;button onClick&#x3D;&#123;copy&#125;&gt;ç‚¹å‡»å¤åˆ¶&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-Clipboard-API"><a href="#ä½¿ç”¨-Clipboard-API" class="headerlink" title="ä½¿ç”¨ Clipboard API"></a>ä½¿ç”¨ <a href="https://www.w3.org/TR/clipboard-apis" target="_blank" rel="noopener">Clipboard API</a></h3><blockquote><p>ç›¸è¾ƒ <strong>document.execCommand</strong>ï¼Œ<strong>Clipboard API</strong> æ›´åŠ çµæ´»ï¼Œå®ƒä¸ä»…èƒ½å¤Ÿå°†å½“å‰é€‰æ‹©å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œè¿˜èƒ½å¤Ÿç›´æ¥æŒ‡å®šè¦æ”¾å…¥å‰ªè´´æ¿çš„ä¿¡æ¯ã€‚</p><p>ä¸åŒäº document.execCommandï¼ŒClipboard API éœ€è¦ç”³è¯· <code>clipboardRead</code> ä¸ <code>clipboardWrite</code> æƒé™ã€‚</p></blockquote><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>navigator.permissions.query()</code> æ¥æŸ¥è¯¢æƒé™ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">navigator.permissions.query(&#123; <span class="attr">name</span>: <span class="string">'clipboard-write'</span> &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (res.state === <span class="string">'granted'</span> || res.state === <span class="string">'prompt'</span>) &#123;</span><br><span class="line">        <span class="comment">// write your code</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ›´æ–°å‰ªè´´æ¿ä½¿ç”¨æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> updateClipboard = <span class="function">(<span class="params">newText</span>) =&gt;</span> &#123;</span><br><span class="line">    navigator.clipboard.writeText(newText).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// successfully set</span></span><br><span class="line">    &#125;, () =&gt; &#123;</span><br><span class="line">        <span class="comment">// failed</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸åŒæµè§ˆå™¨çš„å·®å¼‚"><a href="#ä¸åŒæµè§ˆå™¨çš„å·®å¼‚" class="headerlink" title="ä¸åŒæµè§ˆå™¨çš„å·®å¼‚"></a>ä¸åŒæµè§ˆå™¨çš„å·®å¼‚</h4><ul><li><strong>Chrome</strong><ul><li>å¯ä»¥åœ¨æ‰€æœ‰æ‰§è¡Œä¸Šä¸‹ä¸­å†™å…¥ç³»ç»Ÿå‰ªè´´æ¿</li><li>ä¸éœ€è¦æƒé™</li></ul></li><li><strong>Firefox</strong><ul><li>version 51 ä»¥ä¸Šæ‰å¼€å§‹æ”¯æŒ â€œclipboardWriteâ€ æƒé™</li></ul></li></ul><h4 id="å…·ä½“çš„å…¼å®¹æ€§"><a href="#å…·ä½“çš„å…¼å®¹æ€§" class="headerlink" title="å…·ä½“çš„å…¼å®¹æ€§"></a>å…·ä½“çš„å…¼å®¹æ€§</h4><ul><li><p>write</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/12/28/QhbqOFXy3TCeWcI.png" alt="caniuse-write"></p></li><li><p>writeText</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/12/28/x8OaLTZ3A6BuhN9.png" alt="caniuse-writeText"></p></li></ul><h2 id="è¯»å–ç³»ç»Ÿå‰ªè´´æ¿"><a href="#è¯»å–ç³»ç»Ÿå‰ªè´´æ¿" class="headerlink" title="è¯»å–ç³»ç»Ÿå‰ªè´´æ¿"></a>è¯»å–ç³»ç»Ÿå‰ªè´´æ¿</h2><p><code>document.execCommand</code> æä¾›äº† <code>paste</code> æŒ‡ä»¤ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿç²˜è´´å†…å®¹ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>Clipboard API</code> çš„ <code>read()</code> å’Œ <code>readText()</code></p><h3 id="ä½¿ç”¨-document-execCommand-1"><a href="#ä½¿ç”¨-document-execCommand-1" class="headerlink" title="ä½¿ç”¨ document.execCommand"></a>ä½¿ç”¨ <code>document.execCommand</code></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const paste &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    const pasteText &#x3D; document.querySelector(&#39;#output&#39;) as HTMLInputElement</span><br><span class="line">    pasteText.focus()</span><br><span class="line">    const success &#x3D; document.execCommand(&#39;paste&#39;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;input id&#x3D;&quot;output&quot; type&#x3D;&quot;text&quot;&#x2F;&gt;</span><br><span class="line">&lt;button onClick&#x3D;&#123;paste&#125;&gt;ç²˜è´´&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-Clipboard-API-1"><a href="#ä½¿ç”¨-Clipboard-API-1" class="headerlink" title="ä½¿ç”¨ Clipboard API"></a>ä½¿ç”¨ <code>Clipboard API</code></h3><p>åœ¨è·å¾—äº† â€œclipboard-readâ€ æƒé™ä¹‹åï¼Œå‰ªè´´æ¿çš„æ•°æ®è¯»å–</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">navigator.clipboard.readText().then(<span class="function"><span class="params">text</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.querySelector(<span class="string">'#output'</span>).innerText = text</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä»£ç ç‰‡æ®µä»å‰ªè´´æ¿æå–æ–‡æœ¬å¹¶ä¸”ç”¨è¯¥æ–‡æœ¬æ›¿æ¢ ID ä¸º <code>&quot;outbox&quot;</code> çš„å…ƒç´ çš„å½“å‰å†…å®¹ã€‚</p><h3 id="å…·ä½“çš„å…¼å®¹æ€§-1"><a href="#å…·ä½“çš„å…¼å®¹æ€§-1" class="headerlink" title="å…·ä½“çš„å…¼å®¹æ€§"></a>å…·ä½“çš„å…¼å®¹æ€§</h3><ul><li><p>read</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/12/28/IGuecb8V15aZyzo.png" alt="caniuse-read"></p></li><li><p>readText</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/12/28/5ftaJYc3DjElWIm.png" alt="caniuse-readText"></p></li></ul><h2 id="Clipboard-Event"><a href="#Clipboard-Event" class="headerlink" title="Clipboard Event"></a>Clipboard Event</h2><p>Clipboard API è¿˜å¯ä»¥è®©æˆ‘ä»¬å“åº” <code>å¤åˆ¶</code>ï¼Œ<code>å‰ªåˆ‡</code>ï¼Œ<code>ç²˜è´´</code> ç­‰äº‹ä»¶ã€‚åªéœ€è¦ç»™å…ƒç´ å¢åŠ å¯¹ <code>copy</code>ï¼Œ<code>cut</code> å’Œ <code>paste</code> äº‹ä»¶çš„ç›‘å¬ï¼Œå°±èƒ½å¤Ÿæ‹¦æˆªåˆ°äº‹ä»¶ä¹‹åè¿›è¡Œè‡ªå®šä¹‰çš„å¤„ç†ã€‚</p><p>Clipboard API ä¸­å®šä¹‰äº†ä¸€ä¸ª <code>ClipboardEvent</code>ï¼Œè€Œè¿™ä¸ª <code>ClipboardEvent</code> æœ‰ä¸€ä¸ªå±æ€§ <code>ClipboardData</code> (ç›®å‰è¿˜æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„å±æ€§)ï¼Œé¡¾åæ€ä¹‰è¿™æ˜¯å‰ªè´´æ¿æ•°æ®ã€‚</p><p><code>ClipboardData</code> å±æ€§æ˜¯ä¸€ä¸ª <a href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer" target="_blank" rel="noopener">DataTransfer</a> å¯¹è±¡ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š</p><ul><li><code>setData(format, data)</code>ï¼šå½“ç”¨æˆ·è¿›è¡Œå¤åˆ¶å’Œå‰ªè´´æ—¶ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥å†™å…¥ã€‚å‚æ•° <code>format</code>: DOMString è¡¨ç¤ºæ•°æ®çš„ç±»å‹ï¼Œå‚æ•° <code>data</code>: DOMString è¡¨ç¤ºæ•°æ®ã€‚</li><li><code>getData(format)</code>ï¼šå¯ä»¥åœ¨ç”¨æˆ·è¿›è¡Œç²˜è´´æ—¶å¤„ç†æ•°æ®ã€‚</li></ul><h3 id="æ‹¦æˆª-copyï¼Œcut-äº‹ä»¶"><a href="#æ‹¦æˆª-copyï¼Œcut-äº‹ä»¶" class="headerlink" title="æ‹¦æˆª copyï¼Œcut äº‹ä»¶"></a>æ‹¦æˆª <code>copy</code>ï¼Œ<code>cut</code> äº‹ä»¶</h3><p>é€šè¿‡æ‹¦æˆªç”¨æˆ·çš„ <code>copy</code> å’Œ <code>cut</code> äº‹ä»¶ï¼Œå¯ä»¥åšåˆ°æ›´æ”¹ç”¨æˆ·çš„å‰ªè´´æ¿æ•°æ®</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> handleCopy = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> selection = <span class="built_in">document</span>.getSelection()</span><br><span class="line">  e.clipboardData?.setData(<span class="string">'text/plain'</span>, <span class="string">`ä½ çš„å‰ªè´´æ¿æ•°æ®è¢«æˆ‘æ›´æ”¹äº†å“¦~~<span class="subst">$&#123;selection&#125;</span>`</span>)</span><br><span class="line">  e.preventDefault()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#copy'</span>).addEventListener(<span class="string">'copy'</span>, proxyClipboardCopy)</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ°åœ¨ç”¨æˆ·å¤åˆ¶ç‰¹å®šå…ƒç´ çš„å†…å®¹æ—¶ï¼Œåœ¨å¤åˆ¶å†…å®¹ä¸­åŠ å…¥ä½ æƒ³åŠ å…¥çš„ä¿¡æ¯ï¼Œæ¯”å¦‚: <strong>ç‰ˆæƒä¿¡æ¯</strong>ã€‚</p><h3 id="æ‹¦æˆª-paste-äº‹ä»¶"><a href="#æ‹¦æˆª-paste-äº‹ä»¶" class="headerlink" title="æ‹¦æˆª paste äº‹ä»¶"></a>æ‹¦æˆª <code>paste</code> äº‹ä»¶</h3><p>åˆ©ç”¨æ‹¦æˆªç”¨æˆ·çš„ <code>paste</code> äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ°æ›´å¤šçš„äº‹æƒ…ï¼Œæ¯”å¦‚å¯Œæ–‡æœ¬ç¼–è¾‘ä¸­çš„ç²˜è´´å›¾ç‰‡ä¹‹åè‡ªåŠ¨ä¸Šä¼ æˆ–è€…è¿›è¡Œ base64 è½¬æ¢ä¹‹ç±»çš„æ“ä½œã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;textarea id&#x3D;&quot;input&quot; placeholder&#x3D;&quot;è¯·å¼€å§‹ä½ çš„è¡¨æ¼”&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">const handlePaste &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class="line">  const input &#x3D; document.querySelector(&#39;#input&#39;)</span><br><span class="line">  input.addEventListener(&#39;paste&#39;, () &#x3D;&gt; &#123;</span><br><span class="line">    const text &#x3D; e.clipboardData.getData(&#39;text&#x2F;plain&#39;)</span><br><span class="line">    console.log(text)</span><br><span class="line">    e.preventDefault()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¯´ä¸€ä¸ªå°çŸ¥è¯† <code>document.execCommand</code> è¿™ä¸ª API æœ¬èº«ä¹Ÿä¸æ˜¯æ ‡å‡† APIï¼Œè¿™æ˜¯ IE çš„ç§æœ‰ APIï¼Œåªæ˜¯è¢«å…¶ä»–æµè§ˆå™¨åšäº†å…¼å®¹æ”¯æŒã€‚è€Œè¿™ä¸ª API è¢«åºŸå¼ƒçš„åŸå› ä¸»è¦æ˜¯å®‰å…¨é—®é¢˜ï¼Œå®ƒä¸éœ€è¦ä»»ä½•æƒé™å°±èƒ½æ‰§è¡Œä¸€äº›æ•æ„Ÿæ“ä½œï¼Œè¿˜æœ‰å°±æ˜¯è¿™æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œè€Œä¸”æ˜¯æ“ä½œ DOM å¯¹è±¡çš„ï¼Œä¼šé˜»å¡é¡µé¢æ¸²æŸ“å’Œè„šæœ¬æ‰§è¡Œã€‚</p><p>å¯èƒ½å°±æ˜¯è¦è§£å†³ä»¥ä¸Šçš„ä¸¤ä¸ªé—®é¢˜ï¼Œ<code>Clipboard API</code> è¢«è®¾è®¡æˆäº†éœ€è¦ç›¸å¯¹åº”çš„æƒé™æ‰èƒ½ä½¿ç”¨çš„å¼‚æ­¥æ–¹æ³•ã€‚</p><p>ç›®å‰å„ä¸ªæµè§ˆå™¨å¯¹ <code>Clipboard API</code> çš„æ”¯æŒä¸ç›¸åŒï¼Œå°¤å…¶æ˜¯åœ¨èƒ½å¤Ÿå¤åˆ¶æ›´å¤æ‚å†…å®¹çš„ <code>write</code> å’Œ <code>read</code> ä¸Šï¼ŒChrome å®ç°äº†è€Œ Firefox å´è¿˜æ²¡æœ‰å®ç°ã€‚è€Œä¸”å…·ä½“çš„è§„èŒƒå’Œæ ‡å‡†ä¹Ÿè¿˜å¤„åœ¨å·¥ä½œè‰æ¡ˆé˜¶æ®µã€‚ç›¸è¾ƒäºå·²ç»è¢«åºŸå¼ƒçš„ <code>execCommand</code> ï¼Œ<code>Clipboard API</code> ä¹‹åä¼šå‘å±•æˆå•¥æ ·ä¹Ÿæ˜¯è›®å€¼å¾—æœŸå¾…çš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;Clipboard API&lt;/code&gt;ï¼Œâ€œèˆ¹æ–°â€çš„æµè§ˆå™¨ä¸ç³»ç»Ÿå‰ªè´´æ¿äº¤äº’çš„å¼‚æ­¥ APIã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://kaviilee.github.io/blog/categories/javascript/"/>
    
    
  </entry>
  
  <entry>
    <title>linear-gradientç¬”è®°</title>
    <link href="https://kaviilee.github.io/blog/2020/12/21/linear-gradient%E7%AC%94%E8%AE%B0/"/>
    <id>https://kaviilee.github.io/blog/2020/12/21/linear-gradient%E7%AC%94%E8%AE%B0/</id>
    <published>2020-12-21T15:15:25.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰ç”¨ <code>background-image</code> çš„ <code>linear-gradient</code> ç”»äº†ä¸‹åˆ’çº¿ï¼Œè§‰å¾—å¾ˆç¥å¥‡ï¼Œå°±å»è®¤çœŸå­¦ä¹ äº†ä¸€ä¸‹ã€‚åšäº†äº›å°ç¬”è®°ï¼Œå¤‡å¿˜ã€‚</p><a id="more"></a><h2 id="æ¸å˜çº¿çš„æ„æˆ"><a href="#æ¸å˜çº¿çš„æ„æˆ" class="headerlink" title="æ¸å˜çº¿çš„æ„æˆ"></a>æ¸å˜çº¿çš„æ„æˆ</h2><blockquote><p>CSS linear-gradient() å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªè¡¨ç¤ºä¸¤ç§æˆ–å¤šç§é¢œè‰²çº¿æ€§æ¸å˜çš„å›¾ç‰‡ã€‚å…¶ç»“æœå±äº <code>&lt;gradient&gt;</code> æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸€ç§ç‰¹åˆ«çš„ <code>&lt;image&gt;</code> æ•°æ®ç±»å‹ã€‚</p></blockquote><p>ä»¥ä¸Šæ˜¯ mdn å…³äº <code>linear-gradient</code> çš„å®šä¹‰ã€‚è¯­æ³•å¦‚ä¸‹</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">linear-gradient</span>(</span><br><span class="line">  <span class="selector-attr">[ &lt;angle&gt; | to &lt;side-or-corner&gt; ,]</span>? &lt;<span class="selector-tag">color-stop-list</span>&gt; )</span><br><span class="line">  \---------------------------------/ \----------------------------/</span><br><span class="line">    <span class="selector-tag">Definition</span> <span class="selector-tag">of</span> <span class="selector-tag">the</span> <span class="selector-tag">gradient</span> <span class="selector-tag">line</span>        <span class="selector-tag">List</span> <span class="selector-tag">of</span> <span class="selector-tag">color</span> <span class="selector-tag">stops</span></span><br><span class="line"></span><br><span class="line">where &lt;side-or-corner&gt; = [ left | right ] || [ top | bottom ]</span><br><span class="line">  and &lt;color-stop-list&gt; = [ &lt;linear-color-stop&gt; [, &lt;color-hint&gt;? ]? ]#, &lt;linear-color-stop&gt;</span><br><span class="line">  and &lt;linear-color-stop&gt; = &lt;color&gt; [ &lt;color-stop-length&gt; ]?</span><br><span class="line">  and &lt;color-stop-length&gt; = [ &lt;percentage&gt; | &lt;length&gt; ]&#123;1,2&#125;</span><br><span class="line">  and &lt;color-hint&gt; = [ &lt;percentage&gt; | &lt;length&gt; ] // é¢œè‰²ä¸­è½¬ç‚¹</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°è¡¨ç¤ºæ¥å—<strong>ç¬¬ä¸€ä¸ªå‚æ•°</strong>ä¸ºæ˜¯æ¸å˜çš„è§’åº¦ï¼Œå®ƒå¯ä»¥æ˜¯å•ä½ä¸º <code>deg</code>ï¼Œ<code>rad</code>ï¼Œ<code>grad</code> æˆ– <code>turn</code> çš„å…·ä½“çš„è§’åº¦å€¼ï¼ˆè¯¥è§’åº¦æ˜¯é¡ºæ—¶é’ˆå¢åŠ çš„ï¼‰ï¼›è¿˜å¯ä»¥æ˜¯ <code>to</code> å’Œè¡¨ç¤ºæ–¹å‘çš„å…³é”®è¯ï¼ˆ<code>top</code>ï¼Œ<code>right</code>ï¼Œ<code>bottom</code>ï¼Œ<code>left</code> è¿™äº›å€¼ä¼šè¢«è½¬æ¢æˆ 0Â°ï¼Œ90Â°ï¼Œ180Â°ï¼Œ270Â°ï¼Œå…¶ä½™å€¼ä¼šè¢«è½¬æ¢æˆä¸€ä¸ªä»¥é¡¶éƒ¨ä¸­å¤®æ–¹å‘ä¸ºèµ·ç‚¹é¡ºæ—¶é’ˆæ—‹è½¬çš„è§’åº¦ï¼‰ï¼Œå…³é”®è¯å…ˆåé¡ºåºæ— å½±å“ï¼Œéƒ½æ˜¯å¯é€‰çš„ã€‚<strong>ç¬¬äºŒä¸ªå‚æ•°</strong>æ˜¯ä¸€ç³»åˆ—çš„é¢œè‰²èŠ‚ç‚¹ï¼Œç”±ä¸€ä¸ª <code>&lt;color&gt;</code> å€¼ç»„æˆï¼Œå¹¶ä¸”ä¼´éšä¸€ä¸ªå¯é€‰çš„ç»ˆç‚¹ä½ç½®ï¼Œè¿™ä¸ªç»ˆç‚¹ä½ç½®å¯ä»¥æ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”å€¼æˆ–è€…æ˜¯æ²¿ç€æ¸å˜è½´çš„ <code>&lt;length&gt;</code>ã€‚</p><h3 id="æ¸å˜å®¹å™¨"><a href="#æ¸å˜å®¹å™¨" class="headerlink" title="æ¸å˜å®¹å™¨"></a>æ¸å˜å®¹å™¨</h3><p>æ¸å˜å›¾åƒæ˜¯æ²¡æœ‰å†…åœ¨å°ºå¯¸çš„ï¼Œæ˜¯æ— é™å¤§çš„ã€‚é‚£ä¹ˆ <code>linear-gradient</code> å‡½æ•°çš„å…·ä½“å°ºå¯¸ç”±æ¸å˜å®¹å™¨çš„å¤§å°å†³å®šã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœç»™ä¸€ä¸ªå…ƒç´ çš„ <code>background-image</code> ä½¿ç”¨ <code>linear-gradient</code>ï¼Œé‚£ä¹ˆæ¸å˜çš„åŒºåŸŸå°±æ˜¯è¯¥å…ƒç´ çš„åŒºåŸŸã€‚è€Œå¦‚æœè¯¥å…ƒç´ è®¾ç½®äº† <code>background-size</code> æ¸å˜å®¹å™¨å°±ä¼šå˜æˆè®¾ç½®çš„ <code>background-size</code> å¤§å°ã€‚</p><h3 id="æ¸å˜çº¿"><a href="#æ¸å˜çº¿" class="headerlink" title="æ¸å˜çº¿"></a>æ¸å˜çº¿</h3><blockquote><p>æ¸å˜çº¿(Gradient line)ç”±åŒ…å«æ¸å˜å›¾å½¢çš„å®¹å™¨çš„ä¸­å¿ƒç‚¹å’Œä¸€ä¸ªè§’åº¦æ¥å®šä¹‰çš„ã€‚</p></blockquote><p>è¿™é‡Œå€Ÿç”¨ä¸€ä¸‹ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/linear-gradient()" target="_blank" rel="noopener">mdn</a> çš„å›¾ç‰‡</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://developer.mozilla.org/files/3537/linear-gradient.png" alt="linear-gradient"></p><h3 id="æ¸å˜è§’åº¦"><a href="#æ¸å˜è§’åº¦" class="headerlink" title="æ¸å˜è§’åº¦"></a>æ¸å˜è§’åº¦</h3><p><code>linear-gradient</code> æ˜¯é€šè¿‡æ¸å˜è§’åº¦æ¥æ§åˆ¶æ¸å˜çš„æ–¹å‘çš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/12/21/7GzHpLmk1Q6w5s9.png" alt="æ¸å˜è§’åº¦"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œçº¢çº¿å°±æ˜¯æ¸å˜è§’åº¦ã€‚ä¸Šæ–‡ä¸­æœ‰è¯´åˆ°ï¼Œå®šä¹‰è¿™ä¸ªè§’åº¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><ul><li>ä½¿ç”¨æ–¹å‘å…³é”®è¯ï¼š<code>to &lt;top | right | bottom | left | top right | top left | bottom right | bottom left&gt;</code></li><li>ä½¿ç”¨å…·ä½“çš„è§’åº¦å€¼ï¼šæ¯”å¦‚ <code>45deg</code></li></ul><p>å¦‚æœç¼ºçœè§’åº¦å€¼ï¼Œé»˜è®¤å€¼å°±æ˜¯ <code>to bottom (180deg)</code> </p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/12/21/ug8wz2qYCJiPmbS.png" alt="default"></p><p>è¿™é‡Œæ–¹å‘å…³é”®è¯æœ‰å…¶å¯¹åº”çš„å…·ä½“è§’åº¦å€¼:</p><p><code>top(0deg)</code>ï¼Œ<code>right(90deg)</code>ï¼Œ<code>bottom(180deg)</code>ï¼Œ<code>left(270deg)</code>ã€‚</p><p>è€Œå¦‚æœæ˜¯æ˜¯ä½¿ç”¨ <code>to top left</code> è¿™ç§å¤åˆçš„é¡¶è§’å…³é”®è¯ï¼Œå°±æ²¡æœ‰å¯¹åº”çš„å›ºå®šè§’åº¦ã€‚å› ä¸ºå®ƒä¾èµ–çš„æ˜¯æ¸å˜å®¹å™¨çš„å°ºå¯¸ï¼Œå¦‚æœå®¹å™¨åˆšå¥½æ˜¯ä¸€ä¸ªæ­£æ–¹å½¢ï¼Œé‚£ä¹ˆ <code>to top right</code> å’Œ <code>45deg</code> çš„æ•ˆæœæ˜¯ä¸€æ ·ã€‚</p><h3 id="æ¸å˜è‰²èŠ‚ç‚¹-linear-color-stop"><a href="#æ¸å˜è‰²èŠ‚ç‚¹-linear-color-stop" class="headerlink" title="æ¸å˜è‰²èŠ‚ç‚¹ (linear color stop)"></a>æ¸å˜è‰²èŠ‚ç‚¹ (linear color stop)</h3><p>æ¸å˜è‰²èŠ‚ç‚¹å¯ä»¥è¿™æ ·å®šä¹‰ï¼š</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;linear-color-stop&gt; = &lt;color&gt; [ &lt;percentage&gt; | &lt;length&gt; ]?</span><br></pre></td></tr></table></figure><p>è¿™æ„å‘³ç€é¢œè‰²åœ¨æ¸å˜çº¿ä¸Šçš„ä½ç½®å¹¶ä¸éœ€è¦å¼ºåˆ¶æä¾›ã€‚</p><p>å¦‚æœæ²¡æœ‰æä¾›é¢œè‰²åœ¨æ¸å˜çº¿ä¸Šçš„ä½ç½®ï¼Œé¢œè‰²çš„ä½ç½®å°±ä¼šæ²¿ç€æ¸å˜çº¿å¹³å‡åˆ†å¸ƒã€‚å¦‚æœåªæœ‰ 2 ä¸ªé¢œè‰²ï¼Œé‚£ä¹ˆé¢œè‰² 1 å°†è¢«æ”¾åœ¨ <code>0%</code> çš„ä½ç½®ï¼Œé¢œè‰² 2 å°±è¢«æ”¾åœ¨ <code>100%</code> çš„ä½ç½®ï¼›å¦‚æœæœ‰ 3 ä¸ªé¢œè‰²ï¼Œé‚£ä¹ˆé¢œè‰² 1 åœ¨ <code>0%</code>ï¼Œé¢œè‰² 2 åœ¨ <code>50%</code>ï¼Œé¢œè‰² 3 åœ¨ <code>100%</code>ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>è¿ç”¨å¥½ <code>linear-gradient</code> å¯ä»¥è®©ä½ çš„é¡µé¢æ›´å¥½çœ‹(æ˜¯çœŸçš„</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰ç”¨ &lt;code&gt;background-image&lt;/code&gt; çš„ &lt;code&gt;linear-gradient&lt;/code&gt; ç”»äº†ä¸‹åˆ’çº¿ï¼Œè§‰å¾—å¾ˆç¥å¥‡ï¼Œå°±å»è®¤çœŸå­¦ä¹ äº†ä¸€ä¸‹ã€‚åšäº†äº›å°ç¬”è®°ï¼Œå¤‡å¿˜ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="CSS" scheme="https://kaviilee.github.io/blog/categories/css/"/>
    
    
      <category term="CSS" scheme="https://kaviilee.github.io/blog/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨background-imageç”»è™šçº¿</title>
    <link href="https://kaviilee.github.io/blog/2020/12/14/%E4%BD%BF%E7%94%A8background-image%E7%94%BB%E8%99%9A%E7%BA%BF/"/>
    <id>https://kaviilee.github.io/blog/2020/12/14/%E4%BD%BF%E7%94%A8background-image%E7%94%BB%E8%99%9A%E7%BA%BF/</id>
    <published>2020-12-14T14:54:50.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨çŸ¥é“å¯ä»¥ç”¨ <code>background-image</code> çš„æ¸å˜æ¥å®šä¹‰è™šçº¿ä¹‹å‰æˆ‘éƒ½æ˜¯ç”¨ <code>border-bottom: 1px dashed #ccc</code> çš„ã€‚æ˜¯æ–°çš„çŸ¥è¯†ï¼Œè€¶ï¼</p><a id="more"></a><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span>background-image<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ä¼ ç»Ÿçš„-border"><a href="#ä¼ ç»Ÿçš„-border" class="headerlink" title="ä¼ ç»Ÿçš„ border"></a>ä¼ ç»Ÿçš„ border</h2><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    </span><br><span class="line">    <span class="selector-class">.item</span> &#123;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">16px</span>;</span><br><span class="line">        <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ border çš„æ•ˆæœå¦‚ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/12/14/dHDhBA2OSG7cy9u.png" alt="border-bottom.png"></p><h2 id="ä½¿ç”¨-background-image"><a href="#ä½¿ç”¨-background-image" class="headerlink" title="ä½¿ç”¨ background-image"></a>ä½¿ç”¨ background-image</h2><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    </span><br><span class="line">    <span class="selector-class">.item</span> &#123;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">16px</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="selector-tag">&amp;</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">            <span class="attribute">position</span>: absolute;</span><br><span class="line">            <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">            <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// important</span></span><br><span class="line">            <span class="attribute">background-image</span>: linear-gradient(to right, <span class="number">#ccc</span> <span class="number">0%</span>, <span class="number">#ccc</span> <span class="number">50%</span>, transparent <span class="number">50%</span>);</span><br><span class="line">            <span class="comment">// è®¾ç½®å›¾ç‰‡å®½åº¦ä¸é«˜åº¦</span></span><br><span class="line">            <span class="attribute">background-size</span>: <span class="number">20px</span> <span class="number">1px</span>;</span><br><span class="line">            <span class="attribute">background-repeat</span>: repeat-x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/12/14/mqUpH1GbIjc54Ru.png" alt="background-image.png"></p><p>ä½¿ç”¨ <code>background-image</code> å°±å¯ä»¥é€šè¿‡æ”¹å˜ <code>background-size</code> æ¥æ”¹å˜è™šçº¿çš„é—´è·ã€‚</p><p>å¦‚æœè¦æ”¹å˜è™šçº¿çš„æ–¹å‘ï¼Œéœ€è¦ä¿®æ”¹ widthï¼Œheightï¼Œbackground-imageï¼Œ background-repeat å’Œ background-sizeã€‚</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">&amp;</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: linear-gradient(to bottom, <span class="number">#ccc</span> <span class="number">0%</span>, <span class="number">#ccc</span> <span class="number">50%</span>, transparent <span class="number">50%</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: repeat-y;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">1px</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨çŸ¥é“å¯ä»¥ç”¨ &lt;code&gt;background-image&lt;/code&gt; çš„æ¸å˜æ¥å®šä¹‰è™šçº¿ä¹‹å‰æˆ‘éƒ½æ˜¯ç”¨ &lt;code&gt;border-bottom: 1px dashed #ccc&lt;/code&gt; çš„ã€‚æ˜¯æ–°çš„çŸ¥è¯†ï¼Œè€¶ï¼&lt;/p&gt;
    
    </summary>
    
    
      <category term="CSS" scheme="https://kaviilee.github.io/blog/categories/css/"/>
    
    
  </entry>
  
  <entry>
    <title>antd form è‡ªå®šä¹‰æ ¡éªŒç›¸å…³é”™è¯¯é—®é¢˜</title>
    <link href="https://kaviilee.github.io/blog/2020/12/09/antd-form-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%A1%E9%AA%8C%E7%9B%B8%E5%85%B3%E9%94%99%E8%AF%AF%E9%97%AE%E9%A2%98/"/>
    <id>https://kaviilee.github.io/blog/2020/12/09/antd-form-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%A1%E9%AA%8C%E7%9B%B8%E5%85%B3%E9%94%99%E8%AF%AF%E9%97%AE%E9%A2%98/</id>
    <published>2020-12-09T14:17:35.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨ ant design form ç»„ä»¶è‡ªå®šä¹‰æ ¡éªŒï¼Œè¿›è¡Œè¿œç¨‹æ ¡éªŒæ•°æ®å”¯ä¸€æ€§çš„æ—¶å€™ï¼Œé‡åˆ°çš„ä¸€äº›é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•ã€‚</p><a id="more"></a><h2 id="é—®é¢˜èƒŒæ™¯"><a href="#é—®é¢˜èƒŒæ™¯" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h2><p>ä½¿ç”¨ <a href="https://ant.design/components/form-cn/" target="_blank" rel="noopener">ant design form</a> è®¾è®¡è¡¨å•æ—¶ï¼ŒæŸäº›å­—æ®µéœ€è¦è¿›è¡Œè¿œç¨‹æ ¡éªŒï¼Œæ¯”å¦‚ï¼šç”¨æˆ·å(username)ï¼Œæ‰‹æœºå·(mobile)ï¼Œå°±éœ€è¦è‡ªå®šä¹‰æ ¡éªŒè§„åˆ™ã€‚</p><h2 id="é”™è¯¯ç¤ºä¾‹"><a href="#é”™è¯¯ç¤ºä¾‹" class="headerlink" title="é”™è¯¯ç¤ºä¾‹"></a>é”™è¯¯ç¤ºä¾‹</h2><p>åœ¨éœ€è¦è¿›è¡Œæ ¡éªŒçš„åœ°æ–¹ï¼Œä¹‹å‰é”™è¯¯çš„å†™æ³•</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;** éªŒè¯å­—æ®µå”¯ä¸€æ€§</span><br><span class="line">* @param key å­—æ®µkey</span><br><span class="line">* @param value å­—æ®µvalue</span><br><span class="line">*&#x2F;</span><br><span class="line">const validateUnique &#x3D; (key: string, value: string): any &#x3D;&gt; &#123;</span><br><span class="line">  if (value) &#123;</span><br><span class="line">    remoteValidate(&#123; key, value &#125;).then((res: any) &#x3D;&gt; &#123;</span><br><span class="line">      if (res.success) &#123;</span><br><span class="line">        return res.data.isUnique;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).catch(e &#x3D;&gt; &#123;</span><br><span class="line">      message.error(e)</span><br><span class="line">      return false</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;Form.Item label&#x3D;&quot;ç”¨æˆ·å&quot; name&#x3D;&quot;username&quot; required rules&#x3D;&#123;[&#123; required: true, message: &#39;è¯·è¾“å…¥ç”¨æˆ·å&#39; &#125;, () &#x3D;&gt; (&#123;</span><br><span class="line">  validator(_, value) &#123;</span><br><span class="line">    if (!value || validateUnique(&#39;username&#39;, value)) &#123;</span><br><span class="line">      return Promise.resolve()</span><br><span class="line">    &#125;</span><br><span class="line">    return Promise.reject(&#39;å·²å­˜åœ¨ç›¸åŒçš„ç”¨æˆ·å&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)]&#125;&gt;</span><br><span class="line">  &lt;Input &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Form.Item&gt;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šçš„å†™æ³•èƒ½å¤Ÿæ ¡éªŒå­—æ®µå€¼ä¸ºç©ºæ—¶çš„é”™è¯¯ï¼Œä½†æ˜¯åœ¨è¿›è¡Œè¿œç¨‹æ ¡éªŒå­—æ®µå”¯ä¸€æ€§çš„æ—¶å€™ï¼Œå°±æ— æ³•éªŒè¯ã€‚<br><code>validateUnique</code> è¿”å›çš„å€¼ä¸€ç›´ä¸º <code>undefined</code>ï¼Œä½¿å¾—é”™è¯¯ä¸€ç›´æ˜¯ <code>å·²å­˜åœ¨ç›¸åŒçš„ç”¨æˆ·å</code>ã€‚</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>ä¸ºäº†è§£å†³æ ¡éªŒä¸€ç›´è¿”å› <code>undefined</code>ï¼Œæˆ‘ä»¬ä¿®æ”¹å†™æ³•ä¸º</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Form.Item label&#x3D;&quot;ç”¨æˆ·å&quot; name&#x3D;&quot;username&quot; required rules&#x3D;&#123;[&#123; required: true, message: &#39;è¯·è¾“å…¥ç”¨æˆ·å&#39; &#125;, () &#x3D;&gt; (&#123;</span><br><span class="line">  validator(_, value) &#123;</span><br><span class="line">    return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">      if (value) &#123;</span><br><span class="line">        remoteValidate(&#123; key: &#39;username&#39;, value &#125;).then(async (res) &#x3D;&gt; &#123;</span><br><span class="line">          if (res.data.isUnique) &#123;</span><br><span class="line">            return resolve()</span><br><span class="line">          &#125;</span><br><span class="line">          return reject(&#39;å·²å­˜åœ¨ç›¸åŒçš„æ‰‹æœºå·&#39;)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        return reject()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)]&#125;&gt;</span><br><span class="line">  &lt;Input &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Form.Item&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨ä½¿ç”¨ ant design form ç»„ä»¶è‡ªå®šä¹‰æ ¡éªŒï¼Œè¿›è¡Œè¿œç¨‹æ ¡éªŒæ•°æ®å”¯ä¸€æ€§çš„æ—¶å€™ï¼Œé‡åˆ°çš„ä¸€äº›é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æ¡†æ¶" scheme="https://kaviilee.github.io/blog/categories/%E6%A1%86%E6%9E%B6/"/>
    
    
      <category term="Antd v4" scheme="https://kaviilee.github.io/blog/tags/antd-v4/"/>
    
      <category term="react" scheme="https://kaviilee.github.io/blog/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>RESTful API ç®€ä»‹ä¸å®è·µ</title>
    <link href="https://kaviilee.github.io/blog/2020/10/21/restful/"/>
    <id>https://kaviilee.github.io/blog/2020/10/21/restful/</id>
    <published>2020-10-21T17:02:37.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>RESTful API ç›¸å…³</p><a id="more"></a><blockquote><p><strong>REST</strong> å…¨ç§° <strong>Representational State Transfer</strong>ï¼Œå³ã€Œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ã€ã€‚ç¬¦åˆ REST åŸåˆ™çš„æ¶æ„ï¼Œå°±è¢«ç§°ä¸º RESTful æ¶æ„ã€‚</p></blockquote><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><h3 id="ä¸€ã€èµ„æº-Resources"><a href="#ä¸€ã€èµ„æº-Resources" class="headerlink" title="ä¸€ã€èµ„æº (Resources)"></a>ä¸€ã€èµ„æº (Resources)</h3><p>REST çš„åç§°ã€Œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ã€çš„ä¸»è¯­å…¶å®æ˜¯æŒ‡çš„æ˜¯ã€Œèµ„æºã€(Resources)ï¼Œå³ â€œèµ„æºè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€ã€‚</p><p><strong>èµ„æº</strong>ï¼Œå°±æ˜¯ç½‘ç»œä¸Šçš„ä¸€ä¸ªå®ä½“ï¼Œæˆ–è€…è¯´æ˜¯ç½‘ç»œä¸Šçš„ä¸€ä¸ªå…·ä½“ä¿¡æ¯ã€‚å¯ä»¥æ˜¯æ–‡æœ¬ï¼Œå›¾ç‰‡ï¼Œæ­Œæ›²ï¼ŒæœåŠ¡ç­‰ç­‰ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ª <strong>URI</strong> æŒ‡å‘å®ƒï¼Œæ¯ç§èµ„æºå¯¹åº”ä¸€ä¸ªç‰¹å®šçš„ <strong>URI</strong>ã€‚è¦è·å¾—è¿™ä¸ªèµ„æºï¼Œè®¿é—®è¿™ä¸ª URIå°±å¯ä»¥ï¼Œå› æ­¤ <strong>URI</strong> ä¹Ÿå°±æˆäº†æ¯ä¸ªèµ„æºçš„åœ°å€æˆ–è€…ç‹¬ä¸€æ— äºŒçš„æ ‡è¯†ç¬¦ã€‚</p><h3 id="äºŒã€è¡¨ç°å±‚-Representation"><a href="#äºŒã€è¡¨ç°å±‚-Representation" class="headerlink" title="äºŒã€è¡¨ç°å±‚ (Representation)"></a>äºŒã€è¡¨ç°å±‚ (Representation)</h3><p>ã€Œèµ„æºã€æ˜¯ä¸€ç§ä¿¡æ¯å®ä½“ï¼Œå®ƒå¯ä»¥æœ‰å¤šç§å¤–åœ¨è¡¨ç°å½¢å¼ã€‚<strong>æˆ‘ä»¬æŠŠã€Œèµ„æºã€å…·ä½“å‘ˆç°å‡ºæ¥çš„å½¢å¼ï¼Œå«åšå®ƒçš„ã€Œè¡¨ç°å±‚ã€(Representation)</strong>ã€‚</p><p>æ¯”å¦‚ï¼Œæ–‡æœ¬å¯ä»¥ç”¨ txt æ ¼å¼è¡¨ç°ï¼Œä¹Ÿå¯ä»¥ç”¨ HTMLï¼ŒXMLï¼ŒJSONç­‰æ ¼å¼è¡¨ç°ï¼Œå›¾ç‰‡å¯ä»¥ç”¨ JPG æ ¼å¼è¡¨ç°ï¼Œä¹Ÿå¯ä»¥ç”¨ PNG æ ¼å¼è¡¨ç°ã€‚</p><p><strong>URI</strong> åªä»£è¡¨èµ„æºçš„å®ä½“ï¼Œä¸ä»£è¡¨è¡¨ç°å½¢å¼ã€‚å…·ä½“çš„è¡¨ç°æ ¼å¼ï¼Œå°±å±äºã€Œè¡¨ç°å±‚ã€çš„èŒƒç•´ï¼Œè€ŒURIåº”è¯¥åªä»£è¡¨ã€Œèµ„æºã€çš„ä½ç½®ã€‚å®ƒçš„å…·ä½“è¡¨ç°å½¢å¼ï¼Œåº”è¯¥åœ¨HTTPè¯·æ±‚çš„å¤´ä¿¡æ¯ä¸­ç”¨ Accept å’Œ Content-Type å­—æ®µæŒ‡å®šï¼Œè¿™ä¸¤ä¸ªå­—æ®µæ‰æ˜¯å¯¹ã€Œè¡¨ç°å±‚ã€çš„æè¿°ã€‚</p><h3 id="ä¸‰ã€çŠ¶æ€è½¬åŒ–-State-Transfer"><a href="#ä¸‰ã€çŠ¶æ€è½¬åŒ–-State-Transfer" class="headerlink" title="ä¸‰ã€çŠ¶æ€è½¬åŒ– (State Transfer)"></a>ä¸‰ã€çŠ¶æ€è½¬åŒ– (State Transfer)</h3><p>è®¿é—®ä¸€ä¸ªçŠ¶æ€ï¼Œå°±ä»£è¡¨äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ä¸€ä¸ªäº’åŠ¨è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¿…ç„¶æ¶‰åŠåˆ°æ•°æ®å’ŒçŠ¶æ€çš„å˜åŒ–ã€‚</p><p>äº’è”ç½‘é€šè®¯åè®® HTTP åè®®ï¼Œæ˜¯ä¸€ä¸ªæ— çŠ¶æ€åè®®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰çš„çŠ¶æ€éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚å› æ­¤ï¼Œ<strong>å®¢æˆ·ç«¯æƒ³è¦æ“ä½œæœåŠ¡å™¨ï¼Œå°±å¿…é¡»é€šè¿‡æŸç§æ‰‹æ®µï¼Œä½¿æœåŠ¡å™¨å‘ç”Ÿã€ŒçŠ¶æ€è½¬åŒ–ã€(State Transfer)ã€‚è€Œè¿™ç§è½¬åŒ–æ˜¯å»ºç«‹åœ¨è¡¨ç°å±‚ä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯ã€Œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ã€ã€‚</strong></p><p>åœ¨ HTTP åè®®ä¸­ï¼Œå››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯ï¼š<strong>GETï¼ŒPOSTï¼ŒPUTï¼ŒDELETE</strong>ã€‚ä»–ä»¬åˆ†åˆ«å¯¹åº”å››ç§åŸºæœ¬æ“ä½œï¼š<strong>GET è·å–èµ„æºï¼ŒPOST æ–°å»ºèµ„æº(ä¹Ÿå¯ä»¥æ›´æ–°èµ„æº)ï¼ŒPUT æ›´æ–°èµ„æºï¼ŒDELETE åˆ é™¤èµ„æº</strong>ã€‚</p><h3 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h3><p>æ€»ç»“ä¸€ä¸‹ RESTful æ¶æ„ï¼š</p><ol><li>æ¯ä¸€ä¸ª <strong>URI</strong> ä»£è¡¨ä¸€ç§èµ„æºï¼›</li><li>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œä¼ é€’è¿™ç§èµ„æºçš„è¡¨ç°å±‚ï¼›</li><li>å®¢æˆ·ç«¯é€šè¿‡å››ä¸ª HTTP åŠ¨è¯ï¼Œå¯¹æœåŠ¡ç«¯èµ„æºè¿›è¡Œæ“ä½œï¼Œå®ç°ã€Œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ã€ã€‚</li></ol><h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><h3 id="ä¸€ã€URLè®¾è®¡"><a href="#ä¸€ã€URLè®¾è®¡" class="headerlink" title="ä¸€ã€URLè®¾è®¡"></a>ä¸€ã€URLè®¾è®¡</h3><h4 id="1-1-åŠ¨è¯-å®¾è¯­"><a href="#1-1-åŠ¨è¯-å®¾è¯­" class="headerlink" title="1.1 åŠ¨è¯ + å®¾è¯­"></a>1.1 åŠ¨è¯ + å®¾è¯­</h4><p>RESTful çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼Œå®¢æˆ·ç«¯å‘å‡ºçš„æ•°æ®æ“ä½œæŒ‡ä»¤éƒ½æ˜¯ã€ŒåŠ¨è¯ + å®¾è¯­ã€çš„ç»“æ„ã€‚æ¯”å¦‚ï¼Œ<code>GET /todos</code> è¿™ä¸ªå‘½ä»¤ï¼Œ<code>GET</code> æ˜¯åŠ¨è¯ï¼Œ<code>/todos</code> æ˜¯å®¾è¯­ã€‚</p><p>åŠ¨è¯é€šå¸¸å°±æ˜¯äº”ç§ HTTP æ–¹æ³•ï¼Œå¯¹åº” CRUD æ“ä½œã€‚</p><blockquote><ul><li>GETï¼šè¯»å–ï¼ˆReadï¼‰</li><li>POSTï¼šæ–°å»ºï¼ˆCreateï¼‰</li><li>PUTï¼šæ›´æ–°ï¼ˆUpdateï¼‰</li><li>PATCHï¼šæ›´æ–°ï¼ˆUpdateï¼‰ï¼Œé€šå¸¸æ˜¯éƒ¨åˆ†æ›´æ–°</li><li>DELETEï¼šåˆ é™¤ï¼ˆDeleteï¼‰</li></ul></blockquote><h4 id="1-2-åŠ¨è¯çš„è¦†ç›–"><a href="#1-2-åŠ¨è¯çš„è¦†ç›–" class="headerlink" title="1.2 åŠ¨è¯çš„è¦†ç›–"></a>1.2 åŠ¨è¯çš„è¦†ç›–</h4><p>æœ‰äº›å®¢æˆ·ç«¯åªèƒ½ä½¿ç”¨ <code>GET</code> å’Œ <code>POST</code> æ–¹æ³•ã€‚æœåŠ¡å™¨å¿…é¡»æ¥å— <code>POST</code> æ¨¡æ‹Ÿå…¶ä»–ä¸‰ä¸ªæ–¹æ³•(<code>PUT</code>ï¼Œ<code>PATCH</code>ï¼Œ<code>DELETE</code>) ã€‚</p><p>æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯å‘å‡ºçš„ HTTP è¯·æ±‚ï¼Œè¦åŠ ä¸Š <code>X-HTTP-Method-Override</code> å±æ€§ï¼Œå‘Šè¯‰æœåŠ¡å™¨åº”è¯¥ä½¿ç”¨å“ªä¸ªåŠ¨è¯æ¥è¦†ç›– <code>POST</code> æ–¹æ³•ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">POST &#x2F;api&#x2F;todos&#x2F;4 HTTP&#x2F;1.1</span><br><span class="line">X-HTTP-Method-Override: PUT</span><br></pre></td></tr></table></figure><h4 id="1-3-å®¾è¯­å¿…é¡»æ˜¯åè¯"><a href="#1-3-å®¾è¯­å¿…é¡»æ˜¯åè¯" class="headerlink" title="1.3 å®¾è¯­å¿…é¡»æ˜¯åè¯"></a>1.3 å®¾è¯­å¿…é¡»æ˜¯åè¯</h4><p>å®¾è¯­å°±æ˜¯ <strong>API</strong> çš„ <strong>URL</strong>ï¼Œæ˜¯ <strong>HTTP</strong> åŠ¨è¯ä½œç”¨çš„å¯¹è±¡ã€‚å®ƒåº”è¯¥æ˜¯åè¯ï¼Œä¸èƒ½æ˜¯åŠ¨è¯ã€‚</p><h4 id="1-4-å¤æ•°-URL"><a href="#1-4-å¤æ•°-URL" class="headerlink" title="1.4 å¤æ•° URL"></a>1.4 å¤æ•° URL</h4><p>æ—¢ç„¶ URL æ˜¯åè¯ï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨å¤æ•°ï¼Œè¿˜æ˜¯å•æ•°ï¼Ÿ</p><p>è¿™æ²¡æœ‰ç»Ÿä¸€çš„è§„å®šï¼Œä½†æ˜¯å¸¸è§çš„æ“ä½œæ˜¯è¯»å–ä¸€ä¸ªé›†åˆï¼Œæ¯”å¦‚ <code>GET /articles</code>ï¼ˆè¯»å–æ‰€æœ‰æ–‡ç« ï¼‰ï¼Œè¿™é‡Œæ˜æ˜¾åº”è¯¥æ˜¯å¤æ•°ã€‚</p><p>ä¸ºäº†ç»Ÿä¸€èµ·è§ï¼Œå»ºè®®éƒ½ä½¿ç”¨å¤æ•° URLï¼Œæ¯”å¦‚ <code>GET /articles/2</code> è¦å¥½äº <code>GET /article/2</code>ã€‚</p><h4 id="1-5-é¿å…å¤šçº§-URL"><a href="#1-5-é¿å…å¤šçº§-URL" class="headerlink" title="1.5 é¿å…å¤šçº§ URL"></a>1.5 é¿å…å¤šçº§ URL</h4><p>å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œèµ„æºéœ€è¦å¤šçº§åˆ†ç±»ï¼Œå› æ­¤å¾ˆå®¹æ˜“å†™å‡ºå¤šçº§çš„ URLï¼Œæ¯”å¦‚è·å–æŸä¸ªä½œè€…çš„æŸä¸€ç±»æ–‡ç« ã€‚</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line">GET /authors/12/categories/2</span><br></pre></td></tr></table></figure><p>æ”¹æˆæŸ¥è¯¢å­—ç¬¦ä¸²æ›´å¥½</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line">GET /authors/12?categories=2</span><br></pre></td></tr></table></figure><h3 id="äºŒã€çŠ¶æ€ç "><a href="#äºŒã€çŠ¶æ€ç " class="headerlink" title="äºŒã€çŠ¶æ€ç "></a>äºŒã€çŠ¶æ€ç </h3><h4 id="2-1-çŠ¶æ€ç å¿…é¡»ç²¾ç¡®"><a href="#2-1-çŠ¶æ€ç å¿…é¡»ç²¾ç¡®" class="headerlink" title="2.1 çŠ¶æ€ç å¿…é¡»ç²¾ç¡®"></a>2.1 çŠ¶æ€ç å¿…é¡»ç²¾ç¡®</h4><p>å®¢æˆ·ç«¯çš„æ¯ä¸€æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨éƒ½å¿…é¡»ç»™å‡ºå›åº”ã€‚å›åº”åŒ…å« HTTP çŠ¶æ€ç å’Œæ•°æ®ä¸¤éƒ¨åˆ†ã€‚</p><p>HTTP çŠ¶æ€ç å°±æ˜¯ä¸€ä¸ªä¸‰ä½æ•°ï¼Œåˆ†æˆäº”ä¸ªç±»åˆ«ã€‚</p><blockquote><ul><li><code>1xx</code>ï¼šç›¸å…³ä¿¡æ¯</li><li><code>2xx</code>ï¼šæ“ä½œæˆåŠŸ</li><li><code>3xx</code>ï¼šé‡å®šå‘</li><li><code>4xx</code>ï¼šå®¢æˆ·ç«¯é”™è¯¯</li><li><code>5xx</code>ï¼šæœåŠ¡å™¨é”™è¯¯</li></ul></blockquote><p>API ä¸éœ€è¦ <code>1xx</code> çŠ¶æ€ç </p><h4 id="2-2-çŠ¶æ€ç å…·ä½“æ„ä¹‰"><a href="#2-2-çŠ¶æ€ç å…·ä½“æ„ä¹‰" class="headerlink" title="2.2 çŠ¶æ€ç å…·ä½“æ„ä¹‰"></a>2.2 çŠ¶æ€ç å…·ä½“æ„ä¹‰</h4><p>æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›çš„çŠ¶æ€ç å’Œæç¤ºä¿¡æ¯ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹ä¸€äº›ï¼ˆæ–¹æ‹¬å·ä¸­æ˜¯è¯¥çŠ¶æ€ç å¯¹åº”çš„ HTTP åŠ¨è¯ï¼‰ã€‚</p><blockquote><ul><li>200 OK - [GET]ï¼šæœåŠ¡å™¨æˆåŠŸè¿”å›ç”¨æˆ·è¯·æ±‚çš„æ•°æ®ï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ï¼ˆIdempotentï¼‰ã€‚</li><li>201 CREATED - [POST/PUT/PATCH]ï¼šç”¨æˆ·æ–°å»ºæˆ–ä¿®æ”¹æ•°æ®æˆåŠŸã€‚</li><li>202 Accepted - [*]ï¼šè¡¨ç¤ºä¸€ä¸ªè¯·æ±‚å·²ç»è¿›å…¥åå°æ’é˜Ÿï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰</li><li>204 NO CONTENT - [DELETE]ï¼šç”¨æˆ·åˆ é™¤æ•°æ®æˆåŠŸã€‚</li><li>400 INVALID REQUEST - [POST/PUT/PATCH]ï¼šç”¨æˆ·å‘å‡ºçš„è¯·æ±‚æœ‰é”™è¯¯ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ–°å»ºæˆ–ä¿®æ”¹æ•°æ®çš„æ“ä½œï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ã€‚</li><li>401 Unauthorized - [*]ï¼šè¡¨ç¤ºç”¨æˆ·æ²¡æœ‰æƒé™ï¼ˆä»¤ç‰Œã€ç”¨æˆ·åã€å¯†ç é”™è¯¯ï¼‰ã€‚</li><li>403 Forbidden - [*] è¡¨ç¤ºç”¨æˆ·å¾—åˆ°æˆæƒï¼ˆä¸401é”™è¯¯ç›¸å¯¹ï¼‰ï¼Œä½†æ˜¯è®¿é—®æ˜¯è¢«ç¦æ­¢çš„ã€‚</li><li>404 NOT FOUND - [*]ï¼šç”¨æˆ·å‘å‡ºçš„è¯·æ±‚é’ˆå¯¹çš„æ˜¯ä¸å­˜åœ¨çš„è®°å½•ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ“ä½œï¼Œè¯¥æ“ä½œæ˜¯å¹‚ç­‰çš„ã€‚</li><li>406 Not Acceptable - [GET]ï¼šç”¨æˆ·è¯·æ±‚çš„æ ¼å¼ä¸å¯å¾—ï¼ˆæ¯”å¦‚ç”¨æˆ·è¯·æ±‚JSONæ ¼å¼ï¼Œä½†æ˜¯åªæœ‰XMLæ ¼å¼ï¼‰ã€‚</li><li>410 Gone -[GET]ï¼šç”¨æˆ·è¯·æ±‚çš„èµ„æºè¢«æ°¸ä¹…åˆ é™¤ï¼Œä¸”ä¸ä¼šå†å¾—åˆ°çš„ã€‚</li><li>422 Unprocesable entity - [POST/PUT/PATCH] å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå‘ç”Ÿä¸€ä¸ªéªŒè¯é”™è¯¯ã€‚</li><li>500 INTERNAL SERVER ERROR - [*]ï¼šæœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼Œç”¨æˆ·å°†æ— æ³•åˆ¤æ–­å‘å‡ºçš„è¯·æ±‚æ˜¯å¦æˆåŠŸã€‚</li><li>503 Service Unavailable: æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ï¼Œä¸€èˆ¬ç”¨äºç½‘ç«™ç»´æŠ¤çŠ¶æ€</li></ul></blockquote><blockquote><p>æœ¬æ–‡æ‘˜è‡ªé˜®ä¸€å³°è€å¸ˆçš„ <a href="http://www.ruanyifeng.com/blog/2011/09/restful.html" target="_blank" rel="noopener">ç†è§£RESTfulæ¶æ„</a> å’Œ <a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html" target="_blank" rel="noopener">RESTful API æœ€ä½³å®è·µ</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;RESTful API ç›¸å…³&lt;/p&gt;
    
    </summary>
    
    
      <category term="æŠ€æœ¯" scheme="https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="è§„èŒƒ" scheme="https://kaviilee.github.io/blog/tags/%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>çº¦å®šå¼æäº¤ (Conventional Commits)</title>
    <link href="https://kaviilee.github.io/blog/2020/10/13/conventional-commits/"/>
    <id>https://kaviilee.github.io/blog/2020/10/13/conventional-commits/</id>
    <published>2020-10-13T00:19:25.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºçº¦å®šå¼æäº¤çš„è§„èŒƒå†…å®¹ã€‚</p><a id="more"></a><h1 id="çº¦å®šå¼æäº¤"><a href="#çº¦å®šå¼æäº¤" class="headerlink" title="çº¦å®šå¼æäº¤"></a>çº¦å®šå¼æäº¤</h1><blockquote><p>ä¸€ç§ç”¨äºç»™æäº¤ä¿¡æ¯å¢åŠ äººæœºå¯è¯»å«ä¹‰çš„è§„èŒƒã€‚</p></blockquote><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>çº¦å®šå¼æäº¤è§„èŒƒæ˜¯ä¸€ç§åŸºäºæäº¤æ¶ˆæ¯çš„è½»é‡çº§çº¦å®šã€‚ å®ƒæä¾›äº†ä¸€ç»„ç”¨äºåˆ›å»ºæ¸…æ™°çš„æäº¤å†å²çš„ç®€å•è§„åˆ™ï¼› è¿™ä½¿å¾—ç¼–å†™åŸºäºè§„èŒƒçš„è‡ªåŠ¨åŒ–å·¥å…·å˜å¾—æ›´å®¹æ˜“ã€‚åœ¨æäº¤ä¿¡æ¯ä¸­æè¿°æ–°ç‰¹æ€§ã€bug ä¿®å¤å’Œç ´åæ€§å˜æ›´ã€‚</p><p>æäº¤è¯´æ˜çš„ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ç±»å‹&gt;[å¯é€‰çš„ä½œç”¨åŸŸ]: &lt;æè¿°&gt;</span><br><span class="line">[å¯é€‰çš„æ­£æ–‡]</span><br><span class="line">[å¯é€‰çš„è„šæ³¨]</span><br></pre></td></tr></table></figure><p>æäº¤è¯´æ˜åŒ…å«äº†ä¸‹é¢çš„ç»“æ„åŒ–å…ƒç´ ï¼Œä»¥å‘ç±»åº“ä½¿ç”¨è€…è¡¨æ˜å…¶æ„å›¾ï¼š</p><ol><li><strong>fix</strong>: ç±»å‹ä¸º <code>fix</code> çš„æäº¤è¡¨ç¤ºåœ¨ä»£ç åº“ä¸­ä¿®å¤äº†ä¸€ä¸ª bugã€‚</li><li><strong>feat</strong>: ç±»å‹ä¸º <code>feat</code> çš„æäº¤è¡¨ç¤ºåœ¨ä»£ç åº“ä¸­æ–°å¢äº†ä¸€ä¸ªåŠŸèƒ½ã€‚</li><li><strong>BREAKING CHANGE</strong>: åœ¨å¯é€‰çš„æ­£æ–‡æˆ–è„šæ³¨çš„èµ·å§‹ä½ç½®å¸¦æœ‰ <code>BREAKING CHANGE:</code> çš„æäº¤ï¼Œè¡¨ç¤ºå¼•å…¥äº†ç ´åæ€§ API å˜æ›´ã€‚ç ´åæ€§å˜æ›´å¯ä»¥æ˜¯ä»»æ„ <em>ç±»å‹</em> æäº¤çš„ä¸€éƒ¨åˆ†ã€‚</li><li><strong>å…¶å®ƒæƒ…å†µ:</strong> é™¤ <code>fix:</code> å’Œ <code>feat:</code> ä¹‹å¤–çš„æäº¤ <em>ç±»å‹</em> ä¹Ÿæ˜¯è¢«å…è®¸çš„ï¼Œä¾‹å¦‚ <a href="https://github.com/conventional-changelog/commitlint/tree/master/%40commitlint/config-conventional" target="_blank" rel="noopener">@commitlint/config-conventional</a>ï¼ˆåŸºäº <a href="https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines" target="_blank" rel="noopener">Angular çº¦å®š</a>ï¼‰ä¸­æ¨èçš„ <code>chore:</code>ã€<code>docs:</code>ã€<code>style:</code>ã€<code>refactor:</code>ã€<code>perf:</code>ã€<code>test:</code> åŠå…¶ä»–æ ‡ç­¾ã€‚ æˆ‘ä»¬ä¹Ÿæ¨èä½¿ç”¨<code>improvement</code>ï¼Œç”¨äºå¯¹å½“å‰å®ç°è¿›è¡Œæ”¹è¿›è€Œæ²¡æœ‰æ·»åŠ æ–°åŠŸèƒ½æˆ–ä¿®å¤é”™è¯¯çš„æäº¤ã€‚ è¯·æ³¨æ„ï¼Œè¿™äº›æ ‡ç­¾åœ¨çº¦å®šå¼æäº¤è§„èŒƒä¸­å¹¶ä¸æ˜¯å¼ºåˆ¶æ€§çš„ã€‚å¹¶ä¸”åœ¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸­æ²¡æœ‰éšå¼çš„å½±å“ï¼ˆé™¤éä»–ä»¬åŒ…å« BREAKING CHANGEï¼‰ã€‚ å¯ä»¥ä¸ºæäº¤ç±»å‹æ·»åŠ ä¸€ä¸ªå›´åœ¨åœ†æ‹¬å·å†…çš„ä½œç”¨åŸŸï¼Œä»¥ä¸ºå…¶æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ä¾‹å¦‚ <code>feat(parser): adds ability to parse arrays.</code>ã€‚</li></ol><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><h3 id="åŒ…å«äº†æè¿°ä»¥åŠæ­£æ–‡å†…æœ‰ç ´åæ€§å˜æ›´çš„æäº¤è¯´æ˜"><a href="#åŒ…å«äº†æè¿°ä»¥åŠæ­£æ–‡å†…æœ‰ç ´åæ€§å˜æ›´çš„æäº¤è¯´æ˜" class="headerlink" title="åŒ…å«äº†æè¿°ä»¥åŠæ­£æ–‡å†…æœ‰ç ´åæ€§å˜æ›´çš„æäº¤è¯´æ˜"></a>åŒ…å«äº†æè¿°ä»¥åŠæ­£æ–‡å†…æœ‰ç ´åæ€§å˜æ›´çš„æäº¤è¯´æ˜</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">feat: allow provided config object to extend other configs</span><br><span class="line"></span><br><span class="line">BREAKING CHANGE: &#96;extends&#96; key in config file is now used for extending other config files</span><br></pre></td></tr></table></figure><h3 id="ä¸åŒ…å«æ­£æ–‡çš„æäº¤è¯´æ˜"><a href="#ä¸åŒ…å«æ­£æ–‡çš„æäº¤è¯´æ˜" class="headerlink" title="ä¸åŒ…å«æ­£æ–‡çš„æäº¤è¯´æ˜"></a>ä¸åŒ…å«æ­£æ–‡çš„æäº¤è¯´æ˜</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docs: correct spelling of CHANGELOG</span><br></pre></td></tr></table></figure><h3 id="åŒ…å«ä½œç”¨åŸŸçš„æäº¤è¯´æ˜"><a href="#åŒ…å«ä½œç”¨åŸŸçš„æäº¤è¯´æ˜" class="headerlink" title="åŒ…å«ä½œç”¨åŸŸçš„æäº¤è¯´æ˜"></a>åŒ…å«ä½œç”¨åŸŸçš„æäº¤è¯´æ˜</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">feat(lang): add polish language</span><br></pre></td></tr></table></figure><h3 id="ä¸º-fix-ç¼–å†™çš„æäº¤è¯´æ˜ï¼ŒåŒ…å«ï¼ˆå¯é€‰çš„ï¼‰-issue-ç¼–å·"><a href="#ä¸º-fix-ç¼–å†™çš„æäº¤è¯´æ˜ï¼ŒåŒ…å«ï¼ˆå¯é€‰çš„ï¼‰-issue-ç¼–å·" class="headerlink" title="ä¸º fix ç¼–å†™çš„æäº¤è¯´æ˜ï¼ŒåŒ…å«ï¼ˆå¯é€‰çš„ï¼‰ issue ç¼–å·"></a>ä¸º fix ç¼–å†™çš„æäº¤è¯´æ˜ï¼ŒåŒ…å«ï¼ˆå¯é€‰çš„ï¼‰ issue ç¼–å·</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fix: correct minor typos in code</span><br><span class="line"></span><br><span class="line">see the issue for details on the typos fixed</span><br><span class="line"></span><br><span class="line">closes issue #12</span><br></pre></td></tr></table></figure><h2 id="çº¦å®šå¼æäº¤è§„èŒƒ"><a href="#çº¦å®šå¼æäº¤è§„èŒƒ" class="headerlink" title="çº¦å®šå¼æäº¤è§„èŒƒ"></a>çº¦å®šå¼æäº¤è§„èŒƒ</h2><ol><li>æ¯ä¸ªæäº¤éƒ½<strong>å¿…é¡»</strong>ä½¿ç”¨ç±»å‹å­—æ®µå‰ç¼€ï¼Œå®ƒç”±ä¸€ä¸ªåè¯ç»„æˆï¼Œè¯¸å¦‚ <code>feat</code> æˆ– <code>fix</code> ï¼Œå…¶åæ¥ä¸€ä¸ª<strong>å¯é€‰çš„</strong>ä½œç”¨åŸŸå­—æ®µï¼Œä»¥åŠä¸€ä¸ª<strong>å¿…è¦çš„</strong>å†’å·ï¼ˆè‹±æ–‡åŠè§’ï¼‰å’Œç©ºæ ¼ã€‚</li><li>å½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨æˆ–ç±»åº“å®ç°äº†æ–°ç‰¹æ€§æ—¶ï¼Œ<strong>å¿…é¡»</strong>ä½¿ç”¨ <code>feat</code> ç±»å‹ã€‚</li><li>å½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨ä¿®å¤äº† bug æ—¶ï¼Œ<strong>å¿…é¡»</strong>ä½¿ç”¨ <code>fix</code> ç±»å‹ã€‚</li><li>ä½œç”¨åŸŸå­—æ®µ<strong>å¯ä»¥</strong>è·Ÿéšåœ¨ç±»å‹å­—æ®µåé¢ã€‚ä½œç”¨åŸŸ<strong>å¿…é¡»</strong>æ˜¯ä¸€ä¸ªæè¿°æŸéƒ¨åˆ†ä»£ç çš„åè¯ï¼Œå¹¶ç”¨åœ†æ‹¬å·åŒ…å›´ï¼Œä¾‹å¦‚ï¼š <code>fix(parser):</code></li><li>æè¿°å­—æ®µ<strong>å¿…é¡»</strong>ç´§æ¥åœ¨ç±»å‹/ä½œç”¨åŸŸå‰ç¼€çš„ç©ºæ ¼ä¹‹åã€‚æè¿°æŒ‡çš„æ˜¯å¯¹ä»£ç å˜æ›´çš„ç®€çŸ­æ€»ç»“ï¼Œä¾‹å¦‚ï¼š <em>fix: array parsing issue when multiple spaces were contained in string.</em></li><li>åœ¨ç®€çŸ­æè¿°ä¹‹åï¼Œ<strong>å¯ä»¥</strong>ç¼–å†™æ›´é•¿çš„æäº¤æ­£æ–‡ï¼Œä¸ºä»£ç å˜æ›´æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚æ­£æ–‡<strong>å¿…é¡»</strong>èµ·å§‹äºæè¿°å­—æ®µç»“æŸçš„ä¸€ä¸ªç©ºè¡Œåã€‚</li><li>åœ¨æ­£æ–‡ç»“æŸçš„ä¸€ä¸ªç©ºè¡Œä¹‹åï¼Œ<strong>å¯ä»¥</strong>ç¼–å†™ä¸€è¡Œæˆ–å¤šè¡Œè„šæ³¨ã€‚è„šæ³¨<strong>å¿…é¡»</strong>åŒ…å«å…³äºæäº¤çš„å…ƒä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šå…³è”çš„åˆå¹¶è¯·æ±‚ã€Reviewerã€ç ´åæ€§å˜æ›´ï¼Œæ¯æ¡å…ƒä¿¡æ¯ä¸€è¡Œã€‚</li><li>ç ´åæ€§å˜æ›´<strong>å¿…é¡»</strong>æ ‡ç¤ºåœ¨æ­£æ–‡åŒºåŸŸæœ€å¼€å§‹å¤„ï¼Œæˆ–è„šæ³¨åŒºåŸŸä¸­æŸä¸€è¡Œçš„å¼€å§‹ã€‚ä¸€ä¸ªç ´åæ€§å˜æ›´<strong>å¿…é¡»</strong>åŒ…å«å¤§å†™çš„æ–‡æœ¬ <code>BREAKING CHANGE</code>ï¼Œåé¢ç´§è·Ÿå†’å·å’Œç©ºæ ¼ã€‚</li><li>åœ¨ <code>BREAKING CHANGE:</code>ä¹‹å<strong>å¿…é¡»</strong>æä¾›æè¿°ï¼Œä»¥æè¿°å¯¹ API çš„å˜æ›´ã€‚ä¾‹å¦‚ï¼š <em>BREAKING CHANGE: environment variables now take precedence over config files.</em></li><li>åœ¨æäº¤è¯´æ˜ä¸­ï¼Œ<strong>å¯ä»¥</strong>ä½¿ç”¨ <code>feat</code> å’Œ <code>fix</code> ä¹‹å¤–çš„ç±»å‹ã€‚</li><li>å·¥å…·çš„å®ç°<strong>å¿…é¡»ä¸</strong>åŒºåˆ†å¤§å°å†™åœ°è§£ææ„æˆçº¦å®šå¼æäº¤çš„ä¿¡æ¯å•å…ƒï¼Œåªæœ‰ <code>BREAKING CHANGE</code> <strong>å¿…é¡»</strong>æ˜¯å¤§å†™çš„ã€‚</li><li><strong>å¯ä»¥</strong>åœ¨ç±»å‹/ä½œç”¨åŸŸå‰ç¼€ä¹‹åï¼Œ<code>:</code> ä¹‹å‰ï¼Œé™„åŠ  <code>!</code> å­—ç¬¦ï¼Œä»¥è¿›ä¸€æ­¥æé†’æ³¨æ„ç ´åæ€§å˜æ›´ã€‚å½“æœ‰ <code>!</code> å‰ç¼€æ—¶ï¼Œæ­£æ–‡æˆ–è„šæ³¨å†…<strong>å¿…é¡»</strong>åŒ…å« <code>BREAKING CHANGE: description</code></li></ol><br /><p>å…·ä½“ç±»å‹å«ä¹‰å¦‚ä¸‹ï¼š</p><table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>feat:</code></td><td>æ–°å¢åŠŸèƒ½</td></tr><tr><td><code>fix:</code></td><td>ä¿®å¤ bug</td></tr><tr><td><code>docs:</code></td><td>ä»…ä¿®æ”¹æ–‡æ¡£</td></tr><tr><td><code>style:</code></td><td>æ ·å¼ä¸ä¼šå½±å“ä»£ç å«ä¹‰çš„æ›´æ”¹ï¼Œå¦‚ <strong>ç©ºç™½ç¬¦</strong>ã€<strong>æ ¼å¼</strong>ã€<strong>åˆ†å·è¡¥å…¨</strong>ã€<strong>é”™åˆ«å­—ä¿®æ”¹ç­‰</strong></td></tr><tr><td><code>refactor:</code></td><td>æ—¢ä¸ä¿®å¤é”™è¯¯ä¹Ÿä¸å¢åŠ åŠŸèƒ½çš„ä»£ç ä¿®æ”¹</td></tr><tr><td><code>perf:</code></td><td>æœ¬æ¬¡ä»£ç çš„æ›´æ”¹å¯æé«˜æ€§èƒ½</td></tr><tr><td><code>test:</code></td><td>æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•å†…å®¹</td></tr><tr><td><code>build:</code></td><td>å½±å“æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–çš„æ›´æ”¹ (<strong>Example scopes:</strong> <code>webpack</code>, <code>npm</code>)</td></tr><tr><td><code>ci:</code></td><td>å¯¹ CI é…ç½®æ–‡ä»¶å’Œè„šæœ¬çš„æ›´æ”¹ (<strong>Example scopes:</strong> <code>travis</code>)</td></tr><tr><td><code>chore</code></td><td>å…¶ä»–ä¸ä¼šä¿®æ”¹ src æˆ–æµ‹è¯•æ–‡ä»¶çš„æ›´æ”¹ï¼Œå¦‚ <code>.gitignore</code>,<code>package.json</code>ã€<code>yarn.json</code> ç­‰</td></tr><tr><td><code>revert</code></td><td>å›é€€æ—§ç‰ˆæœ¬</td></tr></tbody></table><p>æ›´å¤šå†…å®¹å‚è§ï¼š<a href="https://www.conventionalcommits.org/" target="_blank" rel="noopener">çº¦å®šå¼æäº¤</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äºçº¦å®šå¼æäº¤çš„è§„èŒƒå†…å®¹ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æŠ€æœ¯" scheme="https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="git" scheme="https://kaviilee.github.io/blog/tags/git/"/>
    
      <category term="è§„èŒƒ" scheme="https://kaviilee.github.io/blog/tags/%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptç±»å‹è½¬æ¢</title>
    <link href="https://kaviilee.github.io/blog/2020/09/09/javascript%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"/>
    <id>https://kaviilee.github.io/blog/2020/09/09/javascript%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/</id>
    <published>2020-09-09T23:23:10.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äº JavaScript ç±»å‹è½¬æ¢çš„ä¸€äº›ç¬”è®°ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å°†å€¼ä»ä¸€ç§ç±»å‹è½¬æ¢åˆ°å¦ä¸€ç§ç±»å‹é€šå¸¸ç§°ä¸ºç±»å‹è½¬æ¢ã€‚</p><h2 id="åŸå§‹å€¼è½¬å¸ƒå°”å€¼"><a href="#åŸå§‹å€¼è½¬å¸ƒå°”å€¼" class="headerlink" title="åŸå§‹å€¼è½¬å¸ƒå°”å€¼"></a>åŸå§‹å€¼è½¬å¸ƒå°”å€¼</h2><p>JavaScriptä¸­ï¼Œåªæœ‰ 6 ç§å€¼å¯ä»¥è¢«è½¬æ¢ä¸ºfalseï¼Œå…¶ä½™éƒ½ä¼šè¢«è½¬æ¢æˆ trueã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>()) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">false</span>)) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">undefined</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">null</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(+<span class="number">0</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="number">-0</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">NaN</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="string">""</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="åŸå§‹å€¼è½¬æ•°å­—"><a href="#åŸå§‹å€¼è½¬æ•°å­—" class="headerlink" title="åŸå§‹å€¼è½¬æ•°å­—"></a>åŸå§‹å€¼è½¬æ•°å­—</h2><p>ä½¿ç”¨ <code>Number</code> å‡½æ•°å°†å€¼çš„ç±»å‹è½¬æ¢æˆæ•°å­—ç±»å‹ã€‚</p><p>æ ¹æ®è§„èŒƒï¼Œå¦‚æœæœ‰å‚æ•°ï¼Œåˆ™è°ƒç”¨ <code>ToNumber(value)</code> è®¡ç®—å‡ºå€¼è¿”å›ï¼Œå¦åˆ™è¿”å› +0ã€‚</p><p>æ­¤å¤„çš„ <code>ToNumber</code> è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªåº•å±‚è§„èŒƒä¸Šå®ç°çš„æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰æš´éœ²å‡ºæ¥ã€‚</p><table><thead><tr><th align="center">å€¼ç±»å‹</th><th align="center">ç»“æœ</th></tr></thead><tbody><tr><td align="center">Undefined</td><td align="center">NaN</td></tr><tr><td align="center">Null</td><td align="center">+0</td></tr><tr><td align="center">Boolean</td><td align="center">å¦‚æœæ˜¯ trueï¼Œè¿”å›1ï¼›å¦‚æœæ˜¯ falseï¼Œè¿”å›0</td></tr><tr><td align="center">Number</td><td align="center">è¿”å›ä¸ä¹‹ç›¸ç­‰çš„å€¼</td></tr><tr><td align="center">String</td><td align="center">å¦‚ä¸‹</td></tr></tbody></table><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>()) <span class="comment">// +0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">undefined</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">null</span>)) <span class="comment">// +0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">false</span>)) <span class="comment">// +0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">true</span>)) <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"123"</span>)) <span class="comment">// 123</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"-123"</span>)) <span class="comment">// -123</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"1.2"</span>)) <span class="comment">// 1.2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"000123"</span>)) <span class="comment">// 123</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"-000123"</span>)) <span class="comment">// -123</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"0x11"</span>)) <span class="comment">// 17</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">""</span>)) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">" "</span>)) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"123 123"</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"foo"</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"100a"</span>)) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><h2 id="åŸå§‹å€¼è½¬å­—ç¬¦"><a href="#åŸå§‹å€¼è½¬å­—ç¬¦" class="headerlink" title="åŸå§‹å€¼è½¬å­—ç¬¦"></a>åŸå§‹å€¼è½¬å­—ç¬¦</h2><p>ä½¿ç”¨ <code>String</code> å‡½æ•°å°†å€¼çš„ç±»å‹è½¬æ¢æˆå­—ç¬¦ç±»å‹ã€‚</p><p>æ ¹æ®è§„èŒƒï¼Œå¦‚æœå‡½æ•°æœ‰å‚æ•°ï¼Œåˆ™è°ƒç”¨ <code>ToString(value)</code> è®¡ç®—å‡ºå€¼è¿”å›ï¼Œå¦åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</p><table><thead><tr><th align="center">å€¼ç±»å‹</th><th align="center">ç»“æœ</th></tr></thead><tbody><tr><td align="center">Undefined</td><td align="center">â€˜undefinedâ€™</td></tr><tr><td align="center">Null</td><td align="center">â€˜nullâ€™</td></tr><tr><td align="center">Boolean</td><td align="center">å¦‚æœæ˜¯ trueï¼Œè¿”å› â€œtrueâ€ï¼›å¦‚æœæ˜¯ falseï¼Œè¿”å› â€œfalseâ€</td></tr><tr><td align="center">String</td><td align="center">è¿”å›ä¸ä¹‹ç›¸ç­‰çš„å€¼</td></tr><tr><td align="center">Number</td><td align="center">å¦‚ä¸‹</td></tr></tbody></table><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>()) <span class="comment">// ç©ºå­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="literal">undefined</span>)) <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="literal">null</span>)) <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="literal">false</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="literal">true</span>)) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="number">0</span>)) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="number">-0</span>)) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="literal">NaN</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="literal">Infinity</span>)) <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(-<span class="literal">Infinity</span>)) <span class="comment">// -Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="number">1</span>)) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h2 id="åŸå§‹å€¼è½¬å¯¹è±¡"><a href="#åŸå§‹å€¼è½¬å¯¹è±¡" class="headerlink" title="åŸå§‹å€¼è½¬å¯¹è±¡"></a>åŸå§‹å€¼è½¬å¯¹è±¡</h2><p>åŸå§‹å€¼é€šè¿‡è°ƒç”¨ String()ã€Number() æˆ–è€… Boolean() æ„é€ å‡½æ•°å°±èƒ½è½¬åŒ–ä¸ºå„è‡ªçš„åŒ…è£…å¯¹è±¡ã€‚</p><p>null å’Œ undefinedï¼Œå½“å°†å®ƒä»¬ç”¨åœ¨æœŸæœ›æ˜¯ä¸€ä¸ªå¯¹è±¡çš„åœ°æ–¹éƒ½ä¼šé€ æˆä¸€ä¸ªç±»å‹é”™è¯¯ (TypeError) å¼‚å¸¸ï¼Œè€Œä¸ä¼šæ‰§è¡Œæ­£å¸¸çš„è½¬æ¢ã€‚</p><h2 id="å¯¹è±¡è½¬å¸ƒå°”å€¼"><a href="#å¯¹è±¡è½¬å¸ƒå°”å€¼" class="headerlink" title="å¯¹è±¡è½¬å¸ƒå°”å€¼"></a>å¯¹è±¡è½¬å¸ƒå°”å€¼</h2><p>æ‰€æœ‰å¯¹è±¡è½¬ä¸ºå¸ƒå°”å€¼éƒ½ä¸º trueã€‚</p><h2 id="å¯¹è±¡è½¬å­—ç¬¦ä¸²å’Œæ•°å­—"><a href="#å¯¹è±¡è½¬å­—ç¬¦ä¸²å’Œæ•°å­—" class="headerlink" title="å¯¹è±¡è½¬å­—ç¬¦ä¸²å’Œæ•°å­—"></a>å¯¹è±¡è½¬å­—ç¬¦ä¸²å’Œæ•°å­—</h2><p>å¯¹è±¡è½¬æ¢åˆ°å­—ç¬¦ä¸²æˆ–è€…æ•°å­—éƒ½æ˜¯è°ƒç”¨å¾…è½¬æ¢å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•æ¥å®ç°çš„ã€‚ä¸»è¦æœ‰ä¸¤ä¸ªæ–¹æ³• <code>toString()</code> å’Œ <code>valueOf()</code>ã€‚</p><p>æ‰€æœ‰å¯¹è±¡é™¤äº† null å’Œ undefined ä¹‹å¤–çš„ä»»ä½•å€¼éƒ½æœ‰ <code>toString</code> æ–¹æ³•ï¼Œé€šå¸¸ï¼Œå®ƒå’Œ String æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€è‡´çš„ã€‚</p><p>JavaScript æ ¹æ®ä¸åŒçš„ç±»å„è‡ªçš„ç‰¹ç‚¹ï¼Œå®šä¹‰äº†æ›´å¤šç‰ˆæœ¬çš„ <code>toString</code> æ–¹æ³•ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log((&#123;&#125;).toString()) <span class="comment">// [object Object]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log([].toString()) <span class="comment">// ""</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">0</span>].toString()) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].toString()) <span class="comment">// 1,2,3</span></span><br><span class="line"><span class="built_in">console</span>.log((<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a = <span class="number">1</span>;&#125;).toString()) <span class="comment">// function ()&#123;var a = 1;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log((<span class="regexp">/\d+/g</span>).toString()) <span class="comment">// /\d+/g</span></span><br><span class="line"><span class="built_in">console</span>.log((<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2010</span>, <span class="number">0</span>, <span class="number">1</span>)).toString()) <span class="comment">// Fri Jan 01 2010 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure><p>å¦ä¸€ä¸ªè½¬æ¢å¯¹è±¡çš„æ–¹æ³•æ˜¯ <code>valueOf</code>ï¼Œè¡¨ç¤ºå¯¹è±¡çš„åŸå§‹å€¼ã€‚é»˜è®¤çš„ <code>valueOf</code> æ–¹æ³•è¿”å›è¿™ä¸ªå¯¹è±¡æœ¬èº«ã€‚æ—¥æœŸæ˜¯ä¸ªä¾‹å¤–ï¼Œå®ƒä¼šè¿”å›å®ƒçš„ä¸€ä¸ªå†…å®¹è¡¨ç¤ºï¼š1970 å¹´ 1 æœˆ 1æ—¥ä»¥æ¥çš„æ¯«ç§’æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2020</span>, <span class="number">9</span>, <span class="number">6</span>);</span><br><span class="line"><span class="built_in">console</span>.log(date.valueOf()) <span class="comment">// 1601913600000</span></span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡è½¬å­—ç¬¦ä¸²"><a href="#å¯¹è±¡è½¬å­—ç¬¦ä¸²" class="headerlink" title="å¯¹è±¡è½¬å­—ç¬¦ä¸²"></a>å¯¹è±¡è½¬å­—ç¬¦ä¸²</h3><table><thead><tr><th align="center">å€¼ç±»å‹</th><th align="center">ç»“æœ</th></tr></thead><tbody><tr><td align="center">Object</td><td align="center">1. primValue = ToPrimitive(input, Number)<br/>2. è¿”å› ToString(primValue)ã€‚</td></tr></tbody></table><h3 id="å¯¹è±¡è½¬æ•°å­—"><a href="#å¯¹è±¡è½¬æ•°å­—" class="headerlink" title="å¯¹è±¡è½¬æ•°å­—"></a>å¯¹è±¡è½¬æ•°å­—</h3><table><thead><tr><th align="center">å‚æ•°ç±»å‹</th><th align="center">ç»“æœ</th></tr></thead><tbody><tr><td align="center">Object</td><td align="center">1. primValue = ToPrimitive(input, Number)<br/>2. è¿”å› ToNumber(primValue)ã€‚</td></tr></tbody></table><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(&#123;&#125;)) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(&#123;<span class="attr">a</span> : <span class="number">1</span>&#125;)) <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>([])) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>([<span class="number">0</span>])) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a = <span class="number">1</span>;&#125;)) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="regexp">/\d+/g</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2010</span>, <span class="number">0</span>, <span class="number">1</span>))) <span class="comment">// 1262275200000</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'a'</span>))) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><p><code>Number([])</code> æ—¶ï¼Œå…ˆè°ƒç”¨äº† <code>[]</code> çš„ <code>valueOf</code> æ–¹æ³•è¿”å›äº† <code>[]</code> ï¼Œå› ä¸ºä¸æ˜¯åŸå§‹å€¼ï¼Œç»§ç»­è°ƒç”¨ <code>toString</code> æ–¹æ³•ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œç»§ç»­è°ƒç”¨ <code>ToNumber</code>ï¼Œç©ºå­—ç¬¦ä¸²è¿”å› 0ã€‚</p><p><code>Number([1,2,3])</code> æ—¶ï¼Œå…ˆè°ƒç”¨äº† <code>[1, 2, 3]</code> çš„ <code>valueOf</code> æ–¹æ³•è¿”å›äº† <code>[1, 2, 3]</code>ï¼Œå†è°ƒç”¨ <code>toString</code> æ–¹æ³•ï¼Œè¿”å› <code>1,2,3</code>ï¼Œè°ƒç”¨ <code>ToNumber</code>ï¼Œè¿”å›NaNã€‚</p><h3 id="ToPrimitive"><a href="#ToPrimitive" class="headerlink" title="ToPrimitive"></a>ToPrimitive</h3><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">ToPrimitive(input[, PreferredType])</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ inputï¼Œè¡¨ç¤ºè¦å¤„ç†çš„è¾“å…¥å€¼ã€‚</p><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ PreferredTypeï¼Œéå¿…å¡«ï¼Œè¡¨ç¤ºå¸Œæœ›è½¬æ¢æˆçš„ç±»å‹ï¼Œæœ‰ä¸¤ä¸ªå€¼å¯ä»¥é€‰ï¼ŒNumber æˆ–è€… Stringã€‚</p><p>å½“ä¸ä¼ å…¥ PreferredType æ—¶ï¼Œå¦‚æœ input æ˜¯æ—¥æœŸç±»å‹ï¼Œç›¸å½“äºä¼ å…¥ Stringï¼Œå¦åˆ™ï¼Œéƒ½ç›¸å½“äºä¼ å…¥ Numberã€‚</p><p>å¦‚æœä¼ å…¥çš„ input æ˜¯ Undefinedã€Nullã€Booleanã€Numberã€String ç±»å‹ï¼Œç›´æ¥è¿”å›è¯¥å€¼ã€‚</p><p>å¦‚æœæ˜¯ ToPrimitive(obj, Number)ï¼Œå¤„ç†æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>å¦‚æœ obj ä¸º åŸºæœ¬ç±»å‹ï¼Œç›´æ¥è¿”å›</li><li>å¦åˆ™ï¼Œè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœè¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ JavaScript å°†å…¶è¿”å›ã€‚</li><li>å¦åˆ™ï¼Œè°ƒç”¨ toString æ–¹æ³•ï¼Œå¦‚æœè¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ JavaScript å°†å…¶è¿”å›ã€‚</li><li>å¦åˆ™ï¼ŒJavaScript æŠ›å‡ºä¸€ä¸ªç±»å‹é”™è¯¯å¼‚å¸¸ã€‚</li></ol><p>å¦‚æœæ˜¯ ToPrimitive(obj, String)ï¼Œå¤„ç†æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>å¦‚æœ objä¸º åŸºæœ¬ç±»å‹ï¼Œç›´æ¥è¿”å›</li><li>å¦åˆ™ï¼Œè°ƒç”¨ toString æ–¹æ³•ï¼Œå¦‚æœè¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ JavaScript å°†å…¶è¿”å›ã€‚</li><li>å¦åˆ™ï¼Œè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœè¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ JavaScript å°†å…¶è¿”å›ã€‚</li><li>å¦åˆ™ï¼ŒJavaScript æŠ›å‡ºä¸€ä¸ªç±»å‹é”™è¯¯å¼‚å¸¸ã€‚</li></ol><blockquote><p>éšå¼è½¬æ¢åœºæ™¯</p></blockquote><h2 id="ä¸€å…ƒæ“ä½œç¬¦"><a href="#ä¸€å…ƒæ“ä½œç¬¦" class="headerlink" title="ä¸€å…ƒæ“ä½œç¬¦ +"></a>ä¸€å…ƒæ“ä½œç¬¦ +</h2><p>å½“ + è¿ç®—ç¬¦ä½œä¸ºä¸€å…ƒæ“ä½œç¬¦æ—¶ï¼Œä¼šè°ƒç”¨ <code>ToNumber</code> å¤„ç†è¯¥å€¼ï¼Œç›¸å½“äº <code>Number(value)</code>ã€‚</p><p>å¦‚æœ value æ˜¯å¯¹è±¡ï¼Œä¼šå…ˆè°ƒç”¨ <code>ToPrimitive(obj, Number)</code> æ–¹æ³•ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(+[<span class="string">'1'</span>]); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(+[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(+&#123;&#125;); <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><h2 id="äºŒå…ƒæ“ä½œç¬¦"><a href="#äºŒå…ƒæ“ä½œç¬¦" class="headerlink" title="äºŒå…ƒæ“ä½œç¬¦ +"></a>äºŒå…ƒæ“ä½œç¬¦ +</h2><p>å½“è®¡ç®— value1 + value2 æ—¶ï¼š</p><ol><li>lprim = ToPrimitive(value1)</li><li>rprim = ToPrimitive(value2)</li><li>å¦‚æœ lprim æ˜¯å­—ç¬¦ä¸²æˆ–è€… rprim æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¿”å› ToString(lprim) å’Œ ToString(rprim) çš„æ‹¼æ¥ç»“æœ</li><li>è¿”å› ToNumber(lprim) å’Œ ToNumber(rprim) çš„è¿ç®—ç»“æœ</li></ol><h2 id="ç›¸ç­‰"><a href="#ç›¸ç­‰" class="headerlink" title="== ç›¸ç­‰"></a>== ç›¸ç­‰</h2><table><thead><tr><th align="center">ç±»å‹ (x)</th><th align="center">ç±»å‹ (y)</th><th align="center">ç»“æœ</th></tr></thead><tbody><tr><td align="center">null</td><td align="center">undefined</td><td align="center">true</td></tr><tr><td align="center">undefined</td><td align="center">null</td><td align="center">true</td></tr><tr><td align="center">æ•°å€¼</td><td align="center">å­—ç¬¦ä¸²</td><td align="center">x == ToNumber(y)</td></tr><tr><td align="center">å­—ç¬¦ä¸²</td><td align="center">æ•°å€¼</td><td align="center">ToNumber(x) == y</td></tr><tr><td align="center">å¸ƒå°”å€¼</td><td align="center">ä»»ä½•ç±»å‹</td><td align="center">ToNumber(x) == y</td></tr><tr><td align="center">ä»»ä½•ç±»å‹</td><td align="center">å¸ƒå°”å€¼</td><td align="center">x = ToNumber(y)</td></tr><tr><td align="center">å­—ç¬¦ä¸²æˆ–æ•°</td><td align="center">å¯¹è±¡</td><td align="center">x = ToPrimitive(y)</td></tr><tr><td align="center">å¯¹è±¡</td><td align="center">å­—ç¬¦ä¸²æˆ–æ•°</td><td align="center">ToPrimitive(x) == y</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äº JavaScript ç±»å‹è½¬æ¢çš„ä¸€äº›ç¬”è®°ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://kaviilee.github.io/blog/categories/javascript/"/>
    
    
  </entry>
  
  <entry>
    <title>Git Flow</title>
    <link href="https://kaviilee.github.io/blog/2020/09/03/git-flow/"/>
    <id>https://kaviilee.github.io/blog/2020/09/03/git-flow/</id>
    <published>2020-09-03T09:56:17.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰å¶å°”çœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« ï¼Œæ˜¯è®² Git Flow çš„ï¼Œè°ˆäº†åˆ†æ”¯ç›¸å…³çš„ä¸€äº›çŸ¥è¯†ã€‚</p><a id="more"></a><h2 id="Git-Flow"><a href="#Git-Flow" class="headerlink" title="Git Flow"></a>Git Flow</h2><h3 id="åˆ†æ”¯åº”ç”¨åœºæ™¯"><a href="#åˆ†æ”¯åº”ç”¨åœºæ™¯" class="headerlink" title="åˆ†æ”¯åº”ç”¨åœºæ™¯"></a>åˆ†æ”¯åº”ç”¨åœºæ™¯</h3><p>æ ¹æ® Git Flow çš„å»ºè®®ï¼Œä¸»è¦çš„åˆ†æ”¯æœ‰ masterã€developã€hotfixã€release ä»¥åŠ feature è¿™äº”ç§åˆ†æ”¯ï¼Œå„ç§åˆ†æ”¯è´Ÿè´£ä¸åŒçš„åŠŸèƒ½ã€‚å…¶ä¸­ Master ä»¥åŠ Develop è¿™ä¸¤ä¸ªåˆ†æ”¯åˆè¢«ç§°ä½œé•¿æœŸåˆ†æ”¯ï¼Œå› ä¸ºä»–ä»¬ä¼šä¸€ç›´å­˜æ´»åœ¨æ•´ä¸ª Git Flow é‡Œï¼Œè€Œå…¶å®ƒçš„åˆ†æ”¯å¤§å¤šä¼šå› ä»»åŠ¡ç»“æŸè€Œè¢«åˆªé™¤ã€‚</p><h3 id="Master-åˆ†æ”¯"><a href="#Master-åˆ†æ”¯" class="headerlink" title="Master åˆ†æ”¯"></a>Master åˆ†æ”¯</h3><p>ä¸»è¦æ˜¯ç”¨æ¥æ”¾ç¨³å®šã€éšæ—¶å¯ä¸Šçº¿çš„ç‰ˆæœ¬ã€‚è¿™ä¸ªåˆ†æ”¯çš„æ¥æºåªèƒ½ä»åˆ«çš„åˆ†æ”¯åˆå¹¶è¿‡æ¥ï¼Œå¼€å‘è€…ä¸ä¼šç›´æ¥ Commit åˆ°è¿™ä¸ªåˆ†æ”¯ã€‚å› ä¸ºæ˜¯ç¨³å®šç‰ˆæœ¬ï¼Œæ‰€ä»¥é€šå¸¸ä¹Ÿä¼šåœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šçš„ Commit ä¸Šæ‰“ä¸Šç‰ˆæœ¬å· tagã€‚</p><p><strong>æ¯ä¸ªç‰ˆæœ¬å‘å¸ƒå®Œï¼Œdevelop ä¼šåˆå¹¶åˆ° masterï¼Œå¹¶æ‰“tag</strong>ã€‚</p><h3 id="Develop-åˆ†æ”¯"><a href="#Develop-åˆ†æ”¯" class="headerlink" title="Develop åˆ†æ”¯"></a>Develop åˆ†æ”¯</h3><p>è¿™ä¸ªåˆ†æ”¯ä¸»è¦æ˜¯æ‰€æœ‰å¼€å‘çš„åŸºç¡€åˆ†æ”¯ï¼Œå½“è¦æ–°å¢åŠŸèƒ½çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„ Feature åˆ†æ”¯éƒ½æ˜¯ä»è¿™ä¸ªåˆ†æ”¯åˆ‡å‡ºå»çš„ã€‚è€Œ Feature åˆ†æ”¯çš„åŠŸèƒ½å®Œæˆåï¼Œä¹Ÿéƒ½ä¼šåˆå¹¶å›æ¥è¿™ä¸ªåˆ†æ”¯ã€‚</p><p><strong>å¼€å‘è¿‡ç¨‹ä¸­çš„ç¨³å®šåˆ†æ”¯ï¼Œdevelopåˆ†æ”¯åº”è¯¥ä¿è¯æ¯æ¬¡æœ€æ–°çš„commitéƒ½æ˜¯å¯ä»¥è¢«runçš„</strong>ã€‚</p><h3 id="Hotfix-åˆ†æ”¯"><a href="#Hotfix-åˆ†æ”¯" class="headerlink" title="Hotfix åˆ†æ”¯"></a>Hotfix åˆ†æ”¯</h3><p>å½“çº¿ä¸Šäº§å“å‘ç”Ÿç´§æ€¥é—®é¢˜çš„æ—¶å€™ï¼Œä¼šä» Master åˆ†æ”¯å¼€ä¸€ä¸ª Hotfix åˆ†æ”¯å‡ºæ¥è¿›è¡Œä¿®å¤ï¼ŒHotfix åˆ†æ”¯ä¿®å¤å®Œæˆä¹‹åï¼Œä¼šåˆå¹¶å› Master åˆ†æ”¯ï¼Œä¹ŸåŒæ—¶ä¼šåˆå¹¶ä¸€ä»½åˆ° Develop åˆ†æ”¯ã€‚</p><h3 id="Release-åˆ†æ”¯"><a href="#Release-åˆ†æ”¯" class="headerlink" title="Release åˆ†æ”¯"></a>Release åˆ†æ”¯</h3><p>å½“è®¤ä¸º Develop åˆ†æ”¯å¤Ÿæˆç†Ÿäº†ï¼Œå°±å¯ä»¥æŠŠ Develop åˆ†æ”¯åˆå¹¶åˆ° Release åˆ†æ”¯ï¼Œåœ¨è¿™è¾¹è¿›è¡Œç®—æ˜¯ä¸Šçº¿å‰çš„æœ€åæµ‹è¯•ã€‚æµ‹è¯•å®Œæˆåï¼ŒRelease åˆ†æ”¯å°†ä¼šåŒæ—¶åˆå¹¶åˆ° Master ä»¥åŠ Develop è¿™ä¸¤ä¸ªåˆ†æ”¯ä¸Šã€‚ Master åˆ†æ”¯æ˜¯ä¸Šçº¿ç‰ˆæœ¬ï¼Œè€Œåˆå¹¶å› Develop åˆ†æ”¯çš„ç›®çš„ï¼Œæ˜¯å› ä¸ºå¯èƒ½åœ¨ Release åˆ†æ”¯ä¸Šè¿˜ä¼šæµ‹åˆ°å¹¶ä¿®æ­£ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦è·Ÿ Develop åˆ†æ”¯åŒæ­¥ï¼Œå…å¾—ä¹‹åçš„ç‰ˆæœ¬åˆå†åº¦å‡ºç°åŒæ ·çš„é—®é¢˜ã€‚</p><p><strong>å…¶å®æ­£å¸¸çš„åšæ³•åº”è¯¥æ˜¯ææµ‹ï¼Œæˆ–æµ‹è¯•åˆ°æŸä¸ªé˜¶æ®µä»¥åä½¿ç”¨ã€‚ä¸€èˆ¬ç”¨åœ¨å¤šç‰ˆæœ¬å¹¶è¡Œå¼€å‘çš„æ—¶å€™ï¼Œå……å½“ç‰¹å®šç‰ˆæœ¬çš„develop åˆ†æ”¯ä½¿ç”¨</strong></p><h3 id="Feature-åˆ†æ”¯"><a href="#Feature-åˆ†æ”¯" class="headerlink" title="Feature åˆ†æ”¯"></a>Feature åˆ†æ”¯</h3><p>å½“è¦å¼€å§‹æ–°å¢åŠŸèƒ½çš„æ—¶å€™ï¼Œå°±æ˜¯ä½¿ç”¨ Feature åˆ†æ”¯çš„æ—¶å€™äº†ã€‚ Feature åˆ†æ”¯éƒ½æ˜¯ä» Develop åˆ†æ”¯æ¥çš„ï¼Œå®Œæˆä¹‹åä¼šå†å¹¶å› Develop åˆ†æ”¯ã€‚</p><p><strong>ç›®å‰featureåˆ†æ”¯èµ·åè§„åˆ™ä»¥ dev_ å¼€å¤´ï¼Œåé¢è·Ÿå½“å‰å¼€å‘åŠŸèƒ½</strong></p><h2 id="åˆ†æ”¯æäº¤ä¸åˆå¹¶"><a href="#åˆ†æ”¯æäº¤ä¸åˆå¹¶" class="headerlink" title="åˆ†æ”¯æäº¤ä¸åˆå¹¶"></a>åˆ†æ”¯æäº¤ä¸åˆå¹¶</h2><p><strong>å¦‚æœ feature éœ€è¦ develop çš„åŠŸèƒ½ï¼Œä¸è¦å°† develop åˆ†æ”¯ merge åˆ° feature åˆ†æ”¯ï¼Œåº”è¯¥ä½¿ç”¨ feature rebase develop</strong></p><p>åˆ†æ”¯æäº¤ä½¿ç”¨ rebase æˆ– merge æ–¹å¼éƒ½å¯ä»¥ï¼Œä¸€èˆ¬æ¥è¯´commit å°‘çš„åœºæ™¯æˆ‘ä¼šæ¯”è¾ƒå–œæ¬¢ rebaseï¼Œä½†å¦‚æœcommitæ”’çš„å¤šäº†ï¼Œrebase è§£å†³å†²çªä¼šå¾ˆç´¯ã€‚</p><h3 id="rebase-æ“ä½œ"><a href="#rebase-æ“ä½œ" class="headerlink" title="rebase æ“ä½œ"></a>rebase æ“ä½œ</h3><p>ä¾‹å¦‚ï¼Œå¼€å§‹å¼€å‘æ—¶ï¼Œåˆ†æ”¯æ˜¯è¿™æ ·çš„</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">* -- * -- A (develop)</span><br><span class="line">           \</span><br><span class="line">            * (dev_xxx)</span><br></pre></td></tr></table></figure><p>å¼€å‘å®Œæˆï¼Œå‡†å¤‡æäº¤æ—¶ï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">* -- * -- A -- B -- C -- D -- E (develop)</span><br><span class="line">           \</span><br><span class="line">            * -- X -- Y -- Z (dev_xxx)</span><br></pre></td></tr></table></figure><p>å‘½ä»¤è¡Œæ­¥éª¤å¦‚ä¸‹ï¼ˆGUIå‚è€ƒå‘½ä»¤è¡Œæ‰§è¡Œå¯¹åº”æ“ä½œï¼‰</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line"></span><br><span class="line">git commit -m "xxx"</span><br><span class="line"></span><br><span class="line">git pull  //ç”¨äºæ›´æ–°è¿œç«¯åˆ†æ”¯(git fetch ä¹Ÿå¯ä»¥)</span><br><span class="line"></span><br><span class="line">git rebase origin/develop //å°†å½“å‰åˆ†æ”¯baseå˜ä¸ºdevelop çš„æœ€æ–° commit</span><br></pre></td></tr></table></figure><p>è¿™ä¸€æ­¥çš„å®é™…åŸç†æ˜¯ï¼Œgitä¼šä»developæ–°å¼€ä¸€ä¸ªåˆ†æ”¯ï¼Œå°†ä½ å½“å‰çš„dev_xxx åˆ†æ”¯çš„ commit æŒ‰ç…§æäº¤é¡ºåºæŒ¨ä¸ª cherry-pick åˆ°æ–°å¼€åˆ†æ”¯ä¸Š</p><p>è¿™ä¸€æ­¥æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚æœ develop çš„ B C D Eç­‰commit ä¸ X Y Z å†²çªï¼Œåˆ™éœ€è¦ä¾æ¬¡è§£å†³å†²çª</p><p>è§£å†³å†²çªä»¥åï¼Œæ‰§è¡Œ <code>git rebase --continue</code> æˆ–è€… <code>git rebase --skip</code> ç»§ç»­æ‰§è¡Œæ¥ä¸‹æ¥çš„ rebase</p><p>rebase ç»“æŸåï¼Œåˆ†æ”¯ç»“æ„å°†å˜ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">* -- * -- A -- B -- C -- D -- E (develop)</span><br><span class="line">                               \</span><br><span class="line">                                 -- * -- X -- Y -- Z (dev_xxx)</span><br></pre></td></tr></table></figure><p>ç„¶åéœ€è¦æ‰§è¡Œ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push -f // å¿…é¡»åŠ  -f å¼ºåˆ¶æ¨é€ï¼Œå¦åˆ™ç”±äºæœ¬åœ°åˆ†æ”¯çš„baseä¸è¿œç«¯ä¸ä¸€è‡´ï¼Œä¼šæŠ¥éœ€è¦ git pull æ— æ³•æäº¤</span><br></pre></td></tr></table></figure><p>æäº¤å®Œæˆåå» gitlab åˆ›å»º merge requestï¼Œèµ°æ­£å¸¸ review æµç¨‹ï¼Œåˆå¹¶ä»£ç ã€‚</p><br /><p>æœ¬æ–‡è½¬è½½è‡ª <a href="https://www.kymjs.com/manager/2020/05/29/01/" target="_blank" rel="noopener">å†èŠ Git Flow</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰å¶å°”çœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« ï¼Œæ˜¯è®² Git Flow çš„ï¼Œè°ˆäº†åˆ†æ”¯ç›¸å…³çš„ä¸€äº›çŸ¥è¯†ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æŠ€æœ¯" scheme="https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="git" scheme="https://kaviilee.github.io/blog/tags/git/"/>
    
      <category term="è§„èŒƒ" scheme="https://kaviilee.github.io/blog/tags/%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>ä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆæŒ‡åŒ—</title>
    <link href="https://kaviilee.github.io/blog/2020/08/18/%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%88%E6%8E%92%E7%89%88%E6%8C%87%E5%8C%97/"/>
    <id>https://kaviilee.github.io/blog/2020/08/18/%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%88%E6%8E%92%E7%89%88%E6%8C%87%E5%8C%97/</id>
    <published>2020-08-18T11:31:47.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨çœ‹æ–‡æ¡£çš„æ—¶å€™ï¼Œå¶ç„¶çœ‹åˆ°è¿™ç¯‡å…³äºä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆå»ºè®®çš„æ–‡ç« ï¼Œè§‰å¾—å¯ä»¥åˆ†äº«å‡ºæ¥~</p><a id="more"></a><h2 id="ç©ºæ ¼"><a href="#ç©ºæ ¼" class="headerlink" title="ç©ºæ ¼"></a>ç©ºæ ¼</h2><p>ã€Œæœ‰ç ”ç©¶æ˜¾ç¤ºï¼Œæ‰“å­—çš„æ—¶å€™ä¸å–œæ¬¢åœ¨ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´åŠ ç©ºæ ¼çš„äººï¼Œæ„Ÿæƒ…è·¯éƒ½èµ°å¾—å¾ˆè¾›è‹¦ï¼Œæœ‰ä¸ƒæˆçš„æ¯”ä¾‹ä¼šåœ¨ 34 å²çš„æ—¶å€™è·Ÿè‡ªå·±ä¸çˆ±çš„äººç»“å©šï¼Œè€Œå…¶ä½™ä¸‰æˆçš„äººæœ€ååªèƒ½æŠŠé—äº§ç•™ç»™è‡ªå·±çš„çŒ«ã€‚æ¯•ç«Ÿçˆ±æƒ…è·Ÿä¹¦å†™éƒ½éœ€è¦é€‚æ—¶åœ°ç•™ç™½ã€‚</p><p>ä¸å¤§å®¶å…±å‹‰ä¹‹ã€‚ã€â€”â€”<a href="https://github.com/vinta/pangu.js" target="_blank" rel="noopener">vinta/paranoid-auto-spacing</a></p><h3 id="ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼"><a href="#ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼" class="headerlink" title="ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼"></a>ä¸­è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>åœ¨ LeanCloud ä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»• <code>AVObject</code> è¿›è¡Œçš„ã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>åœ¨LeanCloudä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»•<code>AVObject</code>è¿›è¡Œçš„ã€‚</p></blockquote><blockquote><p>åœ¨ LeanCloudä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»•<code>AVObject</code> è¿›è¡Œçš„ã€‚</p></blockquote><p>å®Œæ•´çš„æ­£ç¡®ç”¨æ³•ï¼š</p><blockquote><p>åœ¨ LeanCloud ä¸Šï¼Œæ•°æ®å­˜å‚¨æ˜¯å›´ç»• <code>AVObject</code> è¿›è¡Œçš„ã€‚æ¯ä¸ª <code>AVObject</code> éƒ½åŒ…å«äº†ä¸ JSON å…¼å®¹çš„ key-value å¯¹åº”çš„æ•°æ®ã€‚æ•°æ®æ˜¯ schema-free çš„ï¼Œä½ ä¸éœ€è¦åœ¨æ¯ä¸ª <code>AVObject</code> ä¸Šæå‰æŒ‡å®šå­˜åœ¨å“ªäº›é”®ï¼Œåªè¦ç›´æ¥è®¾å®šå¯¹åº”çš„ key-value å³å¯ã€‚</p></blockquote><p>ä¾‹å¤–ï¼šã€Œè±†ç“£FMã€ç­‰äº§å“åè¯ï¼ŒæŒ‰ç…§å®˜æ–¹æ‰€å®šä¹‰çš„æ ¼å¼ä¹¦å†™ã€‚</p><h3 id="ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼"><a href="#ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼" class="headerlink" title="ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼"></a>ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>ä»Šå¤©å‡ºå»ä¹°èœèŠ±äº† 5000 å…ƒã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>ä»Šå¤©å‡ºå»ä¹°èœèŠ±äº† 5000å…ƒã€‚</p></blockquote><blockquote><p>ä»Šå¤©å‡ºå»ä¹°èœèŠ±äº†5000å…ƒã€‚</p></blockquote><h3 id="æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼"><a href="#æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼" class="headerlink" title="æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼"></a>æ•°å­—ä¸å•ä½ä¹‹é—´æ— éœ€å¢åŠ ç©ºæ ¼</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>æˆ‘å®¶çš„å…‰çº¤å…¥æˆ·å®½å¸¦æœ‰ 10Gbpsï¼ŒSSD ä¸€å…±æœ‰ 10TBã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>æˆ‘å®¶çš„å…‰çº¤å…¥æˆ·å®½å¸¦æœ‰ 10 Gbpsï¼ŒSSD ä¸€å…±æœ‰ 20 TBã€‚</p></blockquote><p>å¦å¤–ï¼Œåº¦ï¼ç™¾åˆ†æ¯”ä¸æ•°å­—ä¹‹é—´ä¸éœ€è¦å¢åŠ ç©ºæ ¼ï¼š</p><p>æ­£ç¡®ï¼š</p><blockquote><p>ä»Šå¤©æ˜¯ 233Â° çš„é«˜æ¸©ã€‚</p></blockquote><blockquote><p>æ–° MacBook Pro æœ‰ 15% çš„ CPU æ€§èƒ½æå‡ã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>ä»Šå¤©æ˜¯ 233 Â° çš„é«˜æ¸©ã€‚</p></blockquote><blockquote><p>æ–° MacBook Pro æœ‰ 15 % çš„ CPU æ€§èƒ½æå‡ã€‚</p></blockquote><h3 id="å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼"><a href="#å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼" class="headerlink" title="å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼"></a>å…¨è§’æ ‡ç‚¹ä¸å…¶ä»–å­—ç¬¦ä¹‹é—´ä¸åŠ ç©ºæ ¼</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>åˆšåˆšä¹°äº†ä¸€éƒ¨ iPhoneï¼Œå¥½å¼€å¿ƒï¼</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>åˆšåˆšä¹°äº†ä¸€éƒ¨ iPhone ï¼Œå¥½å¼€å¿ƒï¼</p></blockquote><h3 id="ms-text-autospace-to-the-rescue"><a href="#ms-text-autospace-to-the-rescue" class="headerlink" title="-ms-text-autospace to the rescue?"></a><code>-ms-text-autospace</code> to the rescue?</h3><p>Microsoft æœ‰ä¸ª <a href="http://msdn.microsoft.com/en-us/library/ie/ms531164(v=vs.85).aspx" target="_blank" rel="noopener"><code>-ms-text-autospace</code></a> çš„ CSS å±æ€§å¯ä»¥å®ç°è‡ªåŠ¨ä¸ºä¸­è‹±æ–‡ä¹‹é—´å¢åŠ ç©ºç™½ã€‚ä¸è¿‡ç›®å‰å¹¶æœªæ™®åŠï¼Œå¦å¤–åœ¨å…¶ä»–åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ OS Xã€iOS çš„ç”¨æˆ·ç•Œé¢ç›®å‰å¹¶ä¸å­˜åœ¨è¿™ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥è¯·ç»§ç»­ä¿æŒéšæ‰‹åŠ ç©ºæ ¼çš„ä¹ æƒ¯ã€‚</p><h2 id="æ ‡ç‚¹ç¬¦å·"><a href="#æ ‡ç‚¹ç¬¦å·" class="headerlink" title="æ ‡ç‚¹ç¬¦å·"></a>æ ‡ç‚¹ç¬¦å·</h2><h3 id="ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·"><a href="#ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·" class="headerlink" title="ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·"></a>ä¸é‡å¤ä½¿ç”¨æ ‡ç‚¹ç¬¦å·</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>å¾·å›½é˜Ÿç«Ÿç„¶æˆ˜èƒœäº†å·´è¥¿é˜Ÿï¼</p></blockquote><blockquote><p>å¥¹ç«Ÿç„¶å¯¹ä½ è¯´ã€Œå–µã€ï¼Ÿï¼</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>å¾·å›½é˜Ÿç«Ÿç„¶æˆ˜èƒœäº†å·´è¥¿é˜Ÿï¼ï¼</p></blockquote><blockquote><p>å¾·å›½é˜Ÿç«Ÿç„¶æˆ˜èƒœäº†å·´è¥¿é˜Ÿï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p></blockquote><blockquote><p>å¥¹ç«Ÿç„¶å¯¹ä½ è¯´ã€Œå–µã€ï¼Ÿï¼Ÿï¼ï¼</p></blockquote><blockquote><p>å¥¹ç«Ÿç„¶å¯¹ä½ è¯´ã€Œå–µã€ï¼Ÿï¼ï¼Ÿï¼ï¼Ÿï¼Ÿï¼ï¼</p></blockquote><h2 id="å…¨è§’å’ŒåŠè§’"><a href="#å…¨è§’å’ŒåŠè§’" class="headerlink" title="å…¨è§’å’ŒåŠè§’"></a>å…¨è§’å’ŒåŠè§’</h2><p>ä¸æ˜ç™½ä»€ä¹ˆæ˜¯å…¨è§’ï¼ˆå…¨å½¢ï¼‰ä¸åŠè§’ï¼ˆåŠå½¢ï¼‰ç¬¦å·ï¼Ÿè¯·æŸ¥çœ‹ç»´åŸºç™¾ç§‘è¯æ¡ã€<a href="http://zh.wikipedia.org/wiki/%E5%85%A8%E5%BD%A2%E5%92%8C%E5%8D%8A%E5%BD%A2" target="_blank" rel="noopener">å…¨è§’å’ŒåŠè§’</a>ã€ã€‚</p><h3 id="ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹"><a href="#ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹" class="headerlink" title="ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹"></a>ä½¿ç”¨å…¨è§’ä¸­æ–‡æ ‡ç‚¹</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>å—¨ï¼ä½ çŸ¥é“å˜›ï¼Ÿä»Šå¤©å‰å°çš„å°å¦¹è·Ÿæˆ‘è¯´ã€Œå–µã€äº†å“ï¼</p></blockquote><blockquote><p>æ ¸ç£å…±æŒ¯æˆåƒï¼ˆNMRIï¼‰æ˜¯ä»€ä¹ˆåŸç†éƒ½ä¸çŸ¥é“ï¼ŸJFGIï¼</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>å—¨! ä½ çŸ¥é“å˜›? ä»Šå¤©å‰å°çš„å°å¦¹è·Ÿæˆ‘è¯´ â€œå–µâ€ äº†å“!</p></blockquote><blockquote><p>å—¨!ä½ çŸ¥é“å˜›?ä»Šå¤©å‰å°çš„å°å¦¹è·Ÿæˆ‘è¯´â€å–µâ€äº†å“!</p></blockquote><blockquote><p>æ ¸ç£å…±æŒ¯æˆåƒ (NMRI) æ˜¯ä»€ä¹ˆåŸç†éƒ½ä¸çŸ¥é“? JFGI!</p></blockquote><blockquote><p>æ ¸ç£å…±æŒ¯æˆåƒ(NMRI)æ˜¯ä»€ä¹ˆåŸç†éƒ½ä¸çŸ¥é“?JFGI!</p></blockquote><h3 id="æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦"><a href="#æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦" class="headerlink" title="æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦"></a>æ•°å­—ä½¿ç”¨åŠè§’å­—ç¬¦</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>è¿™ä»¶è›‹ç³•åªå– 1000 å…ƒã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>è¿™ä»¶è›‹ç³•åªå– ï¼‘ï¼ï¼ï¼ å…ƒã€‚</p></blockquote><p>ä¾‹å¤–ï¼šåœ¨è®¾è®¡ç¨¿ã€å®£ä¼ æµ·æŠ¥ä¸­å¦‚å‡ºç°æå°‘é‡æ•°å­—çš„æƒ…å½¢æ—¶ï¼Œä¸ºæ–¹ä¾¿æ–‡å­—å¯¹é½ï¼Œæ˜¯å¯ä»¥ä½¿ç”¨å…¨è§’æ•°å­—çš„ã€‚</p><h3 id="é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ã€ç‰¹æ®Šåè¯ï¼Œå…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹"><a href="#é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ã€ç‰¹æ®Šåè¯ï¼Œå…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹" class="headerlink" title="é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ã€ç‰¹æ®Šåè¯ï¼Œå…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹"></a>é‡åˆ°å®Œæ•´çš„è‹±æ–‡æ•´å¥ã€ç‰¹æ®Šåè¯ï¼Œå…¶å…§å®¹ä½¿ç”¨åŠè§’æ ‡ç‚¹</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>ä¹”å¸ƒæ–¯é‚£å¥è¯æ˜¯æ€ä¹ˆè¯´çš„ï¼Ÿã€ŒStay hungry, stay foolish.ã€</p></blockquote><blockquote><p>æ¨èä½ é˜…è¯»ã€ŠHackers &amp; Painters: Big Ideas from the Computer Ageã€‹ï¼Œéå¸¸çš„æœ‰è¶£ã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>ä¹”å¸ƒæ–¯é‚£å¥è¯æ˜¯æ€ä¹ˆè¯´çš„ï¼Ÿã€ŒStay hungryï¼Œstay foolishã€‚ã€</p></blockquote><blockquote><p>æ¨èä½ é˜…è¯»ã€ŠHackersï¼†Paintersï¼šBig Ideas from the Computer Ageã€‹ï¼Œéå¸¸çš„æœ‰è¶£ã€‚</p></blockquote><h2 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h2><h3 id="ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™"><a href="#ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™" class="headerlink" title="ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™"></a>ä¸“æœ‰åè¯ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™</h3><p>å¤§å°å†™ç›¸å…³ç”¨æ³•åŸå±äºè‹±æ–‡ä¹¦å†™èŒƒç•´ï¼Œä¸å±äºæœ¬ wiki è®¨è®ºå…§å®¹ï¼Œåœ¨è¿™é‡Œåªå¯¹éƒ¨åˆ†æ˜“é”™ç”¨æ³•è¿›è¡Œç®€è¿°ã€‚</p><p>æ­£ç¡®ï¼š</p><blockquote><p>ä½¿ç”¨ GitHub ç™»å½•</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ GitHubã€Foursquareã€Microsoft Corporationã€Googleã€Facebook, Inc.ã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>ä½¿ç”¨ github ç™»å½•</p></blockquote><blockquote><p>ä½¿ç”¨ GITHUB ç™»å½•</p></blockquote><blockquote><p>ä½¿ç”¨ Github ç™»å½•</p></blockquote><blockquote><p>ä½¿ç”¨ gitHub ç™»å½•</p></blockquote><blockquote><p>ä½¿ç”¨ gï½²ã‚“Ä¤Ğ¦8 ç™»å½•</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ githubã€foursquareã€microsoft corporationã€googleã€facebook, inc.ã€‚</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ GITHUBã€FOURSQUAREã€MICROSOFT CORPORATIONã€GOOGLEã€FACEBOOK, INC.ã€‚</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ Githubã€FourSquareã€MicroSoft Corporationã€Googleã€FaceBook, Inc.ã€‚</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ gitHubã€fourSquareã€microSoft Corporationã€googleã€faceBook, Inc.ã€‚</p></blockquote><blockquote><p>æˆ‘ä»¬çš„å®¢æˆ·æœ‰ gï½²ã‚“Ä¤Ğ¦8ã€ï½·ouĞ¯Æ§quï¾‘Ğ³Ñ”ã€à¹“à¹€Ï‚Ğ³à¹à¸£à¹Å¦t Ï‚à¹Ğ³×§à¹Ğ³à¸„tà¹€à¹à¸ nã€900913ã€Æ’4á„ƒÃ«Ğ²à¹à¹Ğº, IĞŸá„ƒ.ã€‚</p></blockquote><p>æ³¨æ„ï¼šå½“ç½‘é¡µä¸­éœ€è¦é…åˆæ•´ä½“è§†è§‰é£æ ¼è€Œå‡ºç°å…¨éƒ¨å¤§å†™ï¼å°å†™çš„æƒ…å½¢ï¼ŒHTML ä¸­è¯·ä½¿ç”¨æ ‡å‡†çš„å¤§å°å†™è§„èŒƒè¿›è¡Œä¹¦å†™ï¼›å¹¶é€šè¿‡ <code>text-transform: uppercase;</code>ï¼<code>text-transform: lowercase;</code> å¯¹è¡¨ç°å½¢å¼è¿›è¡Œå®šä¹‰ã€‚</p><h3 id="ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™"><a href="#ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™" class="headerlink" title="ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™"></a>ä¸è¦ä½¿ç”¨ä¸åœ°é“çš„ç¼©å†™</h3><p>æ­£ç¡®ï¼š</p><blockquote><p>æˆ‘ä»¬éœ€è¦ä¸€ä½ç†Ÿæ‚‰ JavaScriptã€HTML5ï¼Œè‡³å°‘ç†è§£ä¸€ç§æ¡†æ¶ï¼ˆå¦‚ Backbone.jsã€AngularJSã€React ç­‰ï¼‰çš„å‰ç«¯å¼€å‘è€…ã€‚</p></blockquote><p>é”™è¯¯ï¼š</p><blockquote><p>æˆ‘ä»¬éœ€è¦ä¸€ä½ç†Ÿæ‚‰ Jsã€h5ï¼Œè‡³å°‘ç†è§£ä¸€ç§æ¡†æ¶ï¼ˆå¦‚ backboneã€angularã€RJS ç­‰ï¼‰çš„ FEDã€‚</p></blockquote><h2 id="äº‰è®®"><a href="#äº‰è®®" class="headerlink" title="äº‰è®®"></a>äº‰è®®</h2><p>ä»¥ä¸‹ç”¨æ³•ç•¥å¸¦æœ‰ä¸ªäººè‰²å½©ï¼Œå³ï¼šæ— è®ºæ˜¯å¦éµå¾ªä¸‹è¿°è§„åˆ™ï¼Œä»è¯­æ³•çš„è§’åº¦æ¥è®²éƒ½æ˜¯<strong>æ­£ç¡®</strong>çš„ã€‚</p><h3 id="é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼"><a href="#é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼" class="headerlink" title="é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼"></a>é“¾æ¥ä¹‹é—´å¢åŠ ç©ºæ ¼</h3><p>ç”¨æ³•ï¼š</p><blockquote><p>è¯· <a href="#">æäº¤ä¸€ä¸ª issue</a> å¹¶åˆ†é…ç»™ç›¸å…³åŒäº‹ã€‚</p></blockquote><blockquote><p>è®¿é—®æˆ‘ä»¬ç½‘ç«™çš„æœ€æ–°åŠ¨æ€ï¼Œè¯· <a href="#">ç‚¹å‡»è¿™é‡Œ</a> è¿›è¡Œè®¢é˜…ï¼</p></blockquote><p>å¯¹æ¯”ç”¨æ³•ï¼š</p><blockquote><p>è¯·<a href="#">æäº¤ä¸€ä¸ª issue</a> å¹¶åˆ†é…ç»™ç›¸å…³åŒäº‹ã€‚</p></blockquote><blockquote><p>è®¿é—®æˆ‘ä»¬ç½‘ç«™çš„æœ€æ–°åŠ¨æ€ï¼Œè¯·<a href="#">ç‚¹å‡»è¿™é‡Œ</a>è¿›è¡Œè®¢é˜…ï¼</p></blockquote><h3 id="ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·"><a href="#ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·" class="headerlink" title="ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·"></a>ç®€ä½“ä¸­æ–‡ä½¿ç”¨ç›´è§’å¼•å·</h3><p>ç”¨æ³•ï¼š</p><blockquote><p>ã€Œè€å¸ˆï¼Œã€æœ‰æ¡ä¸ç´Šã€çš„ã€ç´Šã€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿã€</p></blockquote><p>å¯¹æ¯”ç”¨æ³•ï¼š</p><blockquote><p>â€œè€å¸ˆï¼Œâ€˜æœ‰æ¡ä¸ç´Šâ€™çš„â€˜ç´Šâ€™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿâ€</p></blockquote><br /><p>æœ¬æ–‡å±äºæ‘˜å½•ï¼Œæ›´å¤šå†…å®¹åœ¨ <a href="https://github.com/mzlogin/chinese-copywriting-guidelines" target="_blank" rel="noopener">chinese-copywriting-guidelines</a> ~</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åœ¨çœ‹æ–‡æ¡£çš„æ—¶å€™ï¼Œå¶ç„¶çœ‹åˆ°è¿™ç¯‡å…³äºä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆå»ºè®®çš„æ–‡ç« ï¼Œè§‰å¾—å¯ä»¥åˆ†äº«å‡ºæ¥~&lt;/p&gt;
    
    </summary>
    
    
      <category term="æŠ€æœ¯" scheme="https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="è§„èŒƒ" scheme="https://kaviilee.github.io/blog/tags/%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>Docker å­¦ä¹ ç¬”è®°</title>
    <link href="https://kaviilee.github.io/blog/2020/07/21/docker/"/>
    <id>https://kaviilee.github.io/blog/2020/07/21/docker/</id>
    <published>2020-07-21T00:03:15.000Z</published>
    <updated>2022-04-23T06:32:29.148Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯åœ¨çœ‹å®Œç‹‚ç¥çš„ Docker è§†é¢‘ä¹‹ååšçš„ç¬”è®°~å­˜æ¡£ç”¨</p><a id="more"></a><h2 id="Docker-æ¦‚è¿°"><a href="#Docker-æ¦‚è¿°" class="headerlink" title="Docker æ¦‚è¿°"></a>Docker æ¦‚è¿°</h2><h3 id="Docekr-ä¸ºä»€ä¹ˆä¼šå‡ºç°"><a href="#Docekr-ä¸ºä»€ä¹ˆä¼šå‡ºç°" class="headerlink" title="Docekr ä¸ºä»€ä¹ˆä¼šå‡ºç°"></a>Docekr ä¸ºä»€ä¹ˆä¼šå‡ºç°</h3><p>ä¸€æ¬¾äº§å“æœ‰å¼€å‘å’Œç”Ÿäº§ä¸¤å¥—ç¯å¢ƒï¼Œä¹Ÿå°±å¯¹åº”ä¸¤å¥—åº”ç”¨é…ç½®ï¼Œä¸€èˆ¬å°±ä¼šå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ã€‚</p><p>å¼€å‘å’Œè¿ç»´é—®é¢˜ï¼šè¿™ä¸ªé¡¹ç›®åœ¨æˆ‘çš„ç”µè„‘ä¸Šæ˜¯å¯ä»¥è¿è¡Œçš„ï¼ä½†æ˜¯ä¼´éšç‰ˆæœ¬æ›´æ–°è¿­ä»£ï¼Œä¸åŒç‰ˆæœ¬ç¯å¢ƒçš„å…¼å®¹ï¼Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ã€‚</p><p>ç¯å¢ƒé…ç½®é—®é¢˜ï¼šç¯å¢ƒé…ç½®æ˜¯éå¸¸éº»çƒ¦çš„ï¼Œæ¯ä¸ªæœºå™¨éƒ½è¦éƒ¨ç½²ç¯å¢ƒï¼Œè´¹æ—¶è´¹åŠ›ã€‚</p><p>æ€è€ƒï¼šé¡¹ç›®æ˜¯å¦å¯ä»¥å¸¦ä¸Šç¯å¢ƒä¸€èµ·å®‰è£…æ‰“åŒ…ï¼ŸæŠŠåŸå§‹ç¯å¢ƒä¸€æ¨¡ä¸€æ ·åœ°å¤åˆ¶è¿‡æ¥ï¼Ÿ</p><p>åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ååˆ†éº»çƒ¦ï¼Œä¸èƒ½è·¨å¹³å°ã€‚</p><p>ä¼ ç»Ÿå¼€å‘ï¼šå¼€å‘äººå‘˜åšé¡¹ç›®ã€‚è¿ç»´äººå‘˜åšéƒ¨ç½²</p><p>ç°åœ¨ï¼šå¼€å‘æ‰“åŒ…éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€èµ·åš</p><h3 id="Docker-èƒ½å¹²ä»€ä¹ˆï¼Ÿ"><a href="#Docker-èƒ½å¹²ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Docker èƒ½å¹²ä»€ä¹ˆï¼Ÿ"></a>Docker èƒ½å¹²ä»€ä¹ˆï¼Ÿ</h3><blockquote><p>ä¹‹å‰çš„è™šæ‹ŸæœºæŠ€æœ¯ï¼Œæ‰€æœ‰çš„é¡¹ç›®éƒ½åœ¨åŒä¸€ä¸ªç¯å¢ƒä¸‹è¿è¡Œã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/08/14/XKaBgUARTQxqc2b.png" alt=""></p><p>è™šæ‹Ÿæœºçš„ç¼ºç‚¹</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.å ç”¨èµ„æºéå¸¸å¤š</span><br><span class="line">2.å†—ä½™æŠ€æœ¯å¤š</span><br><span class="line">3.å¯åŠ¨å¾ˆæ…¢</span><br></pre></td></tr></table></figure><blockquote><p>å®¹å™¨åŒ–æŠ€æœ¯</p></blockquote><p><code>å®¹å™¨åŒ–æŠ€æœ¯ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿ</code></p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/08/14/uYhFIpJeADPOQ5r.png" alt="image-2020070202"></p><p>æ¯”è¾ƒ Docker å’Œè™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒ</p><ul><li>ä¼ ç»Ÿçš„è™šæ‹Ÿæœºï¼Œè™šæ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶åï¼Œåœ¨å…¶ä¸Šè¿è¡Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œåœ¨è¯¥æ“ä½œç³»ç»Ÿä¸Šå®‰è£…å’Œè¿è¡Œè½¯ä»¶ï¼›</li><li>å®¹å™¨å†…çš„åº”ç”¨ç›´æ¥è¿è¡Œåœ¨å®¿ä¸»æœºçš„å†…æ ¸ï¼Œå®¹å™¨æ˜¯æ²¡æœ‰è‡ªå·±çš„å†…æ ¸çš„ï¼Œä¹Ÿæ²¡æœ‰è¿›è¡Œç¡¬ä»¶è™šæ‹Ÿï¼Œæ›´åŠ è½»ä¾¿ï¼›</li><li>æ¯ä¸ªå®¹å™¨é—´éƒ½æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œæ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œäº’ä¸å½±å“ï¼Œèƒ½åŒºåˆ†è®¡ç®—èµ„æºã€‚</li></ul><blockquote><p>DevOps (å¼€å‘ï¼Œè¿ç»´)</p></blockquote><p><strong>æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²</strong></p><p>ä¼ ç»Ÿï¼šä¸€å †å¸®åŠ©æ–‡æ¡£ï¼Œå®‰è£…ç¨‹åº</p><p>Dockerï¼šä¸€é”®è¿è¡Œæ‰“åŒ…é•œåƒå‘å¸ƒæµ‹è¯•</p><p><strong>æ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹</strong></p><p>ä½¿ç”¨äº† Docker ä¹‹å,æˆ‘ä»¬éƒ¨ç½²åº”ç”¨å°±åƒæ­ç§¯æœ¨ä¸€æ ·!</p><p>é¡¹ç›®æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒï¼Œæ‰©å±•ï¼Œå¯ä»¥åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šéƒ¨ç½²ã€‚</p><p><strong>æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´</strong></p><p>åœ¨å®¹å™¨åŒ–ä¹‹åï¼Œæˆ‘ä»¬å¼€å‘ï¼Œæµ‹è¯•ç¯å¢ƒæ˜¯é«˜åº¦ä¸€è‡´çš„ã€‚</p><p><strong>æ›´é«˜æ•ˆçš„è®¡ç®—æœºèµ„æºåˆ©ç”¨</strong></p><p>Docker æ˜¯å†…æ ¸çº§åˆ«çš„è™šæ‹ŸåŒ–ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªç‰©ç†æœºä¸Šè¿è¡Œå¾ˆå¤šçš„å®¹å™¨å®ä¾‹ï¼ŒæœåŠ¡å™¨æ€§èƒ½å¯ä»¥è¢«å‹æ¦¨åˆ°æè‡´ã€‚</p><h2 id="Docker-å®‰è£…"><a href="#Docker-å®‰è£…" class="headerlink" title="Docker å®‰è£…"></a>Docker å®‰è£…</h2><h3 id="Docker-çš„åŸºæœ¬ç»„æˆ"><a href="#Docker-çš„åŸºæœ¬ç»„æˆ" class="headerlink" title="Docker çš„åŸºæœ¬ç»„æˆ"></a>Docker çš„åŸºæœ¬ç»„æˆ</h3><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://oscimg.oschina.net/oscnet/6980be9f402ffabf9c044b8170630006086.png" alt="Dockeræ¶æ„å›¾"></p><p><strong>é•œåƒ (image)</strong></p><p>Docker é•œåƒå¥½æ¯”ä¸€ä¸ªæ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ¨¡æ¿æ¥åˆ›å»ºå®¹å™¨æœåŠ¡ nginx é•œåƒ =&gt; run =&gt; nginx01 (æä¾›æœåŠ¡å™¨)ã€‚</p><p>é€šè¿‡è¿™ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨(æœ€ç»ˆæœåŠ¡è¿è¡Œæˆ–è€…é¡¹ç›®è¿è¡Œå°±æ˜¯åœ¨å®¹å™¨ä¸­çš„)ã€‚</p><p><strong>å®¹å™¨ (container)</strong></p><p>Docker åˆ©ç”¨å®¹å™¨æŠ€æœ¯ï¼Œç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ï¼Œé€šè¿‡é•œåƒæ¥åˆ›å»º</p><p>å®¹å™¨å’Œé•œåƒå…³ç³»ç±»ä¼¼äºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å¯¹è±¡å’Œç±»ã€‚</p><p><strong>ä»“åº“(repository)</strong></p><p>ä»“åº“å°±æ˜¯å­˜æ”¾é•œåƒçš„åœ°æ–¹ï¼Œä»“åº“åˆ†ä¸ºå…±æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ã€‚</p><p>Docker hubï¼ˆé»˜è®¤å›½å¤–é•œåƒï¼‰ï¼Œé˜¿é‡Œäº‘ï¼Œç½‘æ˜“æœ‰å›½å†…é•œåƒåŠ é€ŸæœåŠ¡ã€‚</p><h3 id="å®‰è£…-Docker"><a href="#å®‰è£…-Docker" class="headerlink" title="å®‰è£… Docker"></a>å®‰è£… Docker</h3><h4 id="CentOS-Docker-å®‰è£…"><a href="#CentOS-Docker-å®‰è£…" class="headerlink" title="CentOS Docker å®‰è£…"></a>CentOS Docker å®‰è£…</h4><blockquote><p>ç¯å¢ƒå‡†å¤‡</p></blockquote><ol><li>ä¼šä¸€ç‚¹ Linux åŸºç¡€</li><li>ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿ CentOS7</li><li>ä½¿ç”¨ XShell è¿æ¥è¿œç¨‹æœåŠ¡å™¨</li></ol><blockquote><p>ç¯å¢ƒæŸ¥çœ‹</p></blockquote><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> uname -r</span></span><br><span class="line">3.10.0-1062.18.1.el7.x86_64</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">ç³»ç»Ÿç‰ˆæœ¬</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> cat /etc/os-release</span></span><br><span class="line">NAME="CentOS Linux"</span><br><span class="line">VERSION="7 (Core)"</span><br><span class="line">ID="centos"</span><br><span class="line">ID_LIKE="rhel fedora"</span><br><span class="line">VERSION_ID="7"</span><br><span class="line">PRETTY_NAME="CentOS Linux 7 (Core)"</span><br><span class="line">ANSI_COLOR="0;31"</span><br><span class="line">CPE_NAME="cpe:/o:centos:centos:7"</span><br><span class="line">HOME_URL="https://www.centos.org/"</span><br><span class="line">BUG_REPORT_URL="https://bugs.centos.org/"</span><br><span class="line"></span><br><span class="line">CENTOS_MANTISBT_PROJECT="CentOS-7"</span><br><span class="line">CENTOS_MANTISBT_PROJECT_VERSION="7"</span><br><span class="line">REDHAT_SUPPORT_PRODUCT="centos"</span><br><span class="line">REDHAT_SUPPORT_PRODUCT_VERSION="7"</span><br></pre></td></tr></table></figure><blockquote><p>å®‰è£… Docker</p></blockquote><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸€, å¸è½½æ—§çš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo yum remove docker \</span></span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br><span class="line">                 </span><br><span class="line"><span class="meta">#</span><span class="bash"> 2, éœ€è¦å®‰è£…çš„åŒ…</span></span><br><span class="line">yum install -y yum-utils \</span><br><span class="line">    device-mapper-persistent-data \</span><br><span class="line">    lvm2</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">3. è®¾ç½®é•œåƒä»“åº“</span></span><br><span class="line">yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo #é»˜è®¤æ˜¯å›½å¤–çš„</span><br><span class="line"></span><br><span class="line">yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo #æ¨èä½¿ç”¨</span><br><span class="line"><span class="meta">#</span><span class="bash">æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•</span></span><br><span class="line">yum makecache fast</span><br><span class="line"><span class="meta">#</span><span class="bash">å®‰è£… docker    </span></span><br><span class="line">sudo yum install docker-ce docker-ce-cli containerd.io </span><br><span class="line"><span class="meta">#</span><span class="bash">å¯åŠ¨ docker</span></span><br><span class="line">systemctl start docker</span><br><span class="line"><span class="meta">#</span><span class="bash">æŸ¥çœ‹ docker ç‰ˆæœ¬</span></span><br><span class="line">docker version</span><br></pre></td></tr></table></figure><blockquote><p>ä¸‹è½½é•œåƒ</p><p>docker pull [è¦ä¸‹è½½çš„é•œåƒ]</p></blockquote><blockquote><p>æŸ¥çœ‹ä¸‹è½½çš„é•œåƒ</p><p>docker images (docker image ls)</p></blockquote><p>å¸è½½ docker</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum remove docker-ce docker-ce-cli containerd.io</span><br><span class="line"></span><br><span class="line">rm -rf &#x2F;var&#x2F;lib&#x2F;docker #docker é»˜è®¤å·¥ä½œè·¯å¾„</span><br></pre></td></tr></table></figure><h4 id="Windows-Docker-å®‰è£…ï¼ˆwin10ï¼‰"><a href="#Windows-Docker-å®‰è£…ï¼ˆwin10ï¼‰" class="headerlink" title="Windows Docker å®‰è£…ï¼ˆwin10ï¼‰"></a>Windows Docker å®‰è£…ï¼ˆwin10ï¼‰</h4><p>ä¸‹è½½å®˜æ–¹ Docker-desktop å®‰è£…ç¨‹åº</p><blockquote><p><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">https://www.docker.com/products/docker-desktop</a></p></blockquote><p>å¼€å¯ Hyper-V</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¼€å¯æœç´¢</span></span><br><span class="line">win + s</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å…¥</span></span><br><span class="line">å¯ç”¨æˆ–å…³é—­windowsåŠŸèƒ½</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/08/14/kEfpcwAuH7BGl45.png" alt=""></p><p>é€‰ä¸­ Hyper-V</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/08/14/8pywI4dJSsPqVXh.png" alt=""></p><h5 id="é…ç½®é•œåƒåŠ é€Ÿ"><a href="#é…ç½®é•œåƒåŠ é€Ÿ" class="headerlink" title="é…ç½®é•œåƒåŠ é€Ÿ"></a>é…ç½®é•œåƒåŠ é€Ÿ</h5><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/07/20/1QNDC4Ug2wVuIW8.png" alt="image-20200720114221052"></p><h3 id="åº•å±‚åŸç†"><a href="#åº•å±‚åŸç†" class="headerlink" title="åº•å±‚åŸç†"></a>åº•å±‚åŸç†</h3><p><strong>Docker æ˜¯æ€ä¹ˆå·¥ä½œçš„</strong></p><p>Docker æ˜¯ä¸€ä¸ª C/S ç»“æ„çš„ç³»ç»Ÿï¼ŒDocker çš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šï¼Œé€šè¿‡ Socket ä»å®¢æˆ·ç«¯è®¿é—®</p><p>DockerServer æ¥æ”¶åˆ° Docker-Client çš„æŒ‡ä»¤ï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/08/14/qTZ1yHfGixmYtU2.png" alt="Dockeråº•å±‚"></p><p>Docker ä¸ºä»€ä¹ˆæ¯” VM å¿«ï¼Ÿ</p><ol><li>Docker æœ‰ç€æ¯”è™šæ‹Ÿæœºæ›´å°‘çš„æŠ½è±¡å±‚</li><li>Dcoker åˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸ï¼ŒVM éœ€è¦çš„æ˜¯ Guest OS</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="http://hongyitong.github.io/img/docker.png" alt="Dockerä¸è™šæ‹Ÿæœº"></p><p>æ–°å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼ŒDocker ä¸éœ€è¦åƒè™šæ‹Ÿæœºä¸€æ ·é‡æ–°å®‰è£…ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè™šæ‹Ÿæœºæ˜¯åŠ è½½ Guest OSï¼Œåˆ†é’Ÿçº§åˆ«çš„ï¼Œè€Œ Docker æ˜¯åˆ©ç”¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œçœç•¥äº†è¿™ä¸ªå¤æ‚çš„è¿‡ç¨‹</p><hr><h2 id="Docker-å‘½ä»¤"><a href="#Docker-å‘½ä»¤" class="headerlink" title="Docker å‘½ä»¤"></a>Docker å‘½ä»¤</h2><h3 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a>å¸®åŠ©å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker version #dockerç‰ˆæœ¬</span><br><span class="line">docker info #æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨æ•°é‡</span><br><span class="line">docker [å‘½ä»¤] --help #æŸ¥çœ‹æŸä¸ªå…·ä½“çš„å‘½ä»¤</span><br></pre></td></tr></table></figure><h3 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="headerlink" title="é•œåƒå‘½ä»¤"></a>é•œåƒå‘½ä»¤</h3><p><strong>docker images</strong> æŸ¥çœ‹ä¸‹è½½çš„æ‰€æœ‰é•œåƒ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> docker images</span></span><br><span class="line">REPOSITORY                TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">mysql                     5.6                 8de95e6026c3        20 hours ago        302MB</span><br><span class="line">redis                     latest              36304d3b4540        12 days ago         104MB</span><br><span class="line">mysql                     latest              30f937e841c8        2 weeks ago         541MB</span><br><span class="line">centos/mysql-57-centos7   latest              f83a2938370c        8 months ago        452MB</span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£é‡Š</span></span><br><span class="line">REPOSITORY é•œåƒçš„ä»“åº“å</span><br><span class="line">TAG é•œåƒçš„æ ‡ç­¾</span><br><span class="line">IMAGE ID é•œåƒID</span><br><span class="line">CREATED é•œåƒåˆ›å»ºæ—¶é—´</span><br><span class="line">SIZE é•œåƒçš„å¤§å°</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å¯é€‰é¡¹</span></span><br><span class="line">Options:</span><br><span class="line">  -a, --all             #åˆ—å‡ºæ‰€æœ‰é•œåƒ</span><br><span class="line">  -q, --quiet           #åªæ˜¾ç¤ºé•œåƒID</span><br></pre></td></tr></table></figure><p><strong>docker search</strong> æœç´¢é•œåƒ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker search mysql</span><br><span class="line">NAMEDESCRIPTIONSTARSOFFICIALAUTOMATED</span><br><span class="line">mysqlMySQL is a widely used, open-source relationâ€¦  9604     [OK]                </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å¯é€‰é¡¹,é€šè¿‡æ”¶è—æ¥è¿‡æ»¤</span></span><br><span class="line">--filter=stars=3000 #æœç´¢å‡ºæ¥çš„é•œåƒæ”¶è—å°±æ˜¯å¤§äº3000çš„</span><br></pre></td></tr></table></figure><p><strong>docker pull</strong> æ‹‰å–é•œåƒ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull nginx [:tag]</span><br><span class="line">Using default tag: latest #å¦‚æœä¸å†™tag é»˜è®¤ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬</span><br><span class="line">latest: Pulling from library/nginx</span><br><span class="line">8559a31e96f4: Pull complete  #åˆ†å±‚ä¸‹è½½,docker imageæ ¸å¿ƒ è”åˆæ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">8d69e59170f7: Pull complete </span><br><span class="line">3f9f1ec1d262: Pull complete </span><br><span class="line">d1f5ff4f210d: Pull complete </span><br><span class="line">1e22bfa8652e: Pull complete </span><br><span class="line">Digest: sha256:21f32f6c08406306d822a0e6e8b7dc81f53f336570e852e25fbe1e3e3d0d0133 #ç­¾å</span><br><span class="line">Status: Downloaded newer image for nginx:latest</span><br><span class="line">docker.io/library/nginx:latest #çœŸå®åœ°å€</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> docker pull nginx ç­‰ä»·äº dicker pull docker.io/library/nginx:latest</span></span><br></pre></td></tr></table></figure><p><strong>docker rmi</strong> åˆ é™¤é•œåƒ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤æŒ‡å®šçš„é•œåƒ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker rmi -f 8de95e6026c3 </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤å…¨éƒ¨çš„é•œåƒ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker rmi -f $(docker images -ap)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ¸…ç©ºä¸´æ—¶é•œåƒ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker rmi $(docker images -q -f dangling=<span class="literal">true</span>)</span></span><br></pre></td></tr></table></figure><p><strong>docker build</strong> ä½¿ç”¨dockerfileåˆ›å»ºé•œåƒ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨å½“å‰ç›®å½•çš„ dockerfile åˆ›å»ºé•œåƒ å½“ dockerfile çš„å‘½åä¸º dockerfile å°±ä¸éœ€è¦åˆ¶å®šæ–‡ä»¶å -f</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker build -t node:10.15-alpine .</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker build -f /path/to/a/dockerfile . <span class="comment"># /path/to/a</span></span></span><br></pre></td></tr></table></figure><h3 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="headerlink" title="å®¹å™¨å‘½ä»¤"></a>å®¹å™¨å‘½ä»¤</h3><p><strong>æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run [options] image</span><br><span class="line"><span class="meta">#</span><span class="bash"> options</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è‹¥imageæœ¬åœ°æ²¡æœ‰åˆ™ä¼šå» dockeré•œåƒåº“æ‹‰å–</span></span><br><span class="line">--name=""  å®¹å™¨åå­— ç”¨äºåŒºåˆ†å®¹å™¨</span><br><span class="line">-d         åå°æ–¹å¼è¿è¡Œ</span><br><span class="line">-it        ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œ,è¿›å…¥å®¹å™¨æŸ¥çœ‹å†…å®¹</span><br><span class="line">-p       æŒ‡å®šå®¹å™¨çš„ç«¯å£ -p 80:8080  ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£</span><br><span class="line">-P(å¤§å†™)    éšæœºæŒ‡å®šç«¯å£</span><br></pre></td></tr></table></figure><p><strong>åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> docker ps å‘½ä»¤ åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> options</span></span><br><span class="line">-a # åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨+å†å²è¿è¡Œè¿‡çš„å®¹å™¨</span><br><span class="line">-n=? # æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨</span><br><span class="line">-q # åªæ˜¾ç¤ºå®¹å™¨çš„ç¼–å·</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker ps </span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker ps -a </span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                    PORTS               NAMES</span><br><span class="line">919e58ff5521        redis               "Docker-entrypoint.sâ€¦"   20 hours ago        Exited (0) 16 hours ago                       redis</span><br></pre></td></tr></table></figure><p><strong>é€€å‡ºå®¹å™¨</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">exit #ç›´æ¥å®¹å™¨åœæ­¢å¹¶é€€å‡º</span><br></pre></td></tr></table></figure><p><strong>åˆ é™¤å®¹å™¨</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker rm å®¹å™¨id</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker rm -f $(docker ps -aq) <span class="comment">#åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</span></span></span><br></pre></td></tr></table></figure><p><strong>å¯åŠ¨å’Œåœæ­¢å®¹å™¨</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker start å®¹å™¨id or å®¹å™¨name <span class="comment"># å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»è¢«åœæ­¢çš„å®¹å™¨</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker restart å®¹å™¨id or å®¹å™¨name <span class="comment"># é‡å¯å®¹å™¨</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker stop å®¹å™¨id or å®¹å™¨name <span class="comment"># åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">kill</span> å®¹å™¨id or å®¹å™¨name <span class="comment"># æ€æ‰è¿è¡Œä¸­çš„å®¹å™¨</span></span></span><br></pre></td></tr></table></figure><h3 id="å…¶ä»–å¸¸ç”¨å‘½ä»¤"><a href="#å…¶ä»–å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å…¶ä»–å¸¸ç”¨å‘½ä»¤"></a>å…¶ä»–å¸¸ç”¨å‘½ä»¤</h3><p><strong>åå°å¯åŠ¨å®¹å™¨</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker run -d é•œåƒå</span></span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹å®¹å™¨ä¸­è¿›ç¨‹ä¿¡æ¯</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker top å®¹å™¨id</span></span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹é•œåƒå…ƒæ•°æ®</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker inspect å®¹å™¨id or å®¹å™¨name</span></span><br></pre></td></tr></table></figure><p><strong>è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">æˆ‘ä»¬é€šå¸¸å®¹å™¨éƒ½æ˜¯ä½¿ç”¨åå°æ–¹å¼è¿è¡Œçš„,éœ€è¦è¿›å…¥å®¹å™¨,ä¿®æ”¹ä¸€äº›é…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å‘½ä»¤</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿›å…¥å®¹å™¨åå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯,å¯ä»¥åœ¨é‡Œé¢æ“ä½œ(å¸¸ç”¨) é€€å‡º shell ä¸ä¼šå¯¼è‡´å®¹å™¨åœæ­¢è¿è¡Œ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it å®¹å™¨id or name bashshell é»˜è®¤å‘½ä»¤è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯,ä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹ å¦‚æœé€€å‡º shellï¼Œå®¹å™¨ä¼šåœæ­¢è¿è¡Œ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker attach å®¹å™¨id or å®¹å™¨name</span></span><br></pre></td></tr></table></figure><p><strong>ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker cp å®¹å™¨id: å®¹å™¨å†…è·¯å¾„ ç›®çš„ä¸»æœºè·¯å¾„</span></span><br></pre></td></tr></table></figure><p><strong>docker systemå‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹dockerç£ç›˜å ç”¨æƒ…å†µ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker system df</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤å¯ä»¥ç”¨äºæ¸…ç†ç£ç›˜ï¼Œåˆ é™¤å…³é—­çš„å®¹å™¨ã€æ— ç”¨çš„æ•°æ®å·å’Œç½‘ç»œ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker system prune</span></span><br><span class="line">-a # æ²¡æœ‰å®¹å™¨ä½¿ç”¨çš„ docker å®¹å™¨éƒ½åˆ é™¤</span><br></pre></td></tr></table></figure><p><strong>æ‰‹åŠ¨æ¸…é™¤ docker é•œåƒ/å®¹å™¨/æ•°æ®å·</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤æ‰€æœ‰ dangling é•œåƒ(å³æ—  tag çš„é•œåƒ)</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker rmi $(docker images | grep <span class="string">"^&lt;none&gt;"</span> | awk <span class="string">"&#123;print <span class="variable">$3</span>&#125;"</span>)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤æ‰€æœ‰ dangling æ•°æ®å·(å³æ— ç”¨çš„ volume)</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker volume rm $(docker volume ls -qf dangling=<span class="literal">true</span>)</span></span><br></pre></td></tr></table></figure><h2 id="Docker-é•œåƒ"><a href="#Docker-é•œåƒ" class="headerlink" title="Docker é•œåƒ"></a>Docker é•œåƒ</h2><h3 id="é•œåƒæ˜¯ä»€ä¹ˆ"><a href="#é•œåƒæ˜¯ä»€ä¹ˆ" class="headerlink" title="é•œåƒæ˜¯ä»€ä¹ˆ"></a>é•œåƒæ˜¯ä»€ä¹ˆ</h3><p>é•œåƒå°±æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ï¼Œå¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ï¼Œç”¨æ¥æ‰“åŒ…è½¯ä»¶è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒå¼€å‘çš„è½¯ä»¶ï¼Œå®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ï¼Œè¿è¡Œæ—¶ï¼Œåº“ï¼Œç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ã€‚</p><p><strong>å¦‚ä½•å¾—åˆ°é•œåƒ</strong></p><ul><li>ä»è¿œå¤„ä»“åº“ä¸‹è½½</li><li>æ‹·è´</li><li>è‡ªå·±åˆ¶ä½œä¸€ä¸ªé•œåƒ dockerfile</li></ul><h3 id="docker-é•œåƒåŠ è½½åŸç†"><a href="#docker-é•œåƒåŠ è½½åŸç†" class="headerlink" title="docker é•œåƒåŠ è½½åŸç†"></a>docker é•œåƒåŠ è½½åŸç†</h3><blockquote><p>UnionFs (è”åˆæ–‡ä»¶ç³»ç»ŸæŸ¥è¯¢)</p></blockquote><p>æˆ‘ä»¬ä¸‹è½½çš„æ—¶å€™çœ‹åˆ°çš„ä¸€å±‚ä¸€å±‚å°±æ˜¯è¿™ä¸ª</p><p>UnionFs (è”åˆæ–‡ä»¶ç³»ç»Ÿ): Union æ–‡ä»¶ç³»ç»Ÿ(UnionFS)æ˜¯ä¸€ç§åˆ†å±‚,è½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿ,å®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä½œä¸ºä¸€æ¬¡æäº¤æ¥ä¸€å±‚å±‚çš„å åŠ ,åŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹, Union æ–‡ä»¶ç³»ç»Ÿæ˜¯ Docker é•œåƒçš„åŸºç¡€,é•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿,åŸºäºåŸºç¡€é•œåƒ(æ²¡æœ‰çˆ¶é•œåƒ),å¯ä»¥åˆ¶ä½œå„ç§å…·ä½“çš„åº”ç”¨é•œåƒ</p><p>ç‰¹æ€§: ä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿ,ä½†ä»å¤–é¢çœ‹èµ·æ¥,åªèƒ½çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ,è”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥,è¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•ç»“æ„</p><blockquote><p>Docker é•œåƒåŠ è½½åŸç†</p></blockquote><p>Docker çš„é•œåƒå®é™…ä¸Šç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆ,è¿™ç§å±‚çº§çš„æ–‡ä»¶ç³»ç»ŸUnionFS</p><p>bootfs(boot file system)ä¸»è¦åŒ…å« bootlloader å’Œ kernel, bootfs ä¸»è¦æ˜¯å¼•å¯¼åŠ è½½ kernel, Linux åˆšå¯åŠ¨æ—¶ä¼šåŠ è½½ bootfs æ–‡ä»¶ç³»ç»Ÿ,åœ¨ Docker é•œåƒçš„æœ€åº•å±‚æ˜¯ bootfs, è¿™ä¸€å±‚ä¸æˆ‘ä»¬å…¸å‹çš„ Linux/Unix ç³»ç»Ÿæ˜¯ä¸€æ ·çš„,åŒ…å« boot åŠ è½½å™¨å’Œå†…æ ¸,å½“ boot åŠ è½½å®Œæˆä¹‹åæ•´ä¸ªå†…æ ¸å°±åœ¨å†…å­˜ä¸­äº†,æ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²ç”± bootfa è½¬äº¤ç»™å†…æ ¸,æ­¤æ—¶ç³»ç»Ÿä¹Ÿä¼šå¸è½½ bootfs</p><p>rootfs(root file system)ï¼Œåœ¨ bootfs ä¹‹ä¸Šï¼ŒåŒ…å«çš„å°±æ˜¯å…¸å‹ Linux ç³»ç»Ÿä¸­çš„ /dev, /proc,/bin, /etc ç­‰æ ‡å‡†ç›®å½•å’Œæ–‡ä»¶, rootfs å°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆ,æ¯”å¦‚ Ubuntu, CentOS ç­‰ç­‰</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9XbElrc3Y1RVVKa2hrdUU3MEZSeGhZRllsSkVpYkl5bmFzOWUxU1BFMDBwNEtsR0RjTUdiN1hwOGliS2hKVXVmdFl1OXNwMmljWmgwSjBsbm11ZVhTWTZWQS82NDA?x-oss-process=image/format,png" alt="é•œåƒåˆ†å±‚"></p><h3 id="åˆ†å±‚ç†è§£"><a href="#åˆ†å±‚ç†è§£" class="headerlink" title="åˆ†å±‚ç†è§£"></a>åˆ†å±‚ç†è§£</h3><p>é•œåƒä¸‹è½½çš„æ—¶å€™æ˜¯ä¸€å±‚ä¸€å±‚çš„åœ¨ä¸‹è½½</p><p>æ€è€ƒ: ä¸ºä»€ä¹ˆ Docker é•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚çš„ç»“æ„å‘¢?</p><p>æœ€å¤§å¥½å¤„,æˆ‘è§‰å¾—è«è¿‡äºèµ„æºå…±äº«äº†!æ¯”å¦‚æœ‰å¤šä¸ªé•œåƒéƒ½ä»ç›¸åŒçš„ Base é•œåƒæ„å»ºè€Œæ¥,é‚£ä¹ˆå®¿ä¸»æœº</p><p>åªéœ€åœ¨ç£ç›˜ä¸Šä¿ç•™ä¸€ä»½ Base é•œåƒ,åŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€è¦åŠ è½½ä¸€ä»½ Base é•œåƒ,è¿™æ ·å°±å¯ä»¥ä¸ºæ‰€æœ‰çš„å®¹å™¨æœåŠ¡äº†,è€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«</p><p>æŸ¥çœ‹é•œåƒåˆ†å±‚çš„æ–¹å¼å¯ä»¥é€šè¿‡ <strong>Docker image inspec</strong>t å‘½ä»¤!</p><h3 id="commit-é•œåƒ"><a href="#commit-é•œåƒ" class="headerlink" title="commit é•œåƒ"></a>commit é•œåƒ</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker commit æäº¤å®¹å™¨æˆä¸ºä¸€ä¸ªæ–°çš„é•œåƒ</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å‘½ä»¤å’ŒgitåŸç†ç±»ä¼¼</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker commit -m=<span class="string">"æäº¤çš„æè¿°ä¿¡æ¯"</span> -a=<span class="string">"ä½œè€…"</span> å®¹å™¨ID ç›®æ ‡é•œåƒå:[tag]</span></span><br></pre></td></tr></table></figure><h2 id="å®¹å™¨æ•°æ®å·"><a href="#å®¹å™¨æ•°æ®å·" class="headerlink" title="å®¹å™¨æ•°æ®å·"></a>å®¹å™¨æ•°æ®å·</h2><h3 id="ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"><a href="#ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·" class="headerlink" title="ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"></a>ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·</h3><p><strong>Docker çš„ç†å¿µå›é¡¾</strong></p><p>å°†åº”ç”¨å’Œç¯å¢ƒéƒ½æ‰“åŒ…æˆä¸€ä¸ªé•œåƒï¼</p><p>å¦‚æœæ•°æ®éƒ½åœ¨å®¹å™¨ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å®¹å™¨åˆ é™¤ï¼Œæ•°æ®å°±ä¼šä¸¢å¤±ï¼<strong><mark> éœ€æ±‚: æ•°æ®å¯ä»¥æŒä¹…åŒ– </mark></strong></p><p>MySQLï¼Œå®¹å™¨åˆ äº†ï¼Œæ•°æ®ä¸¢å¤±. <strong><mark> éœ€æ±‚ï¼šMySQL æ•°æ®å¯ä»¥å­˜å‚¨åˆ°æœ¬åœ° </mark></strong></p><p>å®¹å™¨ä¹‹é—´å¯ä»¥æœ‰ä¸€ä¸ªæ•°æ®å…±äº«çš„æŠ€æœ¯ï¼Docker å®¹å™¨ä¸­äº§ç”Ÿçš„æ•°æ®ï¼ŒåŒæ­¥åˆ°æœ¬åœ°</p><p>ç›®å½•çš„æŒ‚è½½ï¼Œå°†å®¹å™¨å†…çš„ç›®å½•æŒ‚è½½åˆ° Linux ä¸Šé¢</p><p><strong>æ€»ç»“ä¸€å¥è¯: å®¹å™¨çš„æŒä¹…åŒ–å’ŒåŒæ­¥æ“ä½œ! å®¹å™¨é—´ä¹Ÿå¯ä»¥æ•°æ®å…±äº«çš„!</strong></p><h3 id="ä½¿ç”¨æ•°æ®å·"><a href="#ä½¿ç”¨æ•°æ®å·" class="headerlink" title="ä½¿ç”¨æ•°æ®å·"></a>ä½¿ç”¨æ•°æ®å·</h3><blockquote><p>æ–¹æ³•ä¸€ï¼šç›´æ¥ä½¿ç”¨å‘½ä»¤æ¥æŒ‚è½½ -v</p></blockquote><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker run -it -v ä¸»æœºç›®å½•:å®¹å™¨å†…ç›®å½• -p ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨èµ·æ¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ docker inspect å®¹å™¨id</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://static01.imgkr.com/temp/d5a266188ba1427596296c38e950f1fc.png" alt="å®¹å™¨ä¿¡æ¯"></p><h3 id="å®æˆ˜-å®‰è£…-MySQL"><a href="#å®æˆ˜-å®‰è£…-MySQL" class="headerlink" title="å®æˆ˜:å®‰è£… MySQL"></a>å®æˆ˜:å®‰è£… MySQL</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è·å–é•œåƒ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker pull mysql:5.7</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿è¡Œå®¹å™¨,éœ€è¦åšæ•°æ®æŒ‚è½½! <span class="comment"># å®‰è£…å¯åŠ¨mysql,éœ€è¦é…ç½®å¯†ç ,è¿™æ˜¯å®˜æ–¹çš„</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®˜æ–¹æµ‹è¯•: docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=å¯†ç  -d mysql:tag</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å¯mysql</span></span><br><span class="line">-d  åå°è¿è¡Œ</span><br><span class="line">-p  ç«¯å£æ˜ å°„</span><br><span class="line">-v  ç«¯å£æ˜ å°„</span><br><span class="line">-e  ç¯å¢ƒé…ç½®</span><br><span class="line">--name å®¹å™¨å</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=root --name mysql01 mysql:5.7</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°ä½¿ç”¨navicatæ¥æµ‹è¯•è¿æ¥</span></span><br><span class="line"><span class="meta">#</span><span class="bash">navicat-è¿æ¥åˆ°æœåŠ¡å™¨çš„3310 --- 3310å’Œå®¹å™¨å†…çš„3306æ˜ å°„ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¿æ¥ä¸Šäº†</span></span><br></pre></td></tr></table></figure><p>å‡è®¾æˆ‘ä»¬å°†å®¹å™¨åˆ é™¤ï¼ŒæŒ‚è½½åˆ°æœ¬åœ° çš„æ•°æ®å·ä¾æ—§æ²¡æœ‰ä¸¢å¤±ï¼Œè¿™å°±å®ç°äº†å®¹å™¨æ•°æ®æŒä¹…åŒ–åŠŸèƒ½</p><h3 id="å…·åå’ŒåŒ¿åæŒ‚è½½"><a href="#å…·åå’ŒåŒ¿åæŒ‚è½½" class="headerlink" title="å…·åå’ŒåŒ¿åæŒ‚è½½"></a>å…·åå’ŒåŒ¿åæŒ‚è½½</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åŒ¿åæŒ‚è½½</span></span><br><span class="line">-v å®¹å™¨å†…è·¯å¾„</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -p 8080:80 --name nginx01 -v /etc/nginx nginx:alpine</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹æ‰€æœ‰çš„volumeæƒ…å†µ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker volume ls</span></span><br><span class="line">DRIVER              VOLUME NAME</span><br><span class="line">local               b448950f96ca2daed2a90cd21e687431653dc9a2f40ccf51e0ce38432f6564a4</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿™ä¸ªå°±æ˜¯åŒ¿åæŒ‚è½½ï¼Œ-væ—¶åªå†™äº†å®¹å™¨å†…è·¯å¾„ï¼Œæ²¡æœ‰å†™</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é€šè¿‡ -v å·å:å®¹å™¨å†…è·¯å¾„</span></span><br></pre></td></tr></table></figure><p>æ‰€æœ‰çš„ Docker å®¹å™¨å†…çš„å·,æ²¡æœ‰æŒ‡å®šç›®å½•çš„æƒ…å†µä¸‹éƒ½æ˜¯åœ¨ /var/lib/Docker/volumes/ å·å /_data</p><p>æˆ‘ä»¬é€šè¿‡å…·åæŒ‚è½½å¯ä»¥æ–¹ä¾¿çš„æ‰¾åˆ°ä¸€ä¸ªå·ï¼Œå¤§å¤šæ•°æƒ…å†µåœ¨ä½¿ç”¨çš„<code>å…·åæŒ‚è½½</code></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¦‚ä½•ç¡®å®šæ˜¯å…·åæŒ‚è½½è¿˜æ˜¯åŒ¿åæŒ‚è½½è¿˜æ˜¯æŒ‡å®šè·¯å¾„æŒ‚è½½</span></span><br><span class="line">-v å®¹å™¨å†…è·¯å¾„ # åŒ¿åæŒ‚è½½</span><br><span class="line">-v å·å:å®¹å™¨å†…è·¯å¾„ # å…·åæŒ‚è½½</span><br></pre></td></tr></table></figure><p>æ‹“å±•ï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">é€šè¿‡ -v  å®¹å™¨å†…è·¯å¾„: ro rw æ”¹å˜è¯»å†™æƒé™</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ro <span class="built_in">read</span> only</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">read</span> and write</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ä¸€æ—¦è®¾ç½®äº†å®¹å™¨æƒé™,å®¹å™¨å¯¹æŒ‚è½½å‡ºæ¥çš„å†…å®¹å°±æœ‰é™å®šäº†!</span></span><br><span class="line">docker -run -P -name nginx01 -v /etc/nginx:ro nginx</span><br><span class="line">docker -run -P -name nginx01 -v /etc/nginx:rw nginx</span><br><span class="line">ro : åªè¦çœ‹åˆ°roå°±è¯´æ˜è¿™ä¸ªè·¯å¾„åªèƒ½é€šè¿‡å®¿ä¸»æœºæ¥æ”¹å˜,å®¹å™¨å†…éƒ¨æ— æ³•æ“ä½œ</span><br></pre></td></tr></table></figure><h2 id="dockerfile"><a href="#dockerfile" class="headerlink" title="dockerfile"></a>dockerfile</h2><p>dockerfile æ˜¯ç”¨æ¥æ„å»º docker é•œåƒçš„æ–‡ä»¶ï¼Œå‘½ä»¤å‚æ•°è„šæœ¬ã€‚</p><p>æ„å»ºæ­¥éª¤ï¼š</p><ol><li>ç¼–å†™ä¸€ä¸ª dockerfile æ–‡ä»¶</li><li>docker build æ„å»ºæˆä¸ºä¸€ä¸ªé•œåƒ</li><li>docker run é•œåƒ</li><li>docker push å‘å¸ƒé•œåƒï¼ˆdockerHubï¼Œé˜¿é‡Œäº‘é•œåƒä»“åº“ï¼‰</li></ol><p>å¾ˆå¤šå®˜æ–¹é•œåƒéƒ½æ˜¯åŸºç¡€åŒ…ï¼Œå¾ˆå¤šåŠŸèƒ½éƒ½æ˜¯æ²¡æœ‰çš„ï¼Œæˆ‘ä»¬é€šå¸¸è‡ªå·±åˆ›å»ºè‡ªå·±çš„é•œåƒã€‚</p><h3 id="Dockerfileçš„æ„å»ºè¿‡ç¨‹"><a href="#Dockerfileçš„æ„å»ºè¿‡ç¨‹" class="headerlink" title="Dockerfileçš„æ„å»ºè¿‡ç¨‹"></a>Dockerfileçš„æ„å»ºè¿‡ç¨‹</h3><p><strong>åŸºç¡€çŸ¥è¯†</strong>ï¼š</p><ol><li>æ¯ä¸ªä¿ç•™å…³é”®å­—(æŒ‡ä»¤)éƒ½å¿…é¡»æ˜¯å¤§å†™å­—æ¯</li><li>æ‰§è¡Œä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œ</li><li>#è¡¨ç¤ºæ³¨é‡Š</li><li>æ¯ä¸€æ¡å‘½ä»¤éƒ½ä¼šåˆ›å»ºæäº¤ä¸€ä¸ªé•œåƒå±‚ï¼Œå¹¶æäº¤</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/07/20/B6Kh2SznJNAdG7P.png" alt="enter description here"></p><p>Dockerfile æ˜¯é¢å‘å¼€å‘çš„ï¼Œæˆ‘ä»¬ä»¥åè¦å‘å¸ƒé¡¹ç›®ï¼Œåšé•œåƒï¼Œå°±éœ€è¦ç¼–å†™ Dockerfile æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ååˆ†ç®€å•ã€‚</p><p>Docker é•œåƒé€æ¸æˆä¸ºä¼ä¸šäº¤ä»˜çš„æ ‡å‡†ï¼Œå¿…é¡»è¦æŒæ¡</p><p>æ­¥éª¤ï¼š å¼€å‘ï¼Œéƒ¨ç½²ï¼Œè¿ç»´</p><p>Dockerfileï¼šæ„å»ºæ–‡ä»¶ï¼Œå®šä¹‰äº†ä¸€åˆ‡æ­¥éª¤ï¼Œæºä»£ç </p><p>DockerImagesï¼šé€šè¿‡ Dockerfile æ„å»ºç”Ÿæˆçš„é•œåƒï¼Œæœ€ç»ˆå‘å¸ƒå’Œè¿è¡Œçš„äº§å“</p><p>Dockerå®¹å™¨ï¼šå®¹å™¨å°±æ˜¯é•œåƒè¿è¡Œèµ·æ¥æä¾›æœåŠ¡å™¨</p><h3 id="Dockerfileçš„æŒ‡ä»¤"><a href="#Dockerfileçš„æŒ‡ä»¤" class="headerlink" title="Dockerfileçš„æŒ‡ä»¤"></a>Dockerfileçš„æŒ‡ä»¤</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">FROM       # åŸºç¡€é•œåƒ, ä¸€åˆ‡ä»è¿™é‡Œå¼€å§‹æ„å»º</span><br><span class="line">MANTAINER     # é•œåƒæ˜¯è°å†™çš„, å§“å+é‚®ç®±</span><br><span class="line">RUN           # é•œåƒæ„å»ºçš„æ—¶å€™éœ€è¦è¿è¡Œçš„å‘½ä»¤</span><br><span class="line">ADD           # æ­¥éª¤, tomcaté•œåƒ,å‹ç¼©åŒ…! æ·»åŠ å†…å®¹</span><br><span class="line">WORKDIR       # é•œåƒçš„å·¥ä½œç›®å½•</span><br><span class="line">VOLUME        # æŒ‚è½½çš„ç›®å½•</span><br><span class="line">EXPOSE        # æš´éœ²ç«¯å£é…ç½®</span><br><span class="line">CMD           # æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤,åªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆ,å¯è¢«æ›¿ä»£</span><br><span class="line">ENTRYPOINT    # æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤,å¯ä»¥è¿½åŠ å‘½ä»¤</span><br><span class="line">ONBUILD       # å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿ DockerFile è¿™ä¸ªæ—¶å€™å°±ä¼šè¿è¡ŒONBUILDçš„æŒ‡ä»¤,è§¦å‘æŒ‡ä»¤</span><br><span class="line">COPY      #ç±»ä¼¼ADD,å°†æˆ‘ä»¬æ–‡ä»¶æ‹·è´åˆ°é•œåƒä¸­</span><br><span class="line">ENV       # æ„å»ºçš„æ—¶å€™è®¾ç½®ç¯å¢ƒå˜é‡</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://wx1.sbimg.cn/2020/07/06/CXzSa.png" alt="Dockerfileå‘½ä»¤"></p><h3 id="å®æˆ˜æµ‹è¯•"><a href="#å®æˆ˜æµ‹è¯•" class="headerlink" title="å®æˆ˜æµ‹è¯•"></a>å®æˆ˜æµ‹è¯•</h3><p>docker Hub ä¸­99%é•œåƒéƒ½æ˜¯ä» CentOS åŸºç¡€é•œåƒè¿‡æ¥çš„,ç„¶åé…ç½®éœ€è¦çš„è½¯ä»¶</p><blockquote><p>åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ CentOS</p></blockquote><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. ç¼–å†™ dockerfile æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">FROM</span> centos</span><br><span class="line"><span class="keyword">MAINTAINER</span> jiawei&lt;jiaweilee95@<span class="number">126</span>.com&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> MYPATH /usr/local</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> <span class="variable">$&#123;MYPATH&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum -y install vim &amp;&amp; yum -y install net-tools</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;MYPATH&#125;</span> &amp;&amp; <span class="built_in">echo</span> <span class="string">"--end--"</span> &amp;&amp; /bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. é€šè¿‡è¿™ä¸ªæ–‡ä»¶æ„å»ºé•œåƒ</span></span><br><span class="line">docker build -f &lt;dockerfileæ–‡ä»¶ç›®å½•&gt; -t &lt;é•œåƒå:[tag]&gt; .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. æµ‹è¯•</span></span><br></pre></td></tr></table></figure><blockquote><p>CMD å’Œ ENTRYPOINT çš„åŒºåˆ«</p></blockquote><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">CMD           # æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤,åªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆ,å¯è¢«æ›¿ä»£</span><br><span class="line">ENTRYPOINT    # æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤,å¯ä»¥è¿½åŠ å‘½ä»¤</span><br></pre></td></tr></table></figure><p>æµ‹è¯• CMD</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç¼–å†™ dockerfile æ–‡ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vim dockerfile-cmd-test</span></span><br><span class="line"></span><br><span class="line">FROM centos</span><br><span class="line">CMD ["ls", "-a"]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ„å»ºé•œåƒ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker build -f dockerfile-cmd-test -t centos .</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> run è¿è¡Œï¼Œå‘ç°ls -aç”Ÿæ•ˆ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run 963149b1ac5d</span></span><br><span class="line">.</span><br><span class="line">..</span><br><span class="line">.dockerenv</span><br><span class="line">bin</span><br><span class="line">dev</span><br><span class="line">etc</span><br><span class="line">home</span><br><span class="line">lib</span><br><span class="line">lib64</span><br><span class="line">lost+found</span><br><span class="line">media</span><br><span class="line">mnt</span><br><span class="line">opt</span><br><span class="line">proc</span><br><span class="line">root</span><br><span class="line">run</span><br><span class="line">sbin</span><br><span class="line">srv</span><br><span class="line">sys</span><br><span class="line">tmp</span><br><span class="line">usr</span><br><span class="line">var</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æƒ³è¦è¿½åŠ ä¸€ä¸ªå‘½ä»¤ -l  ls -al</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run 963149b1ac5d -l</span></span><br><span class="line">docker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused "exec: \"-l\": executable file not found in $PATH": unknown.</span><br><span class="line">ERRO[0000] error waiting for container: context canceled </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> cmdçš„æƒ…å†µä¸‹ æ›¿æ¢äº†CMD[<span class="string">"ls"</span>,<span class="string">"-a"</span>]å‘½ä»¤,-ä¸æ˜¯å‘½ä»¤è¿½åŠ </span></span><br></pre></td></tr></table></figure><p>ENTRYPOINT æ˜¯å¾€å‘½ä»¤ä¹‹åè¿½åŠ </p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç¼–å†™dockerfileæ–‡ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vim dockerfile-cmd-test</span></span><br><span class="line"></span><br><span class="line">FROM centos</span><br><span class="line">ENTRYPOINT ["ls", "-a"]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ„å»ºé•œåƒ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker build -f dockerfile-cmd-test -t centos .</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> run è¿è¡Œï¼Œå‘ç°ls -aç”Ÿæ•ˆ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run 963149b1ac5d</span></span><br><span class="line">.</span><br><span class="line">..</span><br><span class="line">.dockerenv</span><br><span class="line">bin</span><br><span class="line">dev</span><br><span class="line">etc</span><br><span class="line">home</span><br><span class="line">lib</span><br><span class="line">lib64</span><br><span class="line">lost+found</span><br><span class="line">media</span><br><span class="line">mnt</span><br><span class="line">opt</span><br><span class="line">proc</span><br><span class="line">root</span><br><span class="line">run</span><br><span class="line">sbin</span><br><span class="line">srv</span><br><span class="line">sys</span><br><span class="line">tmp</span><br><span class="line">usr</span><br><span class="line">var</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æƒ³è¦è¿½åŠ ä¸€ä¸ªå‘½ä»¤ -l  ls -al</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run 963149b1ac5d -l</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿™é‡Œæ˜¯ç”Ÿæ•ˆçš„</span></span><br></pre></td></tr></table></figure><h3 id="å®æˆ˜ï¼šTomcaté•œåƒ"><a href="#å®æˆ˜ï¼šTomcaté•œåƒ" class="headerlink" title="å®æˆ˜ï¼šTomcaté•œåƒ"></a>å®æˆ˜ï¼šTomcaté•œåƒ</h3><ol><li>å‡†å¤‡é•œåƒæ–‡ä»¶ tomcat å‹ç¼©åŒ…ï¼Œjdk å‹ç¼©åŒ…</li><li><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://img-blog.csdnimg.cn/20200619184436678.png#pic_center" alt=""></li><li>ç¼–å†™ Dockerfile æ–‡ä»¶ï¼Œå®˜æ–¹å‘½å <mark>Dockerfile</mark>ï¼Œbuild ä¼šè‡ªåŠ¨å¯»æ‰¾è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¸éœ€è¦ -f æŒ‡å®šæ–‡ä»¶äº†</li></ol><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">FROM centos</span><br><span class="line">MAINTAINER czp&lt;2432688105@qq.com&gt;</span><br><span class="line"></span><br><span class="line">COPY readme.txt /usr/local/readme.txt</span><br><span class="line"></span><br><span class="line">ADD apache-tomcat-9.0.33.tar.gz /usr/local/</span><br><span class="line"></span><br><span class="line">ADD jdk-8u221-linux-x64.rpm /usr/local/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">RUN yum -y install vim</span><br><span class="line"> </span><br><span class="line">ENV MYPATH /usr/local</span><br><span class="line"> </span><br><span class="line">WORKDIR $MYPATH</span><br><span class="line"> </span><br><span class="line">ENV JAVA_HOME /usr/local/jdk1.8.0_11</span><br><span class="line">ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br><span class="line"></span><br><span class="line">ENV CATALINA_HOME /usr/local/apache-tomcat-9.0.33</span><br><span class="line"></span><br><span class="line">ENV CATALINA_BASH /usr/local/apache-tomcat-9.0.33</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é…ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">ENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:/CATALINA_HOME/bin</span><br><span class="line"></span><br><span class="line">EXPOSE 8080</span><br><span class="line"></span><br><span class="line">CMD /usr/local/apache-tomcat-9.0.33/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-9.0.33/bin/logs/catalina.out</span><br></pre></td></tr></table></figure><ol start="4"><li><p>æ„å»ºé•œåƒ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> docker build -t diytomcat .</span></span><br></pre></td></tr></table></figure></li><li><p>æœ¬åœ°æµ‹è¯•</p><blockquote><p>curl localhost:9090</p></blockquote></li></ol><h3 id="å‘å¸ƒé•œåƒ"><a href="#å‘å¸ƒé•œåƒ" class="headerlink" title="å‘å¸ƒé•œåƒ"></a>å‘å¸ƒé•œåƒ</h3><blockquote><p>Dockerhub</p></blockquote><ol><li><p>åœ°å€ hub.docker.com æ³¨å†Œè‡ªå·±çš„è´¦å·!</p></li><li><p>ç¡®å®šè¿™ä¸ªè´¦å·å¯ä»¥ç™»å½•</p></li><li><p>åœ¨æœåŠ¡å™¨ä¸Šæäº¤è‡ªå·±çš„é•œåƒ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker login --<span class="built_in">help</span></span></span><br><span class="line"></span><br><span class="line">Usage:  docker login [OPTIONS] [SERVER]</span><br><span class="line"></span><br><span class="line">Log in to a docker registry.</span><br><span class="line">If no server is specified, the default is defined by the daemon.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -p, --password string   Password</span><br><span class="line">      --password-stdin    Take the password from stdin</span><br><span class="line">  -u, --username string   Username</span><br></pre></td></tr></table></figure></li><li><p>ç™»å½•å®Œæ¯•å°±å¯ä»¥æäº¤é•œåƒäº†,å°±æ˜¯ä¸€æ­¥ docker push</p></li></ol><blockquote><p>æäº¤åˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“</p></blockquote><ol><li><p>ç™»å½•é˜¿é‡Œäº‘</p></li><li><p>æ‰¾åˆ°å®¹å™¨é•œåƒæœåŠ¡</p></li><li><p>åˆ›å»ºå‘½åç©ºé—´</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/08/14/jFcRduLDS4wpnsY.png" alt="åˆ›å»ºå‘½åç©ºé—´"></p></li><li><p>åˆ›å»ºå®¹å™¨é•œåƒ</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/08/14/rGJLpDIsCcE49b7.png" alt="åˆ›å»ºå®¹å™¨é•œåƒ"></p></li><li><p>æµè§ˆé˜¿é‡Œäº‘</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/08/14/axQFySgmeY3OTCB.png" alt="æµè§ˆé˜¿é‡Œäº‘"></p></li></ol><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://static.packt-cdn.com/products/9781787120532/graphics/B06157_10_04-1.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://blog.fntsr.tw/wp-content/uploads/2014/12/Docker-Command-Diagram.png" alt=""></p><h2 id="Docker-ç½‘ç»œåŸç†"><a href="#Docker-ç½‘ç»œåŸç†" class="headerlink" title="Docker ç½‘ç»œåŸç†"></a>Docker ç½‘ç»œåŸç†</h2><h3 id="ç†è§£-Docker0"><a href="#ç†è§£-Docker0" class="headerlink" title="ç†è§£ Docker0"></a>ç†è§£ Docker0</h3><p>æ¸…ç©ºæ‰€æœ‰ç¯å¢ƒ</p><blockquote><p>æµ‹è¯•</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/07/20/PHnrqkQRxTziwvt.png" alt="enter description here"></p><p>ä¸‰ä¸ªç½‘ç»œ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> docker æ˜¯å¦‚ä½•å¤„ç†å®¹å™¨ç½‘ç»œè®¿é—®çš„ï¼Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -P --name tomcat01 tomcat</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç½‘ç»œåœ°å€ ip addr å‘ç°å®¹å™¨å¯åŠ¨çš„æ—¶å€™ä¼šå¾—åˆ°ä¸€ä¸ªeth0@if8 ipåœ°å€ï¼Œdockeråˆ†é…çš„</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it tomcat01 ip addr</span></span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: sit0@NONE: &lt;NOARP&gt; mtu 1480 qdisc noop state DOWN group default qlen 1000</span><br><span class="line">    link/sit 0.0.0.0 brd 0.0.0.0</span><br><span class="line">7: eth0@if8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default</span><br><span class="line">    link/ether 02:42:ac:11:00:03 brd ff:ff:ff:ff:ff:ff link-netnsid 0</span><br><span class="line">    inet 172.17.0.3/16 brd 172.17.255.255 scope global eth0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line"><span class="meta">#</span><span class="bash"> linuxèƒ½pingé€šå®¹å™¨å†…éƒ¨</span></span><br></pre></td></tr></table></figure><blockquote><p>åŸç†</p></blockquote><ol><li><p>æˆ‘ä»¬æ¯å¯åŠ¨ä¸€ä¸ª docker å®¹å™¨ï¼Œdocker å°±ä¼šç»™ docker å®¹å™¨åˆ†é…ä¸€ä¸ª ipï¼Œæˆ‘ä»¬åªè¦å®‰è£…äº† dockerï¼Œå°±ä¼šæœ‰ä¸€ä¸ªç½‘å¡ Docker0</p><p>æ¡¥æ¥æ¨¡å¼ï¼Œä½¿ç”¨çš„æ˜¯ veth-pair æŠ€æœ¯</p><p>å†æ¬¡æµ‹è¯• ip addr</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/07/20/2esohKzy4MgYbXu.png" alt="enter description here"></p></li><li><p>å†å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œå‘ç°åˆå¤šäº†ä¸€å¯¹ç½‘å¡</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/07/20/rFbTA9SH3LfIhDz.png" alt="enter description here"></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æˆ‘ä»¬å‘ç°è¿™ä¸ªå®¹å™¨å¸¦æ¥ç½‘å¡, éƒ½æ˜¯ä¸€å¯¹å¯¹çš„</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> veth-pair å°±æ˜¯ä¸€å¯¹è™šæ‹Ÿæœºè®¾å¤‡æ¥å£,ä»–ä»¬éƒ½æ˜¯æˆå¯¹å‡ºç°çš„,ä¸€ç«¯è¿ç€åè®®,ä¸€ç«¯å½¼æ­¤ç›¸è¿</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ­£å› ä¸ºæœ‰è¿™ä¸ªç‰¹æ€§,veth-pair å……å½“æ¡¥æ¢,è¿æ¥å„ç§è™šæ‹Ÿç½‘ç»œè®¾å¤‡çš„</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> openStac,Dockerå®¹å™¨ä¹‹é—´çš„è¿æ¥,OVSçš„è¿æ¥,éƒ½æ˜¯ä½¿ç”¨ veth-pair æŠ€æœ¯</span></span><br></pre></td></tr></table></figure></li><li><p>æµ‹è¯• tomcat01 å’Œ tomcat02 æ˜¯å¦èƒ½ ping é€š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç»“è®ºï¼šå®¹å™¨å’Œå®¹å™¨ä¹‹é—´æ˜¯å¯ä»¥äº’ç›¸pingé€šçš„</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/07/20/RTQcMNI1js4gp8q.png" alt="enter description here"></p></li></ol><p>ç»“è®º: <strong>tomcat01 å’Œ tomcat02 æ˜¯å…±ç”¨çš„ä¸€ä¸ªè·¯ç”±å™¨, Docker0</strong></p><p>æ‰€æœ‰çš„å®¹å™¨ä¸æŒ‡å®šç½‘ç»œçš„æƒ…å†µä¸‹,éƒ½æ˜¯ Docker0 è·¯ç”±çš„, Docker ä¼šç»™æˆ‘ä»¬çš„å®¹å™¨åˆ†é…ä¸€ä¸ªé»˜è®¤çš„å¯ç”¨IP</p><blockquote><p>å°ç»“</p></blockquote><p>Docker ä½¿ç”¨çš„æ˜¯ Linux çš„æ¡¥æ¥ï¼Œå®¿ä¸»æœºæ˜¯ä¸€ä¸ª Docker å®¹å™¨çš„ç½‘æ¡¥ Docker0</p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/07/20/FjIyzRZqDNavBeb.png" alt="enter description here"></p><p>Docker ä¸­æ‰€æœ‰çš„ç½‘ç»œæ¥å£éƒ½æ˜¯è™šæ‹Ÿçš„,è™šæ‹Ÿçš„è½¬å‘æ•ˆç‡é«˜ï¼ˆå†…ç½‘ä¼ é€’æ–‡ä»¶ï¼‰</p><p><strong>åªè¦å®¹å™¨åˆ é™¤,å¯¹åº”ç½‘æ¡¥çš„ä¸€å¯¹å°±æ²¡äº†</strong></p><h3 id="â€“link"><a href="#â€“link" class="headerlink" title="â€“link"></a>â€“link</h3><blockquote><p>æ€è€ƒä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå¾®æœåŠ¡ï¼Œdatabase url = ipï¼›é¡¹ç›®ä¸é‡å¯ï¼Œæ•°æ®åº“ ip æ”¹å˜äº†ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡åå­—æ¥è®¿é—®å®¹å™¨å—ï¼Ÿ</p></blockquote><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it tomcat02 ping tomcat01</span></span><br><span class="line">ping: tomcat01: Name or service not known</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é€šè¿‡--linkå¯ä»¥è§£å†³ç½‘ç»œè¿æ¥é—®é¢˜</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -P --name tomcat03 --link tomcat02 tomcat</span></span><br><span class="line">6aedb0ba2e798b184f42f98e4a38ce2a54cb97d47b985d17065b064a7f73d404</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it tomcat03 ping tomcat02</span></span><br><span class="line">PING tomcat02 (172.17.0.3) 56(84) bytes of data.</span><br><span class="line">64 bytes from tomcat02 (172.17.0.3): icmp_seq=1 ttl=64 time=0.061 ms</span><br><span class="line">64 bytes from tomcat02 (172.17.0.3): icmp_seq=2 ttl=64 time=0.040 ms</span><br><span class="line">64 bytes from tomcat02 (172.17.0.3): icmp_seq=3 ttl=64 time=0.040 ms</span><br><span class="line">64 bytes from tomcat02 (172.17.0.3): icmp_seq=4 ttl=64 time=0.082 ms</span><br><span class="line">64 bytes from tomcat02 (172.17.0.3): icmp_seq=5 ttl=64 time=0.039 ms</span><br><span class="line">^C</span><br><span class="line">--- tomcat02 ping statistics ---</span><br><span class="line">5 packets transmitted, 5 received, 0% packet loss, time 134ms</span><br><span class="line">rtt min/avg/max/mdev = 0.039/0.052/0.082/0.018 ms</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åå‘æ˜¯å¦å¯ä»¥pingé€šå—</span></span><br><span class="line">[root@CZP ~]# docker exec -it tomcat02 ping tomcat03</span><br></pre></td></tr></table></figure><p>-link <strong>æœ¬è´¨å°±æ˜¯åœ¨ hosts ä¸­æ·»åŠ æ˜ å°„</strong></p><p>æˆ‘ä»¬ç°åœ¨ç© docker å·²ç»ä¸å»ºè®®ä½¿ç”¨ â€“link äº†!</p><p>è‡ªå®šä¹‰ç½‘ç»œ,ä¸ä½¿ç”¨ Docker0!</p><p>Docker0 é—®é¢˜: å®ƒä¸æ”¯æŒå®¹å™¨åè¿æ¥è®¿é—®!</p><h3 id="è‡ªå®šä¹‰ç½‘ç»œ"><a href="#è‡ªå®šä¹‰ç½‘ç»œ" class="headerlink" title="è‡ªå®šä¹‰ç½‘ç»œ"></a>è‡ªå®šä¹‰ç½‘ç»œ</h3><blockquote><p>æŸ¥çœ‹æ‰€æœ‰çš„ Docker ç½‘ç»œ</p></blockquote><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker network ls</span></span><br><span class="line">NETWORK ID          NAME                DRIVER              SCOPE</span><br><span class="line">86c70406cec4        bridge              bridge              local</span><br><span class="line">e2cd35c81ffb        host                host                local</span><br><span class="line">c6fe6b78ab62        none                null                local</span><br></pre></td></tr></table></figure><p><strong>ç½‘ç»œæ¨¡å¼</strong></p><p>bridge: æ¡¥æ¥æ¨¡å¼ docker æ­æ¡¥ï¼ˆé»˜è®¤ï¼‰</p><p>noneï¼š ä¸é…ç½®ç½‘ç»œ</p><p>hostï¼šå’Œå®¿ä¸»æœºå…±äº«ç½‘ç»œ</p><p>container: å®¹å™¨å†…ç½‘ç»œè¿é€šï¼ˆç”¨å¾—å°‘ï¼Œå±€é™å¾ˆå¤§ï¼‰</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç›´æ¥å¯åŠ¨çš„å‘½ä»¤ --net brodge,é»˜è®¤docker0</span></span><br><span class="line">docker run -d -P --name tomcat01 --net bridge tomcat</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> docker0çš„ç‰¹ç‚¹: é»˜è®¤çš„,åŸŸåæ˜¯ä¸èƒ½è®¿é—®çš„, --linkå¯ä»¥æ‰“é€šè¿æ¥</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è‡ªå®šä¹‰ç½‘ç»œ</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --driver bridge</span></span><br><span class="line">docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet</span><br><span class="line">87d0f163b3a0c857d281bf4e97675d03555486c530969d1cb04950f203133b55</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker network ls</span></span><br><span class="line">NETWORK ID          NAME                DRIVER              SCOPE</span><br><span class="line">86c70406cec4        bridge              bridge              local</span><br><span class="line">e2cd35c81ffb        host                host                local</span><br><span class="line">87d0f163b3a0        mynet               bridge              local</span><br><span class="line">c6fe6b78ab62        none                null                local</span><br></pre></td></tr></table></figure><p>è‡ªå·±çš„ç½‘ç»œåˆ›å»ºå¥½äº†</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> Docker network inspect mynet</span></span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "Name": "mynet",</span><br><span class="line">        "Id": "87d0f163b3a0c857d281bf4e97675d03555486c530969d1cb04950f203133b55",</span><br><span class="line">        "Created": "2020-07-08T01:56:39.0611734Z",</span><br><span class="line">        "Scope": "local",</span><br><span class="line">        "Driver": "bridge",</span><br><span class="line">        "EnableIPv6": false,</span><br><span class="line">        "IPAM": &#123;</span><br><span class="line">            "Driver": "default",</span><br><span class="line">            "Options": &#123;&#125;,</span><br><span class="line">            "Config": [</span><br><span class="line">                &#123;</span><br><span class="line">                    "Subnet": "192.168.0.0/16",</span><br><span class="line">                    "Gateway": "192.168.0.1"</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        "Internal": false,</span><br><span class="line">        "Attachable": false,</span><br><span class="line">        "Ingress": false,</span><br><span class="line">        "ConfigFrom": &#123;</span><br><span class="line">            "Network": ""</span><br><span class="line">        &#125;,</span><br><span class="line">        "ConfigOnly": false,</span><br><span class="line">        "Containers": &#123;&#125;,</span><br><span class="line">        "Options": &#123;&#125;,</span><br><span class="line">        "Labels": &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -P --name tomcat-net-01 --net mynet tomcat</span></span><br><span class="line">f8acd6bd8a21c27ca293d4c2d150448299192bd1f58b41d273d61d24cfe7d9a8</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker run -d -P --name tomcat-net-02 --net mynet tomcat</span></span><br><span class="line">84b8b3a4a45c579eb479dfa036bc6e88f2c4ea5a0e8edd0c8f225bddebb2747c</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker network inspect mynet</span></span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "Name": "mynet",</span><br><span class="line">        "Id": "87d0f163b3a0c857d281bf4e97675d03555486c530969d1cb04950f203133b55",</span><br><span class="line">        "Created": "2020-07-08T01:56:39.0611734Z",</span><br><span class="line">        "Scope": "local",</span><br><span class="line">        "Driver": "bridge",</span><br><span class="line">        "EnableIPv6": false,</span><br><span class="line">        "IPAM": &#123;</span><br><span class="line">            "Driver": "default",</span><br><span class="line">            "Options": &#123;&#125;,</span><br><span class="line">            "Config": [</span><br><span class="line">                &#123;</span><br><span class="line">                    "Subnet": "192.168.0.0/16",</span><br><span class="line">                    "Gateway": "192.168.0.1"</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        "Internal": false,</span><br><span class="line">        "Attachable": false,</span><br><span class="line">        "Ingress": false,</span><br><span class="line">        "ConfigFrom": &#123;</span><br><span class="line">            "Network": ""</span><br><span class="line">        &#125;,</span><br><span class="line">        "ConfigOnly": false,</span><br><span class="line">        "Containers": &#123;</span><br><span class="line">            "84b8b3a4a45c579eb479dfa036bc6e88f2c4ea5a0e8edd0c8f225bddebb2747c": &#123;</span><br><span class="line">                "Name": "tomcat-net-02",</span><br><span class="line">                "EndpointID": "889a15d10cf311193a18033af3a75eefa6a074291e84aab65e9d88f4b9889bf2",</span><br><span class="line">                "MacAddress": "02:42:c0:a8:00:03",</span><br><span class="line">                "IPv4Address": "192.168.0.3/16",</span><br><span class="line">                "IPv6Address": ""</span><br><span class="line">            &#125;,</span><br><span class="line">            "f8acd6bd8a21c27ca293d4c2d150448299192bd1f58b41d273d61d24cfe7d9a8": &#123;</span><br><span class="line">                "Name": "tomcat-net-01",</span><br><span class="line">                "EndpointID": "810c98a4ee532167410f1bc28acbc1d3aac11390e7c5a0c0864c20832bf06fb6",</span><br><span class="line">                "MacAddress": "02:42:c0:a8:00:02",</span><br><span class="line">                "IPv4Address": "192.168.0.2/16",</span><br><span class="line">                "IPv6Address": ""</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        "Options": &#123;&#125;,</span><br><span class="line">        "Labels": &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å†æ¬¡æµ‹è¯•pingè¿æ¥</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it tomcat-net-01 ping 192.168.0.3</span></span><br><span class="line">PING 192.168.0.3 (192.168.0.3) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.0.3: icmp_seq=1 ttl=64 time=0.056 ms</span><br><span class="line">64 bytes from 192.168.0.3: icmp_seq=2 ttl=64 time=0.156 ms</span><br><span class="line">64 bytes from 192.168.0.3: icmp_seq=3 ttl=64 time=0.086 ms</span><br><span class="line">64 bytes from 192.168.0.3: icmp_seq=4 ttl=64 time=0.037 ms</span><br><span class="line">^C</span><br><span class="line">--- 192.168.0.3 ping statistics ---</span><br><span class="line">4 packets transmitted, 4 received, 0% packet loss, time 162ms</span><br><span class="line">rtt min/avg/max/mdev = 0.037/0.083/0.156/0.046 ms</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç°åœ¨ä¸ä½¿ç”¨--linkä¹Ÿå¯ä»¥pingå®¹å™¨åå­—</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it tomcat-net-02 ping 192.168.0.2</span></span><br><span class="line">PING 192.168.0.2 (192.168.0.2) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.0.2: icmp_seq=1 ttl=64 time=0.039 ms</span><br><span class="line">64 bytes from 192.168.0.2: icmp_seq=2 ttl=64 time=0.066 ms</span><br><span class="line">^C</span><br><span class="line">--- 192.168.0.2 ping statistics ---</span><br><span class="line">2 packets transmitted, 2 received, 0% packet loss, time 47ms</span><br><span class="line">rtt min/avg/max/mdev = 0.039/0.052/0.066/0.015 ms</span><br></pre></td></tr></table></figure><p>è‡ªå®šä¹‰ç½‘ç»œ docker éƒ½å¸®æˆ‘ä»¬ç»´æŠ¤å¥½äº†å¯¹åº”å…³ç³»ï¼Œæ¨èå¹³æ—¶è¿™æ ·ä½¿ç”¨ç½‘ç»œï¼</p><p>å¥½å¤„:</p><p>ä¸åŒçš„é›†ç¾¤ä½¿ç”¨ä¸åŒçš„é›†ç¾¤ï¼Œä¿è¯é›†ç¾¤ä¹‹é—´æ˜¯å®‰å…¨å’Œå¥åº·çš„</p><h3 id="ç½‘ç»œè¿é€š"><a href="#ç½‘ç»œè¿é€š" class="headerlink" title="ç½‘ç»œè¿é€š"></a>ç½‘ç»œè¿é€š</h3><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/07/20/DKgzSZ2xc4LXoqY.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/Kaviilee/cdn@1.1/blog/images/loader/imageloading.svg" data-original="https://i.loli.net/2020/07/20/lrGh3epJAs1ntXx.png" alt=""></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">æµ‹è¯•æ‰“é€š tomcat01åˆ°tomcat-net-01</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker network connect mynet tomcat01</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿é€šä¹‹åå°±æ˜¯å°† tomcat01 æ”¾åˆ°äº†mynetç½‘ç»œä¸‹</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸€ä¸ªå®¹å™¨ä¸¤ä¸ªip   é˜¿é‡Œäº‘: å…¬ç½‘ip ç§ç½‘ip</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 01 è¿é€šok</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it tomcat01 ping tomcat-net-01</span></span><br><span class="line">PING tomcat-net-01 (192.168.0.2) 56(84) bytes of data.</span><br><span class="line">64 bytes from tomcat-net-01.mynet (192.168.0.2): icmp_seq=1 ttl=64 time=0.087 ms</span><br><span class="line">64 bytes from tomcat-net-01.mynet (192.168.0.2): icmp_seq=2 ttl=64 time=0.065 ms</span><br><span class="line">^C</span><br><span class="line">--- tomcat-net-01 ping statistics ---</span><br><span class="line">2 packets transmitted, 2 received, 0% packet loss, time 71ms</span><br><span class="line">rtt min/avg/max/mdev = 0.065/0.076/0.087/0.011 ms</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 02 ä¾æ—§æ˜¯è¿ä¸é€šçš„</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker <span class="built_in">exec</span> -it tomcat02 ping tomcat-net-01</span></span><br><span class="line">ping: tomcat-net-01: Name or service not known</span><br></pre></td></tr></table></figure><p>ç»“è®ºï¼šè¦è·¨ç½‘ç»œæ“ä½œåˆ«äººï¼Œå°±éœ€è¦ä½¿ç”¨ <strong>docker network connect</strong> è¿é€š</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯åœ¨çœ‹å®Œç‹‚ç¥çš„ Docker è§†é¢‘ä¹‹ååšçš„ç¬”è®°~å­˜æ¡£ç”¨&lt;/p&gt;
    
    </summary>
    
    
      <category term="æŠ€æœ¯" scheme="https://kaviilee.github.io/blog/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Docker" scheme="https://kaviilee.github.io/blog/tags/docker/"/>
    
  </entry>
  
</feed>
